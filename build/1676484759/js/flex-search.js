var myLazyLoad,map,drawingManager,mapCenter,mapBounds,mapZoom,centerBounds,mapNotLoaded=!1,autoMapSearch=!0,polygons=[],initPolygons=[],lastBounds="",initLoadMLSAnonymous=!1,xDown=null,yDown=null;!function(A){var e,z,j,O,M,S,T,B,$,re,Z,a,t,E,Q,N,U,ne,W,R,H,F,V,X,Y,G,s,i,r,p,n,l,J,K,ee,ae,te,se,le,o,d,oe;function de(e,a){a.hasClass("ps-container")||setTimeout(function(){a.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2)}function pe(e){var a;e.hasClass("active_modal")?A(".overlay_modal").removeClass("active_modal"):(e.addClass("active_modal"),e.find("form").find("input").eq(0).focus(),A("html").addClass("modal_mobile")),(a=e.find(".close")).click(function(){a.closest(".active_modal").removeClass("active_modal"),A("html").removeClass("modal_mobile")})}function ie(){var T,e,a,t;!1!==Z&&(T=!!arguments.length,!1!==K&&(e=map.getBounds(),t=map.getCenter(),a=map.getZoom(),A("#idx_center").val(t.lat()+" "+t.lng()),A("#idx_zoom").val(a),A("#idx_bounds").val([e.getNorthEast().lat(),e.getNorthEast().lng(),e.getSouthWest().lat(),e.getSouthWest().lng()].join(" ")),console.dir({center:{lat:t.lat(),lng:t.lng()},bounds:[e.getNorthEast().lat(),e.getNorthEast().lng(),e.getSouthWest().lat(),e.getSouthWest().lng()],zoom:a})),t=A("#flex-idx-search-form").serialize(),A("html, body").animate({scrollTop:0},700),A("#filter-views ul li.active").click(),A("#wrap-list-result").addClass("ib-loading-results"),A.ajax({url:flex_idx_search_params.lookupSearch,method:"POST",data:{idx:t,access_token:flex_idx_search_params.accessToken,flex_credentials:Cookies.get("ib_lead_token")},dataType:"json",success:function(e){"undefined"!=typeof iboost_track_gid&&0<e.total&&gtag("event","Listing_view",{send_to:__flex_g_settings.g_adwords_account,listing_search_term:e.keyword+" "+e.heading.price.min+" to "+e.heading.price.max,listing_pagetype:"searchresults",listing_totalvalue:e.total});var a=[],t=[],s=e.items,l=e.paging,i=e.search_labels,r="",n="",o="",r="Any Price"==i.range_price?word_translate.any_price:((labelPriceTemp=i.range_price.split(" - ")).forEach(function(e,a){"Any Price"==e&&(labelPriceTemp[a]=word_translate.any_price)}),labelPriceTemp.join(" - ")),n="Any Bed"==i.range_bed?word_translate.any_bed:((labelBedTemp=i.range_bed.split(" - ")).forEach(function(e,a){"Any Bed"==e&&(labelBedTemp[a]=word_translate.any_bed)}),labelBedTemp.join(" - ")),o="Any Bath"==i.range_bath?word_translate.any_bath:((labelBathTemp=i.range_bed.split(" - ")).forEach(function(e,a){"Any Bath"==e&&(labelBathTemp[a]=word_translate.any_bath)}),labelBathTemp.join(" - ")),r=(A("#text-price").html(r),A("#text-beds").html(n),A("#text-baths").html(o),"Homes, Condominiums"==i.property_type?A("#text-type").html(word_translate.homes_condominiums):"Condominiums"==i.property_type?A("#text-type").html(word_translate.condominiums):"Homes, Condominiums, Townhouses"==i.property_type?A("#text-type").html(word_translate.homes_condominiums_townhouses):"Homes"==i.property_type?A("#text-type").html(word_translate.homes):A("#text-type").html(word_translate.type),A("#properties-found").html("<span>"+_.formatShortPrice(e.total)+"</span> "+word_translate.properties),A("#fs_inner_c").html(_.formatShortPrice(e.total)),A("#info-subfilters").html(word_translate.showing+" "+l.offset.start+" "+word_translate.to+" "+l.offset.end+" "+word_translate.of+" "+_.formatPrice(e.total)+" "+word_translate.properties+"."),labelPricemax="Any Price"==e.heading.price.max?word_translate.any_price:((labelPricemaxTemp=e.heading.price.max.split(" - ")).forEach(function(e,a){"Any Price"==e&&(labelPricemaxTemp[a]=word_translate.any_price)}),labelPricemaxTemp.join(" - ")),console.log(e.keyword),e.keyword.replace("Condominiums",word_translate.condominiums).replace("Single Family Homes",word_translate.single_family_homes).replace("Townhouses",word_translate.townhouses).replace(" and "," "+word_translate.and+" ").replace(" in "," "+word_translate.in+" ")+" "+word_translate.from+" "+e.heading.price.min+" "+word_translate.to+" "+labelPricemax);A("#title-subfilters").html(r),document.title=r;for(var d=0,p=s.length;d<p;d++){var c,m=e.items[d],h=(m.address_short=m.address_short.replace(/# /,"#"),m.address_large=m.address_large.replace(/ , /,", "),m.address_large.split(", ")),h=(g=null!=h[1]?(c=h[1].replace(/[\d\s]/g,""),h[0]+", "+h[1]):(c=h[0],h[0]),m.address_short+" "+h[0]+", "+c),v='<div class="ms-title-address -address-top">'+m.address_short+'</div><div class="ms-br-line">,</div><div class="ms-title-address -address-bottom">'+g+"</div>",g="<span>"+m.address_short+" "+g+"</span>",h=(a.push('<li data-geocode="'+m.lat+":"+m.lng+'" data-class-id="'+m.class_id+'" data-mls="'+m.mls_num+'" data-address="'+m.address_short+'" class="propertie">'),1==m.status&&"yes"===m.recently_listed&&a.push('<div class="flex-property-new-listing">'+word_translate.new_listing+"</div>"),6==m.status&&a.push('<div class="flex-property-new-listing">'+m.status_name+"</div>"),a.push('<h2 title="'+h+'" class="ms-property-address">'+v+"</h2>"),a.push('<ul class="features">'),a.push('<li class="address">'+g+"</li>"),a.push('<li class="price"><a href="'+flex_idx_search_params.propertyDetailPermalink+"/"+m.slug+'">$'+_.formatPrice(m.price)+"</a></li>"),""==m.reduced?a.push('<li class="pr">'+m.reduced+"</li>"):m.reduced<0?a.push('<li class="pr down">'+m.reduced+"%</li>"):a.push('<li class="pr up">'+m.reduced+"%</li>"),word_translate.beds),g=word_translate.baths,h=1<m.bed?word_translate.beds:word_translate.bed,g=1<m.bath?word_translate.baths:word_translate.bath,h=(a.push('<li class="beds">'+m.bed+" <span>"+h+" </span></li>"),0<m.baths_half?a.push('<li class="baths">'+m.bath+".5 <span>"+g+" </span></li>"):a.push('<li class="baths">'+m.bath+" <span>"+g+" </span></li>"),a.push('<li class="living-size"> <span>'+_.formatPrice(m.sqft)+"</span>"+word_translate.sqft+" <span>("+m.living_size_m2+" m²)</span></li>"),a.push('<li class="price-sf"><span>$'+m.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+m.price_sqft_m2+" m²)</span></li>"),""!==m.development&&null!=m.development?a.push('<li class="development"><span>'+m.development+"</span></li>"):""!==m.complex&&"null"!=m.complex?a.push('<li class="development"><span>'+m.complex+"</span></li>"):a.push('<li class="development"><span>'+m.subdivision+"</span></li>"),e.payload.hasOwnProperty("board_info")&&e.board_info.hasOwnProperty("board_logo_url")&&""!=e.board_info.board_logo_url&&null!=e.board_info.board_logo_url&&a.push('<li class="ms-logo-board"><img src="'+e.board_info.board_logo_url+'"></li>'),a.push("</ul>"),"");m.gallery.length<=1&&(h="no-zoom"),a.push('<div class="wrap-slider '+h+'">'),a.push("<ul>");for(var u=0,f=m.gallery.length;u<f;u++)a.push(u<=0?'<li class="flex-slider-current"><img class="flex-lazy-image" data-original="'+m.gallery[u]+'"></li>':'<li class="flex-slider-item-hidden"><img class="flex-lazy-image" data-original="'+m.gallery[u]+'"></li>');a.push("</ul>"),1<m.gallery.length&&(a.push('<button class="prev flex-slider-prev"><span class="clidxboost-icon-arrow-select"></span></button>'),a.push('<button class="next flex-slider-next"><span class="clidxboost-icon-arrow-select"></span></button>')),1==m.status&&(m.is_favorite?a.push('<button class="clidxboost-btn-check flex-favorite-btn" data-alert-token="'+m.token_alert+'"><span class="clidxboost-icon-check active"></span></button>'):a.push('<button class="clidxboost-btn-check flex-favorite-btn"><span class="clidxboost-icon-check"></span></button>')),a.push("</div>"),1==m.status?(m.is_favorite,a.push('<a href="'+flex_idx_search_params.propertyDetailPermalink+"/"+m.slug+'" class="view-detail show-modal-properties">'+v+"</a>")):(m.is_favorite,a.push('<a href="'+flex_idx_search_params.propertyDetailPermalink+"/pending-"+m.slug+'" class="view-detail show-modal-properties">'+v+"</a>")),a.push("</li>")}if(0<e.total?A("#result-search").html(a.join("")):A("#result-search").html('<h3 style="margin:5px 30px 30px 30px;">Try <strong><a class="ib-refresh-tab" href="'+__flex_g_settings.searchUrl+'">refreshing the page</a></strong> to include more results. Or, change your search criteria.</h3>'),1<l.pages){t.push('<span id="indicator">'+word_translate.pag+" "+l.current+" "+word_translate.of+" "+_.formatPrice(l.pages)+"</span>"),l.prev_page&&1<l.pages&&(t.push('<a href="#" data-page="1" title="'+word_translate.first_page+'" id="firstp" class="ad visible">'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push("<span>"+word_translate.first_page+"</span>"),t.push("</a>")),l.prev_page&&(t.push('<a href="#" data-page="'+(l.current-1)+'" title="Prev Page" id="prevn" class="arrow clidxboost-icon-arrow-select prevn visible">'),t.push("<span>Previous page</span>"),t.push("</a>")),t.push('<ul id="principal-nav">');for(d=0,p=l.range.length;d<p;d++){var x=l.range[d];l.current===x?t.push('<li class="active"><a href="#" data-page="'+x+'">'+x+"</a></li>"):t.push('<li><a href="#" data-page="'+x+'">'+x+"</a></li>")}t.push("</ul>"),l.next_page&&(t.push('<a href="#" data-page="'+(l.current+1)+'" title="Prev Page" id="nextn" class="arrow clidxboost-icon-arrow-select nextn visible">'),t.push("<span>"+word_translate.next_page+"</span>"),t.push("</a>")),l.next_page&&1<l.pages&&(t.push('<a href="#" data-page="'+l.pages+'" title="'+word_translate.first_page+'" id="lastp" class="ad visible">'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push("<span>"+word_translate.last_page+"</span>"),t.push("</a>"))}A("#flex-spinner-load").hide(),!1===K&&A("#wrap-result").show(),A("#nav-results").html(t.join("")).ready(function(){idxboostTypeIcon(),"function"==typeof ppchack&&ppchack()}),A(".flex-loading-ct").fadeIn();n=flex_idx_search_params.searchUrl+"/"+e.uri+"/order-"+e.sort+"/view-"+e.view+"/page-"+e.paging.current,history.pushState(null,"",n),A("#flex-idx-search-form").data("search_slug",e.uri),A("#flex-idx-search-form").data("save_slug",n),A("#flex-idx-search-form").data("save_query",encodeURIComponent(e.condition)),A("#flex-idx-search-form").data("save_count",e.total),A("#flex-idx-search-form").data("next_page",e.paging.next_page),A("#flex-idx-search-form").data("current_page",e.paging.current),void 0!==G&&G.isOpen()&&G.close(),A("#wrap-list-result").scrollTop(0),me(),o=e.map_items;if(google.maps.event.trigger(map,"resize"),e.hasOwnProperty("kml_boundaries")&&null!=e.kml_boundaries){if(polygons.length){for(d=0,p=polygons.length;d<p;d++)polygons[d].setMap(null);polygons.length=0}autoMapSearch=!1;for(var y=e.kml_boundaries.split(","),w=new google.maps.MVCArray,b=0,C=y.length;b<C;b++){var k=y[b].split(" ");w.push(new google.maps.LatLng(k[0],k[1]))}i=new google.maps.Polygon({path:w,editable:!1,strokeWeight:1,strokeColor:"#31239a",fillOpacity:.1,strokeOpacity:.8,fillColor:"#31239a"});i.setMap(map),polygons.push(i)}var L,I,P,D=o,r=T,q=new google.maps.LatLngBounds;(G=new InfoBubble({map:map,disableAutoPan:!0,shadowStyle:0,padding:0,borderRadius:0,borderWidth:0,disableAnimation:!0,maxWidth:380})).addListener("domready",function(){A(".ib-load-property-iw").on("click",function(e){e.preventDefault(),e.stopPropagation();var a,e=A(this).data("mls");"yes"===__flex_g_settings.anonymous?(A("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),A("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),A("#modal_login").find(".item_tab").removeClass("active"),A("#tabRegister").addClass("active"),A("button.close-modal").addClass("ib-close-mproperty"),A(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),A("#modal_login h2").html(A("#modal_login").find("[data-tab]:eq(1)").data("text-force")),a=A(".header-tab a[data-tab='tabRegister']").attr("data-text"),A("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(a),localStorage.setItem("ib_anon_mls",e)):(A("html").addClass("modal_mobile"),A("#modal_property_detail").addClass("active_modal"),A("#modal_property_detail .detail-modal").html('<span class="ib-modal-property-loading">Loading property details...</span>'),A.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{mlsNumber:e,action:"load_modal_property"},success:function(e){A(document.body).addClass("modal-property-active"),A("#modal_property_detail .detail-modal").html(e)},complete:function(){A("#full-main #clidxboost-data-loadMore-niche").trigger("click"),loadFullSlider(".clidxboost-full-slider")}}))})});for(var z=0,j=D.length;z<j;z++)P=D[z],le=P.lat+":"+P.lng,-1===_.indexOf(ee,le)&&(ee.push(le),ae.push(P));for(z=0,j=ae.length;z<j;z++){P=ae[z],le=[P.lat,P.lng];for(var O=[],M=0,S=D.length;M<S;M++)(inner=D[M]).lat==le[0]&&inner.lng==le[1]&&O.push(inner);te.push({item:P,group:O})}for(centerBounds=new google.maps.LatLngBounds,z=0;z<te.length;z++)I=te[z],(L=new RichMarker({position:new google.maps.LatLng(I.item.lat,I.item.lng),map:map,flat:!0,content:1<I.group.length?'<div class="dgt-richmarker-group"><strong>'+I.group.length+"</strong><span>Units</span></div>":'<div class="dgt-richmarker-single"><strong>$'+_.formatShortPrice(I.item.price)+"</strong></div>",anchor:RichMarkerPosition.TOP})).geocode=I.item.lat+":"+I.item.lng,q.extend(L.position),Y.push(L),centerBounds.extend(L.position),google.maps.event.addListener(L,"click",function(n,o,d){return function(){if(1<o.group.length){se.push('<div class="mapview-container">'),se.push('<div class="mapviwe-header">'),se.push("<h2>"+o.item.heading+"</h2>"),se.push('<span class="build">'+o.group.length+"</span>"),se.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),se.push("</div>"),se.push('<div class="mapviwe-body">');for(var e=0,a=o.group.length;e<a;e++){var t=o.group[e],s=(se.push('<div class="mapviwe-item">'),se.push('<h2 title="'+t.address_short.replace(/ , /,", ")+'"><span>'+t.address_short.replace(/ , /,", ")+"</span></h2>"),se.push("<ul>"),se.push('<li class="address"><span>'+t.address_large.replace(/ , /,", ")+"</span></li>"),se.push('<li class="price">$'+_.formatPrice(t.price)+"</li>"),word_translate.beds),l=word_translate.baths,s=1<t.bed?word_translate.beds:word_translate.bed,l=1<t.bath?word_translate.baths:word_translate.bath;se.push('<li class="beds"><b>'+t.bed+"</b> <span> "+s+"</span></li>"),se.push('<li class="baths"><b>'+t.bath+"</b> <span> "+l+"</span></li>"),se.push('<li class="living-size"> <span>'+_.formatPrice(t.sqft)+"</span> Sq.Ft.<span>("+t.living_size_m2+" m²)</span></li>"),se.push('<li class="price-sf"><span>$'+t.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+t.price_sqft_m2+" m²)</span></li>"),se.push("</ul>"),se.push('<div class="mapviwe-img">'),se.push('<img title="'+t.address_short+", "+t.address_large+'" alt="'+t.address_short+", "+t.address_large+'" src="'+t.gallery[0]+'">'),se.push("</div>"),1==t.status?se.push('<a class="ib-load-property-iw" data-mls="'+t.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/"+t.slug+'" title="'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+'">'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+"</a>"):se.push('<a class="ib-load-property-iw" data-mls="'+t.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/pending-"+t.slug+'" title="'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+'">'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+"</a>"),se.push("</div>")}}else{se.push('<div class="mapview-container">'),se.push('<div class="mapviwe-header">'),se.push("<h2>"+o.item.heading+"</h2>"),se.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),se.push("</div>"),se.push('<div class="mapviwe-body">'),se.push('<div class="mapviwe-item">'),se.push('<h2 title="'+o.item.address_short.replace(/ , /,", ")+'"><span>'+o.item.address_short.replace(/ , /,", ")+"</span></h2>"),se.push("<ul>"),se.push('<li class="address"><span>'+o.item.address_large.replace(/ , /,", ")+"</span></li>"),se.push('<li class="price">$'+_.formatPrice(o.item.price)+"</li>");var i=word_translate.beds,r=word_translate.baths,i=1<o.item.bed?word_translate.beds:word_translate.bed,r=1<o.item.bath?word_translate.baths:word_translate.bath;se.push('<li class="beds"><b>'+o.item.bed+"</b> <span> "+i+"</span></li>"),se.push('<li class="baths"><b>'+o.item.bath+"</b> <span> "+r+"</span></li>"),se.push('<li class="living-size"> <span>'+_.formatPrice(o.item.sqft)+"</span> "+word_translate.sqft+"<span>("+o.item.living_size_m2+" m²)</span></li>"),se.push('<li class="price-sf"><span>$'+o.item.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+o.item.price_sqft_m2+" m²)</span></li>"),se.push("</ul>"),se.push('<div class="mapviwe-img">'),se.push('<img title="'+o.item.address_short+", "+o.item.address_large+'" alt="'+o.item.address_short+", "+o.item.address_large+'" src="'+o.item.gallery[0]+'">'),se.push("</div>"),1==o.item.status?se.push('<a class="ib-load-property-iw" data-mls="'+o.item.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/"+o.item.slug+'" title="'+o.item.address_short.replace(/ # /," #")+", "+o.item.address_large.replace(/ , /,", ")+'">'+o.item.address_short+", "+o.item.address_large.replace(/ # /," #")+"</a>"):se.push('<a class="ib-load-property-iw" data-mls="'+o.item.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/pending-"+o.item.slug+'" title="'+o.item.address_short.replace(/ # /," #")+", "+o.item.address_large.replace(/ , /,", ")+'">'+o.item.address_short+", "+o.item.address_large.replace(/ # /," #")+"</a>"),se.push("</div>")}se.push("</div>"),se.push("</div>"),se.length&&(G.setContent(se.join("")),G.open(d,n),se.length=0)}}(L,I,map)),google.maps.event.addListener(L,"mouseover",function(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX+1)}}(L)),google.maps.event.addListener(L,"mouseout",function(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX-1)}}(L));!1!==autoMapSearch&&""==A("#idx_keyword").val()&&""==A("#idx_polygon").val()||!1!==r||""==A("#idx_keyword").val()&&""==A("#idx_polygon").val()||map.fitBounds(q),A("#wrap-list-result").removeClass("ib-loading-results"),void 0!==myLazyLoad&&myLazyLoad.update(),A("#wrap-result").find(".wrap-slider > ul li:first").each(function(){A(this).addClass("flex-slider-current")}),!1===oe&&(A("#wrap-result").hasClass("view-map")&&(google.maps.event.trigger(map,"resize"),setTimeout(function(){var e=map.getCenter(),a=map.getZoom();if(google.maps.event.trigger(map,"resize"),!1===J)for(var t=new google.maps.LatLngBounds,s=0,l=Y.length;s<l;s++)t.extend(Y[s].position);else map.setCenter(e),map.setZoom(a)},100)),oe=!0),idxboostTypeIcon()}}))}function ce(e){var a,t;e?X.find("ul").length||(e=X.find("option:selected").val(),X.find("option").each(function(){A(this).replaceWith('<li class="'+A(this).val()+'">'+A(this).text()+"</li>")}),(a=X.find("select")).replaceWith("<ul>"+a.html()+"</ul>"),X.find("."+e).addClass("active"),X.removeClass(e)):X.find("select").length||(a=X.find(".active").index(),e=X.find(".active").attr("class").split(" ")[0],X.find("li").each(function(){A(this).replaceWith('<option value="'+A(this).attr("class").split(" ")[0]+'">'+A(this).text()+"</option>")}),(t=X.find("ul")).replaceWith("<select>"+t.html()+"</select>"),X.find("option").eq(a).prop("selected",!0).siblings().prop("selected",!1),X.addClass(e)),new LazyLoad({callback_error:function(e){A(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),A(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}function c(){var e=map.getCenter(),a=map.getZoom(),t=map.getBounds(),t=[t.getNorthEast().lat(),t.getNorthEast().lng(),t.getSouthWest().lat(),t.getSouthWest().lng()].join(" ");if(A("#idx_center").val(e.lat()+" "+e.lng()),A("#idx_zoom").val(a),A("#idx_bounds").val(t),t!=lastBounds){if(""==A("#idx_keyword").val()&&""==A("#idx_polygon").val()){if(!1===K)return;ie()}lastBounds=t}}function m(e){e.stopPropagation(),e.preventDefault(),void 0!==G&&G.isOpen()&&G.close(),l&&(google.maps.event.clearListeners(map.getDiv(),"mousedown"),google.maps.event.removeListener(d),u(),A("#idx_page").val(1),A("#idx_polygon").val(""),ie());e=map.getCenter();map.setZoom(map.getZoom()+1),map.setCenter(e)}function h(e){e.stopPropagation(),e.preventDefault(),void 0!==G&&G.isOpen()&&G.close(),l&&(google.maps.event.clearListeners(map.getDiv(),"mousedown"),google.maps.event.removeListener(d),u(),A("#idx_page").val(1),A("#idx_polygon").val(""),ie());e=map.getCenter();map.setZoom(map.getZoom()-1),map.setCenter(e)}function v(e){e.stopPropagation(),e.preventDefault(),google.maps.event.clearListeners(map.getDiv(),"mousedown"),google.maps.event.removeListener(d),u(),A("#idx_page").val(1),A("#idx_polygon").val(""),ie(),o.setMap(null),me(),A(".flex-map-draw-erase").hide()}function g(e){if(e.stopPropagation(),e.preventDefault(),A(e.target).hasClass("flex-map-is-drawing")){if(p.classList.remove("flex-map-is-drawing"),A(".flex-shown-map").html("Draw Your Map"),A(".flex-shown-map").css("width","112px"),A(".flex-shown-map").css("left","-121px"),void 0!==G&&G.isOpen()&&G.close(),autoMapSearch=!0,polygons.length){for(var a=0,t=polygons.length;a<t;a++)polygons[a].setMap(null);polygons.length=0}""!=A("idx_polygon").val()&&(A("#idx_page").val(1),A("#idx_polygon").val(""),ie(),me())}else{if(void 0!==G&&G.isOpen()&&G.close(),polygons.length)for(a=0,t=polygons.length;a<t;a++)polygons[a].setVisible(!1);if(A(".flex-map-controls-ct").hide(),A("#wrap-map-draw-actions").css("display","flex"),A("#wrap-map").addClass("mp-btn"),drawingManager.setMap(map),autoMapSearch=!1,Y.length)for(a=0,t=Y.length;a<t;a++)Y[a].setVisible(!1)}}function u(){map.setOptions({draggable:!0,zoomControl:!0}),void 0!==G&&G.isOpen()&&G.close(),p.classList.remove("flex-map-is-drawing"),A(".flex-shown-map").html("Draw Your Map"),A(".flex-shown-map").css("width","112px"),A(".flex-shown-map").css("left","-121px"),l=!1}function f(){(s=document.createElement("div")).classList.add("flex-map-controls-ct"),(i=document.createElement("div")).classList.add("flex-map-zoomIn"),s.appendChild(i),(r=document.createElement("div")).classList.add("flex-map-zoomOut"),s.appendChild(r),(p=document.createElement("div")).innerHTML='<span class="flex-shown-map">'+word_translate.draw_your_map+"</span>",p.classList.add("flex-map-draw"),s.appendChild(p),(n=document.createElement("div")).classList.add("flex-map-draw-erase"),s.appendChild(n),google.maps.event.addDomListener(i,"click",m),google.maps.event.addDomListener(r,"click",h),google.maps.event.addDomListener(p,"click",g),google.maps.event.addDomListener(n,"click",v),map.controls[google.maps.ControlPosition.TOP_RIGHT].push(s)}function me(){if(ee.length&&(ee.length=0),ae.length&&(ae.length=0),te.length&&(te.length=0),Y.length){for(var e=0,a=Y.length;e<a;e++)Y[e].setMap(null);Y.length=0}}"undefined"!=typeof flex_idx_search_params&&(e=flex_idx_search_params.params,z=_.pluck(e.cities,"name"),j=_.pluck(e.baths_range,"value"),O=_.pluck(e.beds_range,"value"),M=_.pluck(e.living_size_range,"value"),S=_.pluck(e.lot_size_range,"value"),T=_.pluck(e.price_rent_range,"value"),B=_.pluck(e.price_sale_range,"value"),$=_.pluck(e.year_built_range,"value"),re=_.pluck(e.property_types,"value"),Z=!1,A("#wrap-list-result"),F=A(window),V=A("body"),A(function(){A("#result-search").on("mouseover",">li",function(e){if(A(this).hasClass("propertie")){var a=A(this).data("geocode");if(void 0!==a&&a.length)for(var t=0,s=Y.length;t<s;t++)if(a==Y[t].geocode){new google.maps.event.trigger(Y[t],"click");break}}}),A("#result-search").on("mouseleave",">li",function(e){void 0!==G&&G.isOpen()&&G.close()}),A("body").on("touchstart",".slider-generator .propertie",function(e){xDown=e.originalEvent.touches[0].clientX,yDown=e.originalEvent.touches[0].clientY}),A("body").on("touchmove",".slider-generator .propertie",function(e){var a,t;xDown&&yDown&&(a=e.originalEvent.touches[0].clientX,t=e.originalEvent.touches[0].clientY,a=xDown-a,t=yDown-t,Math.abs(a)>Math.abs(t)&&(e.preventDefault(),(0<a?A(this).find(".next"):A(this).find(".prev")).click()),yDown=xDown=null)}),(X=A("#filter-views")).length&&(s=A("#wrap-result"),X.on("change","select",function(e){if(void 0!==e.originalEvent){switch(A(this).find("option:selected").val()){case"grid":X.removeClass("list map").addClass("grid"),s.removeClass("view-list view-map").addClass("view-grid"),V.removeClass("view-list view-map"),A(".open-map").removeClass("hide"),A(".close-map").addClass("hide"),A("#idx_view").val("grid"),void 0!==myLazyLoad&&myLazyLoad.update();break;case"list":X.removeClass("grid map").addClass("list"),s.removeClass("view-grid view-map").addClass("view-list"),V.addClass("view-list").removeClass("view-map"),A(".open-map").removeClass("hide"),A(".close-map").addClass("hide"),A("#idx_view").val("list");break;case"map":X.removeClass("list grid").addClass("map"),s.removeClass("view-list view-grid").addClass("view-map"),V.removeClass("view-list fixed-active").addClass("view-map"),A("#idx_view").val("map"),google.maps.event.trigger(map,"resize"),setTimeout(function(){var e=map.getCenter(),a=map.getZoom();if(google.maps.event.trigger(map,"resize"),!1===J)for(var t=new google.maps.LatLngBounds,s=0,l=Y.length;s<l;s++)t.extend(Y[s].position);else map.setCenter(e),map.setZoom(a)},100)}var e=A("#flex-idx-search-form").data("search_slug"),a=A("#idx_sort").val(),t=A("#flex-idx-search-form").data("current_page"),e=[flex_idx_search_params.searchUrl,e,"order-"+a,"view-"+A("#idx_view").val(),"page-"+t].join("/");history.pushState(null,"",e)}}),X.on("click","li",function(e){if(void 0!==e.originalEvent){switch(console.log("clicked"),A(this).addClass("active").siblings().removeClass("active"),A(this).attr("class").split(" ")[0]){case"grid":s.removeClass("view-list view-map").addClass("view-grid"),V.removeClass("view-list view-map"),A(".open-map").removeClass("hide"),A(".close-map").addClass("hide"),void 0!==myLazyLoad&&myLazyLoad.update(),A("#idx_view").val("grid");break;case"list":s.removeClass("view-grid view-map").addClass("view-list"),V.addClass("view-list").removeClass("view-map"),A(".open-map").removeClass("hide"),A(".close-map").addClass("hide"),A("#idx_view").val("list");break;case"map":s.removeClass("view-list view-grid").addClass("view-map"),V.removeClass("view-list fixed-active").addClass("view-map"),A("#idx_view").val("map"),google.maps.event.trigger(map,"resize"),void 0!==centerBounds&&map.fitBounds(centerBounds)}var e=A("#flex-idx-search-form").data("search_slug"),a=A("#idx_sort").val(),t=A("#flex-idx-search-form").data("current_page"),e=[flex_idx_search_params.searchUrl,e,"order-"+a,"view-"+A("#idx_view").val(),"page-"+t].join("/");history.pushState(null,"",e)}})),768<=F.width()&&ce(!0),F.on("resize",function(){var e=F.width();768<=e?ce(!0):e<768&&ce(!1)});var s,l,i,r,n,o,d,p,c,m,h,v,g,u=A("#cities-list"),f=(u.length&&F.on("resize",function(){u.hasClass("ps-container")&&u.perfectScrollbar("update")}),A("#mini-filters")),x=(f.length&&f.find("h4").on("click",function(){var e=A(this).parents("li");e.toggleClass("expanded").siblings().removeClass("expanded"),e.hasClass("cities")&&!u.hasClass("ps-container")&&(setTimeout(function(){u.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2),de(e,u))}),A("#filters")),y=(x.length&&(l=A("#all-filters"),i=A("#wrap-filters"),x.on("click","button",function(){A("#mini-filters .price").addClass("expanded");var e=A(this).parent(),a=e.attr("class").split(" ")[0],t=f.find("li."+a);!t.length&&"all"!==a||(e.toggleClass("active").siblings().removeClass("active"),"all"===a?(l.hasClass("visible")?l.hasClass("individual")&&l.hasClass("visible")?l.removeClass("individual"):!l.hasClass("individual")&&l.hasClass("visible")&&l.removeClass("visible"):l.addClass("visible"),i.width()<=959&&A("html").toggleClass("fixed"),i.width()<=640?l.css({top:i.outerHeight()+i.position().top+"px",left:"0px",height:"calc(100vh - "+(i.outerHeight()+x.find("li.save").outerHeight())+"px)"}):640<i.width()&&i.width()<=959?l.hasClass("neighborhood")?(l.removeAttr("style"),l.css({top:i.outerHeight()+"px",right:"0",left:"auto",transform:"none"})):l.css({left:"0px",top:i.outerHeight()+"px",height:"calc(100vh - "+(i.outerHeight()+r.outerHeight())+"px)"}):(l.removeAttr("style"),l.css("top",i.outerHeight()+"px"),de(l,u))):(A("html").hasClass("fixed")&&A("html").removeClass("fixed"),e.hasClass("active")?(t.addClass("visible").siblings().removeClass("visible"),l.hasClass("individual")||(l.addClass("individual"),l.css("height","auto")),l.hasClass("visible")||l.addClass("visible"),l.css({top:i.outerHeight()+"px",left:e.position().left+e.outerWidth()/2-150+"px"})):(l.removeClass("visible"),t.removeClass("visible"),e.removeClass("active"),setTimeout(function(){l.removeClass("individual")},1e3*Number(l.css("transition-duration").replace("s",""))))))}),(r=A("#apply-filters")).length&&r.on("click",function(){x.find(".all button").trigger("click")}),A(document).on("mouseup",function(e){!l.hasClass("visible")||i.is(e.target)||0!==i.has(e.target).length||x.find(".active button").trigger("click")})),A("#autocomplete-ajax").on("click",function(){l.hasClass("visible")&&959<A("body").width()&&(A("#filters > li").removeClass("active"),A("#all-filters").removeClass("visible individual"),A("#cities-list").appendTo("#autocomplete-dropdown-ct"))}),R=A("#autocomplete-ajax"),(H=A("#autocomplete-ajax-min")).length&&(H.autocomplete({source:function(e,a){A.ajax({url:__flex_g_settings.suggestions.service_url,dataType:"json",data:{term:e.term,board:__flex_g_settings.suggestions.board},success:function(e){a(e)}})},appendTo:"#flex_search_keyword_form_min",minLength:3,select:function(e,a){var t=a.item.id.split(/\|/),s=t[0],t=t[1],s=encodeURIComponent(s+"|"+t);A("#idx_keyword").val(s),A("#idx_page").val(1),R.val(a.item.label),ie()},close:function(e,a){A(this)},create:function(e,a){A(this).attr("autocomplete","disabled")}}),A("#autocomplete-ajax").on("search",function(){if(""==this.value){if(polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}autoMapSearch=!0,A("#idx_page").val(1),A("#idx_keyword").val(""),ie()}}),A("#autocomplete-ajax-min").on("search",function(){if(""==this.value){if(polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}autoMapSearch=!0,A("#idx_page").val(1),A("#idx_keyword").val(""),ie()}}),H.on({focus:function(){""==A(this).val()&&A("#cities-list").appendTo("#cities-list-wrap")},keypress:function(){A("#cities-list").appendTo("#cities-list-wrap")},change:function(){if(""==A(this).val()){if(R.val(""),A("#idx_keyword").val(""),polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}ie()}},click:function(e){e.stopPropagation(),""==A(this).val()&&A("#cities-list").appendTo("#cities-list-wrap")}})),R.length&&(R.autocomplete({source:function(e,a){A.ajax({url:__flex_g_settings.suggestions.service_url,dataType:"json",data:{term:e.term,board:__flex_g_settings.suggestions.board},success:function(e){a(e)}})},minLength:3,appendTo:"#flex_search_keyword_form",select:function(e,a){var t=a.item.id.split(/\|/),s=t[0],t=t[1],s=encodeURIComponent(s+"|"+t);A("#idx_keyword").val(s),A("#idx_page").val(1),H.val(a.item.label),ie()},close:function(e,a){A(this)}}),R.on({focus:function(){""==A(this).val()&&A("#cities-list").appendTo("#autocomplete-dropdown-ct")},keypress:function(e){A("#cities-list").appendTo("#cities-list-wrap")},change:function(){""==A(this).val()&&(H.val(""),A("#idx_keyword").val(""),ie())},click:function(e){e.stopPropagation(),""==A(this).val()&&A("#cities-list").appendTo("#autocomplete-dropdown-ct")}})),A("#result-search").scroll(function(){new LazyLoad({callback_error:function(e){A(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),A(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),A("#flex_search_keyword_form").on("submit",function(e){e.preventDefault();e=R.val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.length&&(e=A.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e)?(A("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)"),ie()):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(A("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)"),ie()):-1<A.inArray(e,z)?(A("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)"),ie()):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)&&(A("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)"),ie()))}),A("#autocomplete-ajax").on("keyup",function(e){13===e.which&&e.preventDefault()}),A("#autocomplete-ajax-min").on("keyup",function(e){if(13===e.which&&(e=A(this).val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).length){if(e=A.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e))A("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)");else if(/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e))A("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)");else{for(var a=[],e=e.toLowerCase(),t=0,s=z.length;t<s;t++)a[t]=z[t].toLowerCase();var l=A.inArray(e,a);-1<l?(e=z[l],A("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)")):(A("#idx_keyword").val(e+"|address"),R.val(e+" (Address)"),H.val(e+" (Address)"))}ie()}}),A("#submit-ms").on("click",function(){event.preventDefault();var e=R.val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.length&&(e=A.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e)?(A("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)")):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(A("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)")):-1<A.inArray(e,z)?(A("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)")):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(A("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)")):(A("#idx_keyword").val(e+"|address"),R.val(e+" (Address)"),H.val(e+" (Address)")),ie())}),A("#submit-ms-min").on("click",function(){var e=H.val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.length&&(e=A.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e)?(A("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)")):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(A("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)")):-1<A.inArray(e,z)?(A("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)")):(A("#idx_keyword").val(e+"|address"),R.val(e+" (Address)"),H.val(e+" (Address)")),ie())}),A(document.body).on("click",function(e){"LI"!==e.target.nodeName&&A("#cities-list").appendTo("#cities-list-wrap")}),A("#cities-list").on("click","li",function(){var e=A(this).html(),a=A(this).data("slug");R.val(e+" (City)"),H.val(e+" (City)"),A("#idx_keyword").val(a),A("#cities-list").appendTo("#cities-list-wrap"),A("#idx_page").val(1),ie()}),A("#flex_save_search_btn, #save-button-responsive, .create-alert-footer").on("click",function(){var e;event.stopPropagation(),event.preventDefault(),"yes"===flex_idx_search_params.anonymous?(A("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),A("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),A("#modal_login").find(".item_tab").removeClass("active"),A("#tabRegister").addClass("active"),A("button.close-modal").addClass("ib-close-mproperty"),A(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),A("#modal_login h2").html(A("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=A(".header-tab a[data-tab='tabRegister']").attr("data-text"),A("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):"no"===flex_idx_search_params.anonymous&&500<A("#flex-idx-search-form").data("save_count")?sweetAlert(word_translate.oops,word_translate.you_cannot_save_search_with_more_than_500_properties,"error"):(A("#flex-idx-search-form").data("save_slug"),A("#flex-idx-search-form").data("save_count"),pe(A("#modal_save_search")),setTimeout(function(){A("#modal_properties_send").find(".close").click()},2e3),name)}),A(".iboost-alert-change-interval").on("change",function(){switch(A(this).val()){case"1":case"7":case"30":A(".flex-save-type-options").prop("disabled",!1),A(".flex-save-type-options").prop("disabled",!1);break;default:A(".flex-save-type-options").prop("checked",!1),A(".flex-save-type-options").prop("disabled",!0)}}),A("#form-save").on("submit",function(e){var a=[],e=(A('input[name="notification_type[]"]:checked').each(function(){a.push(this.value)}),e.preventDefault(),A("#input_sname_search").val().trim()),t=A("#flex-idx-search-form").data("save_slug"),s=A("#flex-idx-search-form").data("save_count"),l=decodeURIComponent(A("#flex-idx-search-form").data("save_query")),i=A(".iboost-alert-change-interval:eq(0)").val();if(null!=e&&0<e.length){if(1==i||7==i)if(A(".flex-save-type-options:checked").length<=0)return void sweetAlert(word_translate.oops,word_translate.youmust_selectat_least_one_checkbox_from_below,"error");A.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_save_search",search_url:t,search_count:s,name:e,notification_day:A(".notification_day_class").val(),notification_type:a,search_query:l,type:"add"},dataType:"json",success:function(e){!0===e.success?(swal({title:word_translate.search_saved,text:word_translate.your_search_has_been_saved_successfuly,type:"success",timer:2e3,showConfirmButton:!1}),A("#modal_save_search").removeClass("active_modal"),A("#input_sname_search").val(""),A('input[name="notification_type[]"]').each(function(){this.checked=!1}),A(".notification_day_class").val("--")):sweetAlert(word_translate.oops,e.message,"error")}})}else sweetAlert(word_translate.oops,word_translate.you_must_provide_a_name_for_this_search,"error")}),A("#form-update").on("submit",function(e){var a=[],e=(A('input[name="notification_type[]"]:checked').each(function(){a.push(this.value)}),e.preventDefault(),A("#input_sname_search").val()),t=A("#flex-idx-search-form").data("save_slug"),s=A("#flex-idx-search-form").data("save_count");null!=e&&0<e.length?A.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_save_search",search_url:t,search_count:s,name:e,notification_day:A(".notification_day_class").val(),notification_type:a,type:"update"},dataType:"json",success:function(e){1==e.success?(A("#modal_save_search").removeClass("active_modal"),swal({title:word_translate.search_saved,text:word_translate.your_search_has_been_saved_successfuly,type:"success",timer:2e3,showConfirmButton:!1}),A("#input_sname_search").val(""),A('input[name="notification_type[]"]').each(function(){this.checked=!1}),A(".notification_day_class").val("--")):sweetAlert(word_translate.oops,e.message,"error")}}):sweetAlert(word_translate.oops,word_translate.you_must_provide_a_name_for_this_search,"error")}),A(".update_search_over").on("click",function(){event.stopPropagation(),event.preventDefault(),A("#input_sname_search").val(A(this).attr("txtedit")),pe(A("#modal_save_search")),setTimeout(function(){A("#modal_properties_send").find(".close").click()},2e3)}),A(document).on("click",".flex-favorite-btn",function(e){e.stopPropagation();var a,t,s,l=A(this);"yes"===flex_idx_search_params.anonymous?(A("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),A("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),A("#modal_login").find(".item_tab").removeClass("active"),A("#tabRegister").addClass("active"),A("button.close-modal").addClass("ib-close-mproperty"),A(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),A("#modal_login h2").html(A("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=A(".header-tab a[data-tab='tabRegister']").attr("data-text"),A("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):(e=A(this).parents(".propertie").data("class-id"),a=A(this).parents(".propertie").data("mls"),t=A(this).parents(".propertie").data("address"),A(this).find(".clidxboost-icon-check").hasClass("active")?(A(this).find(".clidxboost-icon-check").removeClass("active"),s=A(this).attr("data-alert-token"),A.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_favorite",class_id:e,mls_num:a,type_action:"remove",token_alert:s},dataType:"json",success:function(e){var a=0;(a=parseInt(jQuery(".clidxboost-icon-favorite span span").text())-1)<0&&(a=0),A(".clidxboost-icon-favorite span span").text(a),A(l).attr("data-alert-token","")}})):(A(this).find(".clidxboost-icon-check").addClass("active"),A.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_favorite",class_id:e,mls_num:a,subject:t,type_action:"add"},dataType:"json",success:function(e){var a=1+parseInt(jQuery(".clidxboost-icon-favorite span span").text());A(".clidxboost-icon-favorite span span").text(a),A(l).attr("data-alert-token",e.token_alert)}})))}),(W=A("#flex_waterfront_switch")).length&&W.on("change",function(){var e=A(this);A("#idx_water_desc").val(e.val()),A("#idx_page").val(1),ie()}),(W=A("#flex_parking_switch")).length&&W.on("change",function(){var e=A(this);A("#idx_parking").val(e.val()),A("#idx_page").val(1),ie()}),(W=A("#nav-results")).length&&W.on("click","a",function(e){e.preventDefault();e=A(this).data("page");A("#idx_page").val(e),ie()}),(W=A("#flex_filter_sort")).length&&W.on("change",function(){var e=A(this);A("#idx_sort").val(e.val()),A("#idx_page").val(1),ie()}),W=A("#range-baths"),a=A("#range-beds"),t=A("#range-living"),E=A("#range-land"),Q=A("#range-price"),N=A("#range-price-rent"),U=A("#range-year"),A(".property_type_checkbox").on("change",function(){var e,a=A(".property_type_checkbox:checked");a.length?(e=[],a.each(function(){e.push(A(this).val())}),e.length&&A("#idx_property_type").val(e.join("|"))):A("#idx_property_type").val(re.join("|")),A("#idx_page").val(1),ie()}),A(".amenities_checkbox").on("change",function(){var e,a=A(".amenities_checkbox:checked");a.length?(e=[],a.each(function(){e.push(A(this).val())}),A("#idx_features").val(e.join("|"))):A("#idx_features").val(""),A("#idx_page").val(1),ie()}),(ne=A(".flex_search_rental_switch")).length&&ne.on("click",function(){var e=A(this);e.hasClass("active")||(ne.removeClass("active"),e.addClass("active"),A(".price_ranges_ct").hide(),"for-sale"==(e=e.attr("id"))?(A(".price_range_for_sale").show(),A("#idx_rental").val(0)):"for-rent"==e&&(A(".price_range_for_rent").show(),A("#idx_rental").val(1)),A("#idx_page").val(1),ie())}),W.length&&W.slider({range:!0,min:0,max:j.length-1,step:1,slide:function(e,a){a.values[0],a.values[1]},create:function(e,a){var t="--"===A("#idx_min_baths").val()?j[0]:parseFloat(A("#idx_min_baths").val(),10),s="--"===A("#idx_max_baths").val()?j[j.length-1]:parseFloat(A("#idx_max_baths").val(),10),l=A(this),t="--"===A("#idx_min_baths").val()?0:j.indexOf(t),s="--"===A("#idx_max_baths").val()?j.length-1:j.indexOf(s);l.slider("values",[t,s])},change:function(e,a){var t=a.values[0],a=a.values[1],t=j[t]==j[0]?"--":j[t],a=j[a]==j[j.length-1]?"--":j[a];A("#idx_min_baths").val(t),A("#idx_max_baths").val(a),!0===Z&&A("#idx_page").val(1),ie()}}),a.length&&a.slider({range:!0,min:0,max:O.length-1,step:1,slide:function(e,a){a.values[0],a.values[1]},create:function(e,a){var t="--"===A("#idx_min_beds").val()?O[0]:parseInt(A("#idx_min_beds").val(),10),s="--"===A("#idx_max_beds").val()?O[O.length-1]:parseInt(A("#idx_max_beds").val(),10),l=A(this),t="--"===A("#idx_min_beds").val()?0:O.indexOf(t),s="--"===A("#idx_max_beds").val()?O.length-1:O.indexOf(s);l.slider("values",[t,s])},change:function(e,a){var t=a.values[0],a=a.values[1],t=O[t]==O[0]?"--":O[t],a=O[a]==O[O.length-1]?"--":O[a];A("#idx_min_beds").val(t),A("#idx_max_beds").val(a),!0===Z&&A("#idx_page").val(1),ie()}}),t.length&&t.slider({range:!0,min:0,max:M.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];A("#living_from").val(_.formatPrice(M[t])+" "+word_translate.sqft),37==a?A("#living_to").val(word_translate.any_size):A("#living_to").val(_.formatPrice(M[a])+" "+word_translate.sqft),m=M[t],h=M[a]},create:function(e,a){var t="--"===A("#idx_living_area_min").val()?M[0]:parseInt(A("#idx_living_area_min").val(),10),s="--"===A("#idx_living_area_max").val()?M[M.length-1]:parseInt(A("#idx_living_area_max").val(),10),l=A(this),i="--"===A("#idx_living_area_min").val()?0:M.indexOf(t),r="--"===A("#idx_living_area_max").val()?M.length-1:M.indexOf(s);l.slider("values",[i,r]),A("#living_from").val(_.formatPrice(t)+" "+word_translate.sqft),8e4==s?A("#living_to").val(word_translate.any_size):A("#living_to").val(_.formatPrice(s)+" "+word_translate.sqft)},change:function(e,a){var t=a.values[0],a=a.values[1];A("#idx_living_area_min").val(M[t]),A("#idx_living_area_max").val(M[a]),!0===Z&&A("#idx_page").val(1),ie()}}),E.length&&E.slider({range:!0,min:0,max:S.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];A("#land_from").val(_.formatPrice(S[t])+" "+word_translate.sqft),37==a?A("#land_to").val(word_translate.any_size):A("#land_to").val(_.formatPrice(S[a])+" "+word_translate.sqft),p=S[t],c=S[a]},create:function(e,a){var t="--"===A("#idx_lot_size_min").val()?M[0]:parseInt(A("#idx_lot_size_min").val(),10),s="--"===A("#idx_lot_size_max").val()?M[M.length-1]:parseInt(A("#idx_lot_size_max").val(),10),l=A(this),i="--"===A("#idx_lot_size_min").val()?0:M.indexOf(t),r="--"===A("#idx_lot_size_max").val()?M.length-1:M.indexOf(s);l.slider("values",[i,r]),A("#land_from").val(_.formatPrice(t)+" "+word_translate.sqft),8e4==s?A("#land_to").val(word_translate.any_size):A("#land_to").val(_.formatPrice(s)+" "+word_translate.sqft)},change:function(e,a){var t=a.values[0],a=a.values[1];0==t||37==t?A("#idx_lot_size_min").val("--"):A("#idx_lot_size_min").val(S[t]),0==a||37==a?A("#idx_lot_size_max").val("--"):A("#idx_lot_size_max").val(S[a]),A("#idx_lot_size_min").val(S[t]),A("#idx_lot_size_max").val(S[a]),!0===Z&&A("#idx_page").val(1),ie()}}),Q.length&&Q.slider({range:!0,min:0,max:B.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];A("#price_from").val("$"+_.formatPrice(B[t])),48==a?A("#price_to").val(word_translate.any_price):A("#price_to").val("$"+_.formatPrice(B[a])),n=B[t],o=B[a]},create:function(e,a){var t="--"===A("#idx_min_price_sale").val()?B[0]:parseInt(A("#idx_min_price_sale").val(),10),s="--"===A("#idx_max_price_sale").val()?B[B.length-1]:parseInt(A("#idx_max_price_sale").val(),10),l=A(this),i="--"===A("#idx_min_price_sale").val()?0:B.indexOf(t),r="--"===A("#idx_max_price_sale").val()?B.length-1:B.indexOf(s);l.slider("values",[i,r]),A("#price_from").val("$"+_.formatPrice(t)),1e8==s?A("#price_to").val(word_translate.any_price):A("#price_to").val("$"+_.formatPrice(s))},change:function(e,a){var t=a.values[0],a=a.values[1];A("#idx_min_price_sale").val(B[t]),A("#idx_max_price_sale").val(B[a]),!0===Z&&A("#idx_page").val(1),ie()}}),N.length&&N.slider({range:!0,min:0,max:T.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];A("#price_rent_from").val("$"+_.formatPrice(T[t])),30==a?A("#price_rent_to").val(word_translate.any_price):A("#price_rent_to").val("$"+_.formatPrice(T[a])),d=T[t],T[a]},create:function(e,a){var t="--"===A("#idx_min_price_rent").val()?T[0]:parseInt(A("#idx_min_price_rent").val(),10),s="--"===A("#idx_max_price_rent").val()?T[T.length-1]:parseInt(A("#idx_max_price_rent").val(),10),l=A(this),i="--"===A("#idx_min_price_rent").val()?0:T.indexOf(t),r="--"===A("#idx_max_price_rent").val()?T.length-1:T.indexOf(s);l.slider("values",[i,r]),A("#price_rent_from").val("$"+_.formatPrice(t)),1e5==s?A("#price_rent_to").val(word_translate.any_price):A("#price_rent_to").val("$"+_.formatPrice(s))},change:function(e,a){var t=a.values[0],a=a.values[1];A("#idx_min_price_rent").val(T[t]),A("#idx_max_price_rent").val(T[a]),!0===Z&&A("#idx_page").val(1),ie()}}),U.length&&U.slider({range:!0,min:0,max:$.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];A("#year_from").val($[t]),A("#year_to").val($[a]),v=$[t],g=$[a]},create:function(e,a){var t="--"===A("#idx_min_year").val()?$[0]:parseInt(A("#idx_min_year").val(),10),s="--"===A("#idx_max_year").val()?$[$.length-1]:parseInt(A("#idx_max_year").val(),10),l=A(this),i="--"===A("#idx_min_year").val()?0:$.indexOf(t),r="--"===A("#idx_max_year").val()?$.length-1:$.indexOf(s);l.slider("values",[i,r]),A("#year_from").val(t),A("#year_to").val(s)},change:function(e,a){var t=a.values[0],a=a.values[1];0==t||120==t?A("#idx_min_year").val("--"):A("#idx_min_year").val($[t]),0==a||120==a?A("#idx_max_year").val("--"):A("#idx_max_year").val($[a]),!0===Z&&A("#idx_page").val(1),ie()}}),A("#price_from")),w=A("#price_to"),b=(y.length&&(y.data("min-price",B[0]),y.data("max-price",B[B.length-1]),n=parseInt(y.val().trim().replace(/\D/g,""),10),y.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?n:parseInt(e,10),A(this).val("$"+_.formatPrice(e))}),y.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("min-price"):parseInt(t,10))<A(this).data("min-price")?t=A(this).data("min-price"):t>A(this).data("max-price")&&(t=A(this).data("max-price")),t>parseInt(w.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(w.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-price")):(A("#price_from").val(t),A("#idx_min_price_sale").val(t),e=B.indexOf(t),a=B.indexOf(parseInt(w.val().trim().replace(/\D/g,""),10)),n=t,-1!==e&&-1!==a&&A("#range-price").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val("$"+_.formatPrice(t))})),w.length&&(w.data("min-price",B[0]),w.data("max-price",B[B.length-1]),o=parseInt(w.val().trim().replace(/\D/g,""),10),w.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?o:parseInt(e,10),A(this).val("$"+_.formatPrice(e))}),w.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("max-price"):parseInt(t,10))<A(this).data("min-price")?t=A(this).data("min-price"):t>A(this).data("max-price")&&(t=A(this).data("max-price")),t<parseInt(y.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(y.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-price")):(A("#price_to").val(t),A("#idx_max_price_sale").val(t),e=B.indexOf(parseInt(y.val().trim().replace(/\D/g,""),10)),a=B.indexOf(t),o=t,-1!==e&&-1!==a&&A("#range-price").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val("$"+_.formatPrice(t))})),A("#price_rent_from")),C=A("#price_rent_to"),k=(b.length&&(b.data("min-price",T[0]),b.data("max-price",T[T.length-1]),d=parseInt(b.val().trim().replace(/\D/g,""),10),b.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?d:parseInt(e,10),A(this).val("$"+_.formatPrice(e))}),b.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("min-price"):parseInt(t,10))<A(this).data("min-price")?t=A(this).data("min-price"):t>A(this).data("max-price")&&(t=A(this).data("max-price")),t>parseInt(C.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(C.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-price")):(A("#price_rent_from").val(t),A("#idx_min_price_rent").val(t),e=T.indexOf(t),a=T.indexOf(parseInt(C.val().trim().replace(/\D/g,""),10)),d=t,-1!==e&&-1!==a&&A("#range-price-rent").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val("$"+_.formatPrice(t))})),C.length&&(C.data("min-price",T[0]),C.data("max-price",T[T.length-1]),flex_input_max_price_rent_old_value=parseInt(C.val().trim().replace(/\D/g,""),10),C.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?flex_input_max_price_rent_old_value:parseInt(e,10),A(this).val(_.formatPrice(e)+" Sq.Ft.")}),C.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("max-price"):parseInt(t,10))<A(this).data("min-price")?t=A(this).data("min-price"):t>A(this).data("max-price")&&(t=A(this).data("max-price")),t<parseInt(b.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(b.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-price")):(A("#price_rent_to").val(t),A("#idx_max_price_rent").val(t),e=T.indexOf(parseInt(b.val().trim().replace(/\D/g,""),10)),a=T.indexOf(t),flex_input_max_price_rent_old_value=t,-1!==e&&-1!==a&&A("#range-price-rent").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val("$"+_.formatPrice(t))})),A("#land_from")),L=A("#land_to"),I=(k.length&&(k.data("min-sqft",M[0]),k.data("max-sqft",M[M.length-1]),p=parseInt(k.val().trim().replace(/\D/g,""),10),k.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?p:parseInt(e,10),A(this).val(_.formatPrice(e)+" Sq.Ft.")}),k.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("min-sqft"):parseInt(t,10))<A(this).data("min-sqft")?t=A(this).data("min-sqft"):t>A(this).data("max-sqft")&&(t=A(this).data("max-sqft")),t>parseInt(L.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(L.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-sqft")):(A("#land_from").val(t),A("#idx_lot_size_min").val(t),e=M.indexOf(t),a=M.indexOf(parseInt(L.val().trim().replace(/\D/g,""),10)),p=t,-1!==e&&-1!==a&&A("#range-land").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),L.length&&(L.data("min-sqft",M[0]),L.data("max-sqft",M[M.length-1]),c=parseInt(L.val().trim().replace(/\D/g,""),10),L.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?c:parseInt(e,10),A(this).val(_.formatPrice(e)+" "+word_translate.sqft)}),L.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("max-sqft"):parseInt(t,10))<A(this).data("min-sqft")?t=A(this).data("min-sqft"):t>A(this).data("max-sqft")&&(t=A(this).data("max-sqft")),t<parseInt(k.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(k.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-sqft")):(A("#land_to").val(t),A("#idx_lot_size_max").val(t),e=M.indexOf(parseInt(k.val().trim().replace(/\D/g,""),10)),a=M.indexOf(t),c=t,-1!==e&&-1!==a&&A("#range-land").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),A("#living_from")),P=A("#living_to"),D=(I.length&&(I.data("min-sqft",M[0]),I.data("max-sqft",M[M.length-1]),m=parseInt(I.val().trim().replace(/\D/g,""),10),I.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?m:parseInt(e,10),A(this).val(_.formatPrice(e)+" "+word_translate.sqft)}),I.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("min-sqft"):parseInt(t,10))<A(this).data("min-sqft")?t=A(this).data("min-sqft"):t>A(this).data("max-sqft")&&(t=A(this).data("max-sqft")),t>parseInt(P.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(P.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-sqft")):(A("#living_from").val(t),A("#idx_living_area_min").val(t),e=M.indexOf(t),a=M.indexOf(parseInt(P.val().trim().replace(/\D/g,""),10)),m=t,-1!==e&&-1!==a&&A("#range-living").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),P.length&&(P.data("min-sqft",M[0]),P.data("max-sqft",M[M.length-1]),h=parseInt(P.val().trim().replace(/\D/g,""),10),P.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?h:parseInt(e,10),A(this).val(_.formatPrice(e)+" Sq.Ft.")}),P.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("max-sqft"):parseInt(t,10))<A(this).data("min-sqft")?t=A(this).data("min-sqft"):t>A(this).data("max-sqft")&&(t=A(this).data("max-sqft")),t<parseInt(I.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(I.val().trim().replace(/\D/g,""),10)),t=A(this).data("min-sqft")):(A("#living_to").val(t),A("#idx_living_area_max").val(t),e=M.indexOf(parseInt(I.val().trim().replace(/\D/g,""),10)),a=M.indexOf(t),h=t,-1!==e&&-1!==a&&A("#range-living").slider("values",[e,a]),A("#idx_page").val(1),ie()),A(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),A("#year_from")),q=A("#year_to");D.length&&(D.data("min-year",$[0]),D.data("max-year",$[$.length-1]),v=parseInt(D.val(),10),D.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?v:parseInt(e,10),A(this).val(e)}),D.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("min-year"):parseInt(t,10))<A(this).data("min-year")?t=A(this).data("min-year"):t>A(this).data("max-year")&&(t=A(this).data("max-year")),t>parseInt(q.val(),10)?(alert("current value must be less than or equal to "+parseInt(q.val(),10)),t=A(this).data("min-year")):(A("#year_from").val(t),A("#idx_min_year").val(t),e=$.indexOf(t),a=$.indexOf(parseInt(q.val(),10)),v=t,A("#idx_page").val(1),A("#range-year").slider("values",[e,a])),A(this).val(t)})),q.length&&(q.data("min-year",$[0]),q.data("max-year",$[$.length-1]),g=parseInt(q.val(),10),q.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?g:parseInt(e,10),A(this).val(e)}),q.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?A(this).data("max-year"):parseInt(t,10))<A(this).data("min-year")?t=A(this).data("min-year"):t>A(this).data("max-year")&&(t=A(this).data("max-year")),t<parseInt(D.val(),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(D.val(),10)),t=A(this).data("max-year")):(A("#year_to").val(t),A("#idx_max_year").val(t),e=$.indexOf(parseInt(D.val(),10)),a=$.indexOf(t),g=t,A("#idx_page").val(1),A("#range-year").slider("values",[e,a])),A(this).val(t)}))}),A(function(){A("#map-draw-cancel-tg").on("click",function(){if(A(".flex-map-controls-ct").show(),A("#wrap-map-draw-actions").css("display","none"),A("#wrap-map").removeClass("mp-btn"),drawingManager.setMap(null),autoMapSearch=!0,polygons.length&&(1<polygons.length?(polygons[0].setVisible(!0),polygons[1].setMap(null),polygons.pop()):polygons[0].setVisible(!0)),""==A("#idx_keyword").val("")&&""==A("#idx_polygon").val("")&&polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}if(Y.length)for(e=0,a=Y.length;e<a;e++)Y[e].setVisible(!0)}),A("#map-draw-apply-tg").on("click",function(){if(polygons.length){p.classList.add("flex-map-is-drawing"),A(".flex-shown-map").html("Remove Boundaries"),A(".flex-shown-map").css("width","134px"),A(".flex-shown-map").css("left","-148px"),drawingManager.setMap(null),autoMapSearch=!1,A(".flex-map-controls-ct").show(),A("#wrap-map-draw-actions").css("display","none"),A("#wrap-map").removeClass("mp-btn");var e=[];if(polygons.length)for(n=0,o=(polygons=1<polygons.length?[polygons[1]]:polygons).length;n<o;n++){polygons[n].set("editable",!1);for(var a=polygons[n].getPath(),t=a.getArray(),s=[],l=0,i=t.length;l<i;l++)s.push({lat:t[l].lat(),lng:t[l].lng()});t.length&&s.push({lat:a.getAt(0).lat(),lng:a.getAt(0).lng()}),e[n]=s}if(e.length){if(Y.length)for(n=0,o=Y.length;n<o;n++)Y[n].setMap(null);for(var r=[],n=0,o=e[0].length;n<o;n++)r.push(e[0][n].lat+" "+e[0][n].lng);var d="POLYGON(("+r.join(",")+"))";A("#idx_page").val(1),A("#idx_polygon").val(d),ie()}}else if(A(".flex-map-controls-ct").show(),A("#wrap-map-draw-actions").css("display","none"),A("#wrap-map").removeClass("mp-btn"),drawingManager.setMap(null),autoMapSearch=!0,Y.length)for(var n=0,o=Y.length;n<o;n++)Y[n].setVisible(!0)})}),K=J=l=!(Y=[]),ee=[],ae=[],te=[],se=[],oe=![],A(function(){A("#map-actions").on("click","button",function(){A("#wrap-list-result").toggleClass("closed"),A(this).addClass("hide").siblings().removeClass("hide"),setTimeout(function(){google.maps.event.trigger(map,"resize"),setTimeout(function(){google.maps.event.trigger(map,"resize")},200)},100)})}),null!==document.getElementById("code-map")&&google.maps.event.addDomListener(window,"load",function(){myLazyLoad=new LazyLoad({elements_selector:".flex-lazy-image",callback_error:function(e){A(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),A(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}});var e,a=A("#idx_center").val(),t=A("#idx_zoom").val();a=""==a?new google.maps.LatLng(25.789138662506385,-80.15144241556732):(e=a.split(" "),new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1]))),t=""==t?14:parseInt(t,10),map=new google.maps.Map(document.getElementById("code-map"),{center:a,mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:t,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,streetViewControl:!1,disableDefaultUI:!0,clickableIcons:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}}),A("#wrap-result").show(),google.maps.event.addListenerOnce(map,"idle",function(){var e,a=map.getCenter(),t=map.getZoom(),s=map.getBounds();A("#idx_center").val(a.lat()+" "+a.lng()),A("#idx_zoom").val(t),A("#idx_bounds").val([s.getNorthEast().lat(),s.getNorthEast().lng(),s.getSouthWest().lat(),s.getSouthWest().lng()].join(" ")),console.dir({center:[a.lat(),a.lng()],zoom:t,bounds:[s.getNorthEast().lat(),s.getNorthEast().lng(),s.getSouthWest().lat(),s.getSouthWest().lng()]}),!1===mapNotLoaded&&(Z=mapNotLoaded=!0,A("#flex-idx-search-form").length&&(ie(),!1===initLoadMLSAnonymous&&(initLoadMLSAnonymous=!0,null!==(e=localStorage.getItem("ib_anon_mls"))&&(console.log(e),"no"===__flex_g_settings.anonymous&&(setTimeout(function(){A("html").addClass("modal_mobile"),A("#modal_property_detail").addClass("active_modal"),A("#modal_property_detail .detail-modal").html('<span class="ib-modal-property-loading">Loading property details...</span>'),A.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{mlsNumber:e,action:"load_modal_property"},success:function(e){A(document.body).addClass("modal-property-active"),A("#modal_property_detail .detail-modal").html(e)},complete:function(){A("#full-main #clidxboost-data-loadMore-niche").trigger("click"),loadFullSlider(".clidxboost-full-slider")}})},1500),localStorage.removeItem("ib_anon_mls")))))),google.maps.event.addListener(map,"idle",_.debounce(c,700))}),(drawingManager=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,drawingModes:["polygon"]},polygonOptions:{editable:!1,strokeColor:"#31239a",fillOpacity:.1,strokeOpacity:.8,strokeWeight:1,fillColor:"#31239a"}})).setMap(null),google.maps.event.addListener(drawingManager,"overlaycomplete",function(e){var a=e.overlay;a.type=e.type,polygons.push(a),e.overlay.set("editable",!1),drawingManager.setMap(null)}),google.maps.event.addListenerOnce(map,"tilesloaded",f)}),A(function(){A("#filter-views").on("click","li",function(){A(this).hasClass("map")?(K=!0,setTimeout(function(){var e=map.getCenter(),a=map.getZoom();if(google.maps.event.trigger(map,"resize"),!1===J)for(var t=new google.maps.LatLngBounds,s=0,l=Y.length;s<l;s++)t.extend(Y[s].position);else map.setCenter(e),map.setZoom(a)},100)):K=!1}),A("#result-search").on("mouseover",".propertie",function(e){})}))}(jQuery),function(s){s(function(){s(".allf-ss").on("click",function(){s("#flex_save_search_btn").click()}),s(".iboost-alert-change-interval:eq(0)").change(),s(document).on("click",".flex-slider-prev",function(e){e.stopPropagation();var e=s(this).prev().find("li.flex-slider-current").index(),a=s(this).prev().find("li").length,e=0===e?a-1:e-1;s(this).prev().find("li").removeClass("flex-slider-current"),s(this).prev().find("li").addClass("flex-slider-item-hidden"),s(this).prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),void 0!==myLazyLoad&&myLazyLoad.update()}),s(document).on("click",".flex-slider-next",function(e){e.stopPropagation();e=s(this).prev().prev().find("li.flex-slider-current").index();s(this).prev().prev().find("li").length-1<=e?e=0:e+=1,s(this).prev().prev().find("li").removeClass("flex-slider-current"),s(this).prev().prev().find("li").addClass("flex-slider-item-hidden"),s(this).prev().prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),void 0!==myLazyLoad&&myLazyLoad.update()}),s("#hide_flex_alerts_msg").on("click",function(){s(this).parent().remove(),Cookies.set("flex_hide_alert_message","1")}),void 0===Cookies.get("flex_hide_alert_message")&&s("#box_flex_alerts_msg").show(),"#advanced"==window.location.hash&&setTimeout(function(){s(".f-as-trigger").click()},1e3);var e,a,t=s("#filter-views");t.length&&(e=s(window).width(),a=t.find("option:selected").val(),768<=e?t.removeClass(a):e<768&&t.addClass(a))})}(jQuery);