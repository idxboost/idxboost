var initial_title,initial_href,dataAlert,originalPositionY,IB_CURRENT_LEFT_CLICKS,idleListener,IB_TRACKING_IFRAME,ib_xhr_handler,IB_MAP,IB_HIDDEN_BOUNDS,IB_RECTANGLE,IB_LAST_OPENED_MARKER,ib_comm_price_sale_outer_min,ib_comm_price_sale_outer_max,ib_comm_price_sale_inner_min,ib_comm_price_sale_inner_max,ib_comm_price_rent_outer_min,ib_comm_price_rent_outer_max,ib_comm_price_rent_inner_min,ib_comm_price_rent_inner_max,ib_comm_sqft_inner_min,ib_comm_sqft_inner_max,ib_comm_bsize_inner_min,ib_comm_bsize_inner_max,ib_comm_lotsize_inner_min,ib_comm_lotsize_inner_max,ib_comm_beds_inner_min,ib_comm_beds_inner_max,ib_comm_year_inner_min,ib_comm_year_inner_max,ib_comm_rate_inner_min,ib_comm_rate_inner_max,ib_min_price,ib_max_price,ib_min_rent_price,ib_max_rent_price,ib_min_beds,ib_max_beds,ib_min_baths,ib_max_baths,ib_m_types,ib_m_parking,ib_min_living,ib_max_living,ib_min_bsize,ib_max_bsize,ib_min_land,ib_max_land,ib_min_year,ib_max_year,ib_waterfront_switch,ib_m_features,ib_min_caprate,ib_max_caprate,IB_HAS_LEFT_CLICKS=__flex_g_settings.hasOwnProperty("signup_left_clicks")&&null!=__flex_g_settings.signup_left_clicks,current_year=(new Date).getFullYear(),countClickAnonymous=(__flex_idx_search_filter_v2.search.amenities=[{name:"Foreclosure",code:"foreclosure"},{name:"Occupied",code:"is_occupied"},{name:"Short Sale",code:"short_sale"},{name:"Vacant",code:"is_vacant"}],0),IB_USER_IS_DRAWING=!1,ib_xhr_running=!1,IB_IS_SEARCH_FILTER_PAGE=!0,IB_GMAP_INIT=!1,IB_GMAP_FINISHED_POLYGON=!1,size_li_actives=0,size_li_actives_X=0,size_li=0,IB_GMAP_FIT_TO_BOUNDS=!0,IB_LOOKUP_DRAG=!1,IB_IS_FIRST_LOAD=!0,style_map=[];null!=style_map_idxboost&&""!=style_map_idxboost&&(style_map=JSON.parse(style_map_idxboost)),function(B){function y(e){e.preventDefault();var i=T.val();if(""!==i)if(T.autocomplete("close"),19==__flex_g_settings.boardId){for(var a=0,t=s.length;a<t;a++){var n=s[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?r(l.label,"city"):r(i,null)}else if(/^\d+$/.test(i)&&5===i.length)r(i,"zip");else{for(var l,a=0,t=s.length;a<t;a++){n=s[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?r(l.label,"city"):r(i,null)}}function w(e,i){var a=e.term;a in t?i(t[a]):B.ajax({url:__flex_g_settings.suggestions.service_url,dataType:"json",data:{term:e.term,board:__flex_g_settings.boardId},success:function(e){t[a]=e,i(e)}})}function r(e,i){E.find('[name="filter_search_keyword_label"]').val(e),null===i?E.find('[name="filter_search_keyword_type"]').val(""):E.find('[name="filter_search_keyword_type"]').val(i),E.find('[name="polygon_search"]').val(""),IB_MAP.getZoom(),IB_MAP.getBounds(),E.find('[name="rect"]').val(""),E.find('[name="zm"]').val(""),IB_GMAP_FIT_TO_BOUNDS=!0,E.find('[name="page"]').val(1),E.trigger("submit")}function k(e,i){r(i.item.value,i.item.type.toLowerCase()),setTimeout(function(){document.activeElement.blur()},100)}function C(){""===this.value&&(T.autocomplete("option","source",s),T.autocomplete("search",""))}function P(e){""!==this.value&&13===e.keyCode&&(T.autocomplete("close"),setTimeout(function(){document.activeElement.blur()},100)),T.autocomplete("option","source",w)}function I(e){if(40!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&37!=e.keyCode){var i=this.value;if(""!==i&&13===e.keyCode)if(T.autocomplete("close"),setTimeout(function(){document.activeElement.blur()},100),19==__flex_g_settings.boardId){for(var a=0,t=s.length;a<t;a++){var n=s[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?r(l.label,"city"):r(i,null)}else if(/^\d+$/.test(i)&&5===i.length)r(i,"zip");else{for(var l,a=0,t=s.length;a<t;a++){n=s[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?r(l.label,"city"):r(i,null)}""===i&&(T.autocomplete("option","source",s),T.autocomplete("search",""))}}function A(){T.autocomplete("option","source",s),T.autocomplete("search","")}function z(){T.autocomplete("option","source",w)}_.mixin({formatPrice:function(e,i,a,t,n,l,r){a="\\d(?=(\\d{"+(a||3)+"})+"+(0<i?"\\D":"$")+")",e=Number(e).toFixed(Math.max(0,~~i));return(l&&r?l:"")+(n?e.replace(".",n):e).replace(new RegExp(a,"g"),"$&"+(t||","))+(l&&!r?l:"")},formatShortPrice:function(e){var i,e=Number(e);return e<1e3?e:e<1e4?(i=Math.ceil(e/100)/10)+"K":e<1e6?(i=Math.ceil(e/1e3))<100?String(i).substr(0,2)+"K":1e3<=i?"1M":i+"K":(i=e<1e7?Math.ceil(e/1e4)/100:Math.ceil(e/1e5)/10,(i=-1!==String(i,".")?String(i).substr(0,4):i)+"M")},getMLSImage:function(e,i){return["https://retsimages.s3.amazonaws.com",e.substr(-2),i].join("/")},getMLSListImage:function(e,i,a){return["https://retsimages.s3.amazonaws.com",e.substr(-2),e].join("/")+"_"+a+".jpg"}}),Handlebars.registerHelper("capturePositionHackbox",function(e){return 1===e&&!0===__flex_idx_search_filter_v2.hackbox.status?'<li class="ib-pitem ib-pitem-marketing">'+__flex_idx_search_filter_v2.hackbox.content+"</li>":""}),Handlebars.registerHelper("formatBathsHalf",function(e){return 0<e?".5":""}),Handlebars.registerHelper("handleStatusProperty",function(e){return"yes"===e.recently_listed||""!=e.min_ago_txt?0<e.min_ago&&""!=e.min_ago_txt?'<li class="ib-piitem ib-pstatus">'+e.min_ago_txt+"</li>":'<li class="ib-piitem ib-pstatus">'+word_translate.new_listing+"</li>":1!=e.status?'<li class="ib-piitem ib-pstatus">'+e.status_name+"</li>":void 0}),Handlebars.registerHelper("formatPrice",function(e){return"$"+_.formatPrice(e)}),Handlebars.registerHelper("rentalType",function(e){return"1"==e?word_translate.similar_properties_for_rent:word_translate.Similar_properties_for_sale}),Handlebars.registerHelper("formatSqft",function(e){return[null,"",void 0,"undefined",0,"0"].includes(e)?"N/A":_.formatPrice(e)}),Handlebars.registerHelper("formatLotSize",function(e){return _.formatPrice(e)}),Handlebars.registerHelper("formatAcres",function(e,i=null){return[null,"",void 0,"undefined",0,"0"].includes(e)?"N/A":2e4<=(e=parseFloat(e.replaceAll(",","")))?"total"==i?_.formatPrice(e)+" Sq.Ft / "+parseFloat((e/43560).toFixed(2))+" Acre":parseFloat((e/43560).toFixed(2))+" Acre":_.formatPrice(e)}),Handlebars.registerHelper("hasAcre",function(e){return![null,"",void 0,"undefined",0,"0"].includes(e)&&2e4<=(e=parseFloat(e.replaceAll(",","")))}),Handlebars.registerHelper("idxFavoriteClass",function(e){var i=["ib-pfheart","ib-pfstar","ib-pfcube"][__flex_idx_search_filter_v2.search.view_icon_type],a=[];return a.push(i),e.hasOwnProperty("token_alert")&&e.token_alert.length&&a.push("ib-pf-active"),a.join(" ")}),Handlebars.registerHelper("idxPermalinkModal",function(e){return __flex_idx_search_filter_v2.propertyDetailPermalink+"/"+e}),Handlebars.registerHelper("idxPermalink",function(e){return __flex_idx_search_filter_v2.propertyDetailPermalink+"/"+e.slug}),Handlebars.registerHelper("idxFavoriteText",function(e){return""===e.token_alert?word_translate.save:word_translate.remove}),Handlebars.registerHelper("formatPriceSqft",function(e){return 0<e.sqft&&0<e.price?_.formatPrice(e.price/e.sqft):""}),Handlebars.registerHelper("idxGalleryImages",function(e){if(0<e.gallery.length){for(var i=[],a=0,t=e.gallery.length;a<t;a++)i.push(a<1?'<img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" src="'+e.gallery[a]+'" class="ib-pifimg" alt="'+e.full_address+'" alt="'+e.full_address+'">':'<img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" data-lazy="'+e.gallery[a]+'" class="gs-lazy" alt="'+e.full_address+'">');return i.join("")}return'<img src="https://www.idxboost.com/i/default_thumbnail.jpg" class="ib-pifimg" alt="'+e.full_address+'">'}),Handlebars.registerHelper("idxImage",function(e){return 0<e.img_cnt?_.getMLSImage(e.mls_num,e.image):"https://www.idxboost.com/i/default_thumbnail.jpg"}),Handlebars.registerHelper("idxRelatedImage",function(e){return""!=e.thumbnail?e.thumbnail:"https://www.idxboost.com/i/default_thumbnail.jpg"}),Handlebars.registerHelper("idxImageEmpty",function(e){return e.img_cnt<2?"ib-piwoimgs":""}),Handlebars.registerHelper("propertyHasNoImages",function(e){return 0==e.img_cnt?"ib-pvlist-wophotos":""}),Handlebars.registerHelper("markPhotosActive",function(e){return 0<parseInt(e.img_cnt,10)?"ib-pvi-active":""}),Handlebars.registerHelper("isNotSingleorCondos",function(e){return"1"!=e.tw&&"1"!=e.mf&&"1"!=e.is_vacant||""==e.more_info_info.style?"":'<li><span class="ib-plist-st">'+word_translate.style+'</span><span class="ib-plist-pt">'+e.more_info_info.style+"</span></li>"}),Handlebars.registerHelper("isSingleorCondos",function(e){return"1"!=e.tw&&"1"!=e.mf&&"1"!=e.is_vacant&&""!=e.more_info_info.style?'<li><span class="ib-plist-st">'+word_translate.style+'</span><span class="ib-plist-pt">'+e.more_info_info.style+"</span></li>":""}),Handlebars.registerHelper("markClassActiveTab",function(e){return 0<parseInt(e.img_cnt,10)?"ib-pva-photos":"ib-pva-map"}),Handlebars.registerHelper("markMapActive",function(e){return 0==parseInt(e.img_cnt,10)?"ib-pvi-active":""}),Handlebars.registerHelper("isRentalTypeListing",function(e){return 1==e?"/"+word_translate.month:""}),Handlebars.registerHelper("isRentalType",function(e){return e.hasOwnProperty("is_rental")&&"1"==e.is_rental?"/"+word_translate.month:""}),Handlebars.registerHelper("idxSliderLoop",function(e){for(var i=[],a=0,t=e.gallery.length;a<t;a++)i.push('<img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-pvsitem" src="'+e.gallery[a]+'" alt="'+e.full_address+'">');return i.join("")}),Handlebars.registerHelper("idxBoardDisclaimer",function(i){let a="";if((window.property=i).hasOwnProperty("board_info")&&i.board_info.hasOwnProperty("board_disclaimer")&&!["",null,void 0,"undefined","null"].includes(i.board_info.board_disclaimer)){let e=i.board_info.board_disclaimer.replace("{officeName}",i.office_name);e=e.replace("{office_phone}",'<a href="tel:'+i.phone_office+'">'+i.phone_office+"</a>"),a="<p>"+e+"</p>"}return a}),Handlebars.registerHelper("idxBoardDisclaimerExist",function(e){let i=!1;return i=e.hasOwnProperty("board_info")&&e.board_info.hasOwnProperty("board_disclaimer")&&!["",null,void 0,"undefined","null"].includes(e.board_info.board_disclaimer)?!0:i}),Handlebars.registerHelper("propertyPermalink",function(e){return __flex_idx_search_filter_v2.propertyDetailPermalink+"/"+e}),Handlebars.registerHelper("agentPhoto",function(e){return __flex_idx_search_filter_v2.agentPhoto}),Handlebars.registerHelper("agentFullName",function(e){return __flex_idx_search_filter_v2.agentFullName}),Handlebars.registerHelper("agentPhoneNumber",function(e){return __flex_idx_search_filter_v2.agentPhone.replace(/[^\d+]/g,"")}),Handlebars.registerHelper("agentPhone",function(e){return __flex_idx_search_filter_v2.agentPhone}),Handlebars.registerHelper("idxReduced",function(e){return e<0?'<div class="ib-pipanumber ib-pipadown">'+e+"%</div>":0<e?'<div class="ib-pipanumber">'+e+"%</div>":""}),Handlebars.registerHelper("leadFirstName",function(e){return __flex_idx_search_filter_v2.leadFirstName}),Handlebars.registerHelper("leadLastName",function(e){return __flex_idx_search_filter_v2.leadLastName}),Handlebars.registerHelper("leadEmailAddress",function(e){return __flex_idx_search_filter_v2.leadEmailAddress}),Handlebars.registerHelper("leadPhoneNumber",function(e){return __flex_idx_search_filter_v2.leadPhoneNumber}),__flex_idx_search_filter_v2.search.price_sale_range.push({label:word_translate.any_price,value:"--"}),__flex_idx_search_filter_v2.search.price_rent_range.push({label:word_translate.any_price,value:"--"}),__flex_idx_search_filter_v2.search.living_size_range.push({label:word_translate.any_size,value:"--"}),__flex_idx_search_filter_v2.search.lot_size_range.push({label:word_translate.any_size,value:"--"});var p,L,E,M,S,u,F,R,D,H,ne,le,re,se,oe,_e,ce,me,de,pe,ue,he,ge,be,fe,ve,T,O,xe,ye,q,we,h,ke,Ce,N,j,Pe,Ie,G,Ae,g,U,b,f,v,e,$,K,x=document.createDocumentFragment(),Z=_.pluck(__flex_idx_search_filter_v2.search.price_sale_range,"value"),Y=_.pluck(__flex_idx_search_filter_v2.search.price_rent_range,"value"),V=_.pluck(__flex_idx_search_filter_v2.search.beds_range,"value"),W=[0,1,2,3,4,5,6],Q=_.pluck(__flex_idx_search_filter_v2.search.living_size_range,"value"),X=_.pluck(__flex_idx_search_filter_v2.search.lot_size_range,"value"),J=_.pluck(__flex_idx_search_filter_v2.search.year_built_range,"value"),s=function(){var e=_.pluck(__flex_g_settings.params.cities,"name"),i=[];if(e.length)for(var a=0,t=e.length;a<t;a++)i.push({label:e[a],type:word_translate.city});return i}(),t={},ee=[],ze=[],Me=!1,ie=[];function Se(e,i,a,t){e=e.replace(/[^\d]/g,""),i=parseFloat(i),a=a.replace(/[^\d]/g,""),t=parseFloat(t);for(var n=0,l=e*(i/100),e=e-l,r=1+(t/=100)/12,s=r,o=0;o<12*a;o++)n+=1/s,s*=r;var t=e/n,c=0,i=t+(c=i<20?e/1e5*55:c);return{mortgage:_.formatPrice(e),down_payment:_.formatPrice(l),monthly:_.formatPrice(t,2),total_monthly:_.formatPrice(i,2)}}function a(e){var i;g.getDrawingMode()&&g.setDrawingMode(null),"polygon"===e.type&&(i=(e=e.overlay).getPath(),U=e,IB_GMAP_FINISHED_POLYGON=!0,e=google.maps.geometry.encoding.encodePath(i),e=(e=btoa(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,""),E.find('[name="crid"]').val(e),e.length%4!=0&&(e+="===".slice(0,4-e.length%4)),e.replace(/-/g,"+").replace(/_/g,"/"))}function Oe(){(b=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),(f=document.createElement("div")).classList.add("flex-map-zoomIn"),b.appendChild(f),(v=document.createElement("div")).classList.add("flex-map-zoomOut"),b.appendChild(v),(e=document.createElement("div")).classList.add("flex-map-draw"),b.appendChild(e),document.createElement("div").classList.add("flex-map-draw-erase"),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),b.appendChild(satelliteMapButton),google.maps.event.addDomListener(f,"click",n),google.maps.event.addDomListener(v,"click",l),google.maps.event.addDomListener(e,"click",o),google.maps.event.addDomListener(satelliteMapButton,"click",i),IB_MAP.controls[google.maps.ControlPosition.TOP_RIGHT].push(b)}function i(e){e.stopPropagation(),e.preventDefault(),IB_MAP.setMapTypeId(google.maps.MapTypeId.HYBRID),B(this).hasClass("is-active")?(B(this).removeClass("is-active"),IB_MAP.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(B(this).addClass("is-active"),IB_MAP.setMapTypeId(google.maps.MapTypeId.HYBRID))}function n(e){e.stopPropagation(),e.preventDefault(),IB_MAP.setZoom(IB_MAP.getZoom()+1)}function l(e){e.stopPropagation(),e.preventDefault(),IB_MAP.setZoom(IB_MAP.getZoom()-1)}function o(){if(IB_LOOKUP_DRAG=!1,K.isOpen()&&K.close(),!0===Me&&void 0!==$&&$.setVisible(!1),void 0!==U&&U.setMap(null),ee)for(var e=0,i=ee.length;e<i;e++)ee[e].setVisible(!1);B(b).hide(),B("#wrap-map-draw-actions").css("display","flex"),g=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,drawingModes:["polygon"]},polygonOptions:{editable:!1,strokeWeight:1,strokeOpacity:.8,strokeColor:"#31239a",fillOpacity:.1,fillColor:"#31239a"}}),google.maps.event.addListenerOnce(g,"overlaycomplete",a),g.setMap(IB_MAP),IB_USER_IS_DRAWING=!0}{function ae(e){/webOS|iPhone|iPad/i.test(navigator.userAgent)&&B("body").addClass("only-mobile"),lastOpenedProperty=e,void 0!==K&&K.isOpen()&&K.close();e=__flex_idx_search_filter_v2.lookupListingsDetail.replace(/{{mlsNumber}}/g,e);B.ajax({type:"POST",url:e,data:{access_token:p,flex_credentials:Cookies.get("ib_lead_token")},success:function(i){var e,a,t,n,l,r;function s(e){e.stopPropagation(),e.preventDefault(),t.setMapTypeId(google.maps.MapTypeId.HYBRID),B(this).hasClass("is-active")?(B(this).removeClass("is-active"),t.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(B(this).addClass("is-active"),t.setMapTypeId(google.maps.MapTypeId.HYBRID))}function o(e){e.stopPropagation(),e.preventDefault(),t.setZoom(t.getZoom()+1)}function _(e){e.stopPropagation(),e.preventDefault(),t.setZoom(t.getZoom()-1)}function c(){var e,i=t.getDiv().firstChild;m(i)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():(e=i).requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen(),document.onwebkitfullscreenchange=document.onmsfullscreenchange=document.onmozfullscreenchange=document.onfullscreenchange=function(){m(i)?fullscreenControl.classList.add("is-fullscreen"):fullscreenControl.classList.remove("is-fullscreen")}}function m(e){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)==e}jQuery("#_ib_lead_activity_tab").length&&jQuery("#_ib_lead_activity_tab button:eq(0)").click(),void 0!==IB_TRACKING_IFRAME&&B(IB_TRACKING_IFRAME).remove(),"undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&i.hasOwnProperty("mls_num")&&i.hasOwnProperty("price")&&(l=parseInt(i.price.replace(/[^\d+]/g,"")),dataLayer.push({event:"view_item",value:l,items:[{id:i.mls_num,google_business_vertical:"real_estate"}]})),setTimeout(function(){var e;0<B(".ib-property-mortage-submit").length&&(e=i.price,B(".ib-property-mortgage-f:eq(0)").trigger("reset"),e=Se(e,B(".ib-property-mc-dp:eq(0)").val(),B(".ib-property-mc-ty:eq(0)").val(),B(".ib-property-mc-ir:eq(0)").val()),B(".ib-price-calculator").text("$"+e.monthly+"/mo"),B(".js-est-payment").hide(),"0"==i.is_rental&&B(".js-est-payment").show())},1e3),(IB_TRACKING_IFRAME=document.createElement("iframe")).setAttribute("id","__ib-tracking-iframe"),IB_TRACKING_IFRAME.setAttribute("src",__flex_idx_search_filter_v2.propertyDetailPermalink+"/"+i.slug),IB_TRACKING_IFRAME.style.width="1px",IB_TRACKING_IFRAME.style.height="1px",document.body.appendChild(IB_TRACKING_IFRAME),IB_TRACKING_IFRAME.onload=function(){setTimeout(function(){B(IB_TRACKING_IFRAME).remove()},3e3)},h.length&&ke.length&&(l=Handlebars.compile(ke.html()),h.html(l(i)),l=void 0!==Cookies.get("_ib_user_firstname")?Cookies.get("_ib_user_firstname"):"",e=void 0!==Cookies.get("_ib_user_lastname")?Cookies.get("_ib_user_lastname"):"",a=void 0!==Cookies.get("_ib_user_email")?Cookies.get("_ib_user_email"):"",n=void 0!==Cookies.get("_ib_user_phone")&&"null"!=Cookies.get("_ib_user_phone")?Cookies.get("_ib_user_phone"):"",B("#_ib_fn_inq").val(l),B("#_ib_ln_inq").val(e),B("#_ib_em_inq").val(a),B("#_ib_ph_inq").val(n),0<parseInt(i.img_cnt,10)&&(Ce=h.find(".ib-pvslider:eq(0)"),i.gallery.length&&(Ce=Ce.greatSlider({type:"swipe",nav:!0,bullets:!1,lazyLoad:!0,navSpeed:150,layout:{fsButtonDefaultStyles:!1,fsButtonClass:"ib-btnfs"},fullscreen:!1,breakPoints:{768:{fullscreen:!0},640:{items:2},1024:{items:3}},onInited:function(){767<B(window).width()&&h.find(".gs-item-slider").on("click",function(){Ce.fullscreen("in",B(this).index()+1)});var e=h.find(".ib-pvsinumber");e.length?h.find(".ib-pvsinumber").text(h.find(".gs-item-active").index()+1+" of "+h.find(".ib-pvsitem").length):h.find(".gs-container-items").append('<span class="ib-pvsinumber">'+(h.find(".gs-item-active").index()+1)+" of "+h.find(".ib-pvsitem").length+"</span>")},onLoadedItem:function(e,i,a){"success"!=a&&setTimeout(function(){e.attr("src","https://www.idxboost.com/i/default_thumbnail.jpg")},2e3)},onFullscreenIn:()=>{h.find(".ib-pvsititle").length||h.find(".gs-container-items").append('<span class="ib-pvsititle">'+B(".ib-ptitle").text()+" "+B(".ib-pstitle").text()+"</span>")},onStepEnd:(e,i)=>{h.find(".ib-pvsinumber").text(i+" of "+h.find(".ib-pvsitem").length)}}))),0===parseInt(i.img_cnt,10)&&(l={lat:parseFloat(i.lat),lng:parseFloat(i.lng)},e=new google.maps.Map(h.find(".ib-pmap")[0],{zoom:18,center:l,styles:style_map,gestureHandling:"cooperative",panControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,streetViewControl:!0}),new google.maps.Marker({position:l,map:e})),B("#ib-modal-property-map").length&&(a={lat:parseFloat(i.lat),lng:parseFloat(i.lng)},t=new google.maps.Map(document.getElementById("ib-modal-property-map"),{zoom:18,center:a,styles:style_map,gestureHandling:"cooperative",panControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,streetViewControl:!0}),new google.maps.Marker({position:a,map:t}),google.maps.event.addListenerOnce(t,"tilesloaded",function(){(b=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),b.appendChild(fullscreenControl),(f=document.createElement("div")).classList.add("flex-map-zoomIn"),b.appendChild(f),(v=document.createElement("div")).classList.add("flex-map-zoomOut"),b.appendChild(v),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),b.appendChild(satelliteMapButton),google.maps.event.addDomListener(f,"click",o),google.maps.event.addDomListener(v,"click",_),google.maps.event.addDomListener(fullscreenControl,"click",c),google.maps.event.addDomListener(satelliteMapButton,"click",s),t.controls[google.maps.ControlPosition.TOP_RIGHT].push(b)})),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(document.title="Checkout this property #"+i.mls_num+" "+i.address_short+" "+i.address_large,history.pushState(null,null,__flex_g_settings.propertyDetailPermalink+"/"+i.slug)):((n=new URLSearchParams(window.location.search)).set("show",i.mls_num),history.pushState(null,null,"?"+n.toString())),"yes"===__flex_g_settings.anonymous&&(l=JSON.parse(Cookies.get("_ib_user_listing_views")),-1===B.inArray(i.mls_num,l)&&(l.push(i.mls_num),Cookies.set("_ib_user_listing_views",JSON.stringify(l)))),void 0===Cookies.get("_ib_disabled_forcereg")&&(!0===IB_HAS_LEFT_CLICKS?(IB_CURRENT_LEFT_CLICKS=parseInt(Cookies.get("_ib_left_click_force_registration"),10)-1,Cookies.set("_ib_left_click_force_registration",IB_CURRENT_LEFT_CLICKS),parseInt(Cookies.get("_ib_left_click_force_registration"),10)<=0&&"yes"===__flex_g_settings.anonymous&&(B("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),B("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),B("#modal_login").find(".item_tab").removeClass("active"),B("#tabRegister").addClass("active"),B("#modal_login #msRst").empty().html(B("#mstextRst").html()),B("button.close-modal").addClass("ib-close-mproperty"),B(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),B("#modal_login h2").html(B("#modal_login").find("[data-tab]:eq(1)").data("text-force")),r=B(".header-tab a[data-tab='tabRegister']").attr("data-text"),B("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(r))):"yes"===__flex_g_settings.anonymous&&__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&(B("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),B("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),B("#modal_login").find(".item_tab").removeClass("active"),B("#tabRegister").addClass("active"),B("#modal_login #msRst").empty().html(B("#mstextRst").html()),B("button.close-modal").addClass("ib-close-mproperty"),B(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),B("#modal_login h2").html(B("#modal_login").find("[data-tab]:eq(1)").data("text-force")),r=B(".header-tab a[data-tab='tabRegister']").attr("data-text"),B("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(r))),B("html").addClass("ib-mpropertie-open"),__flex_g_settings.hasOwnProperty("google_recaptcha_public_key")&&""!=__flex_g_settings.google_recaptcha_public_key&&(B(".ib-propery-inquiry-f:eq(0)").find('input[name="recaptcha_response"]').remove(),grecaptcha.execute(__flex_g_settings.google_recaptcha_public_key).then(function(e){B(".ib-propery-inquiry-f:eq(0)").append('<input type="hidden" name="recaptcha_response" value="'+e+'">'),console.dir(e)})))}})}void 0===ae&&(window.loadPropertyInModal=ae)}function Be(i,e,a){var t=__flex_idx_search_filter_v2.trackListingsDetail.replace(/{{mlsNumber}}/g,i);B.ajax({type:"POST",url:t,data:{access_token:p,flex_credentials:Cookies.get("ib_lead_token"),url_origin:location.origin,url_referer:document.referrer,user_agent:navigator.userAgent},success:function(e){"add"===e.type?B(this).data("token-alert",e.token_alert):B(this).data("token-alert",""),"modal"===a&&("add"===e.type?q.find(".ib-pfavorite").each(function(){B(this).data("mls")===i&&(B(this).addClass("ib-pf-active"),B(this).data("token-alert",e.token_alert))}):q.find(".ib-pfavorite").each(function(){B(this).data("mls")===i&&B(this).removeClass("ib-pf-active")})),jQuery("#_ib_lead_activity_tab").length&&jQuery("#_ib_lead_activity_tab button:eq(1)").click()}})}function te(e){return null==e||""==e?"":e.length?(e=e.replace(/[^0-9+]/gi,""),_.formatPrice(e)):void 0}function Le(e){return null==e||""==e?"":e.length?e.replace(/[^0-9\.+]/gi,""):void 0}function Ee(O){ib_xhr_running&&ib_xhr_handler.abort(),ib_xhr_running=!0,void 0!==O&&O.preventDefault(),void 0!==K&&K.isOpen()&&K.close(),B(".ib-temp-modal-infobox").remove(),B("#ib-apply-filters-btn").html(word_translate.searching+"..."),ve.html(word_translate.searching+"..."),B(".ib-fmapply").html(word_translate.searching+"..."),we.html(word_translate.loading_properties),B(".ib-wgrid:eq(0)").animate({scrollTop:0},0),ib_xhr_handler=B.ajax({type:"POST",url:__flex_idx_search_filter_v2.lookupSearchFilter,data:{access_token:p,flex_credentials:Cookies.get("ib_lead_token"),search_filter_id:L.data("filter-id"),post_params:E.serialize(),query_params:""!=location.search?location.search.substr(1):location.search,event_triggered:void 0!==O?"yes":"no",device_width:window.innerWidth},success:function(e){if(ib_xhr_running=!1,dataAlert=e,"undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&e.hasOwnProperty("items")&&e.items.length){for(var i=_.pluck(e.items,"mls_num"),a=[],t=0,n=i.length;t<n;t++)a.push({id:i[t],google_business_vertical:"real_estate"});a.length&&(dataLayer.push({event:"view_item_list",items:a}),a.length=0)}"#more-options"===location.hash&&setTimeout(function(){B(".ib-bfilters").click(),history.replaceState(null,null," ")},500),IB_USER_IS_DRAWING=!1,/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&window.scrollTo(0,0);var l=e.params,r=e.pagination,s=e.items,o=e.map_items,c=e.slug,m=e.condition,d=(L.attr("data-count",r.count),L.attr("data-condition",m),L.attr("data-name",l.name),L.attr("data-params",JSON.stringify({sale_type:l.sale_type,min_rent_price:l.min_rent_price,max_rent_price:l.max_rent_price,min_sale_price:l.min_sale_price,max_sale_price:l.max_sale_price,min_beds:l.min_beds,max_beds:l.max_beds,min_living_size:l.min_living_size,max_living_size:l.max_living_size})),"0"==l.sale_type?null==l.min_sale_price&&null==l.max_sale_price?N.html(word_translate.any_price):null!=l.min_sale_price&&null!=l.max_sale_price?(N.html("$"+_.formatShortPrice(l.min_sale_price)+" - $"+_.formatShortPrice(l.max_sale_price)),console.log("[1]")):null!=l.min_sale_price&&null==l.max_sale_price?(N.html("$"+_.formatShortPrice(l.min_sale_price)+" - "+word_translate.any_price),console.log("[2]")):null==l.min_sale_price&&null!=l.max_sale_price&&(N.html("$"+_.formatShortPrice("0")+" - $"+_.formatShortPrice(l.max_sale_price)),console.log("[3]")):null==l.min_rent_price&&null==l.max_rent_price?N.html(word_translate.any_price):null!=l.min_rent_price&&null!=l.max_rent_price?(N.html("$"+_.formatShortPrice(l.min_rent_price)+" - $"+_.formatShortPrice(l.max_rent_price)),console.log("[1]")):null!=l.min_rent_price&&null==l.max_rent_price?(N.html("$"+_.formatShortPrice(l.min_rent_price)+" - "+word_translate.any_price),console.log("[2]")):null==l.min_rent_price&&null!=l.max_rent_price&&(N.html("$"+_.formatShortPrice("0")+" - $"+_.formatShortPrice(l.max_rent_price)),console.log("[3]")),null==l.min_beds&&null==l.max_beds?j.html(word_translate.any_beds):null!=l.min_beds&&null==l.max_beds?0==l.min_beds?j.html(word_translate.any_beds):j.html(_.formatShortPrice(l.min_beds)+" - "+word_translate.any_beds):j.html(_.formatShortPrice(l.min_beds)+" - "+_.formatShortPrice(l.max_beds)+" "+word_translate.beds),[]),p=__flex_idx_search_filter_v2.commercial_types;if([].forEach.call(l.property_type,function(e){for(var i=0,a=p.length;i<a;i++)p[i].value==e&&d.push(p[i].label)}),d.length?(Ie.html(d.join(", ")),d.length=0):Ie.html(word_translate.any_type),ve.html(word_translate.view+" "+_.formatShortPrice(r.count)+" "+word_translate.listings),B(".ib-fmapply").html(word_translate.view+" "+_.formatShortPrice(r.count)+" "+word_translate.listings),B("#ib-apply-filters-btn").html(word_translate.view+" <span>"+_.formatShortPrice(r.count)+"</span> "+word_translate.properties),E.find('[name="sale_type"]').val(l.sale_type),E.find('[name="filter_search_keyword_label"]').val(l.filter_search_keyword_label),E.find('[name="filter_search_keyword_type"]').val(l.filter_search_keyword_type),E.find('[name="min_sale_price"]').val(l.min_sale_price),E.find('[name="max_sale_price"]').val(l.max_sale_price),E.find('[name="min_rent_price"]').val(l.min_rent_price),E.find('[name="max_rent_price"]').val(l.max_rent_price),E.find('[name="min_beds"]').val(l.min_beds),E.find('[name="max_beds"]').val(l.max_beds),E.find('[name="min_baths"]').val(l.min_baths),E.find('[name="max_baths"]').val(l.max_baths),E.find('[name="min_living_size"]').val(l.min_living_size),E.find('[name="max_living_size"]').val(l.max_living_size),E.find('[name="min_lot_size"]').val(l.min_lot_size),E.find('[name="max_lot_size"]').val(l.max_lot_size),E.find('[name="lot_size_measure_type"]').val(l.lot_size_measure_type),E.find('[name="min_year"]').val(l.min_year),E.find('[name="max_year"]').val(l.max_year),E.find('[name="sort_type"]').val(l.sort_type),E.find('[name="page"]').val(l.currentpage),l.hasOwnProperty("overwrite_show_hide_pending")&&(E.find('[name="overwrite_show_hide_pending"]').val(l.overwrite_show_hide_pending),"yes"===l.overwrite_show_hide_pending?(B("#pendingContigentMin").prop("checked",!0),B("#pendingContigent").prop("checked",!0),B("#pendingContigentMobile").prop("checked",!0)):(B("#pendingContigentMin").prop("checked",!1),B("#pendingContigent").prop("checked",!1),B("#pendingContigentMobile").prop("checked",!1))),l.hasOwnProperty("property_type")&&E.find('[name="property_type"]').val(l.property_type.join(",")),l.hasOwnProperty("zm")&&E.find('[name="zm"]').val(l.zm),l.hasOwnProperty("rect")&&E.find('[name="rect"]').val(l.rect),l.hasOwnProperty("polygon_search")&&E.find('[name="polygon_search"]').val(l.polygon_search),E.find('[name="parking_options"]').val(l.parking_options),l.hasOwnProperty("amenities")&&E.find('[name="amenities"]').val(l.amenities.join(",")),(!l.hasOwnProperty("filter_search_keyword_label")||!l.hasOwnProperty("polygon_search")||(null!=l.filter_search_keyword_label||null!=l.polygon_search||l.hasOwnProperty("kml_boundaries")||(IB_LOOKUP_DRAG=!0),l.hasOwnProperty("kml_boundaries")&&l.kml_boundaries.length))&&(IB_LOOKUP_DRAG=!1),""!=l.polygon_search&&null!=l.polygon_search||""!=l.filter_search_keyword_label&&null!=l.filter_search_keyword_label||(IB_LOOKUP_DRAG=!0),("0"==l.sale_type?(B(".ib-price-range-wrap").hide(),B(".ib-price-range-wrap-sale").show(),R.find("div:eq(0)")):(B(".ib-price-range-wrap").hide(),B(".ib-price-range-wrap-rent").show(),R.find("div:eq(1)"))).addClass("ib-fifor-active"),ye.length)if(1<r.pages){var u=[];if(u.push('<span class="ib-pagn">'+word_translate.page+" "+l.currentpage+" "+word_translate.of+" "+r.pages+"</span>"),1<l.currentpage&&u.push('<a class="ib-pagfirst ib-paggo" data-page="1" href="#"><span>'+word_translate.first_page+"</span></a>"),r.prev&&u.push('<a class="ib-pagprev ib-paggo" data-page="'+(l.currentpage-1)+'" href="#"><span>'+word_translate.previous_page+"</span></a>"),r.range.length){u.push('<div class="ib-paglinks">');for(t=0,n=r.range.length;t<n;t++)l.currentpage==r.range[t]?u.push('<a class="ib-plitem ib-plitem-active" data-page="'+r.range[t]+'" href="#">'+r.range[t]+"</a>"):u.push('<a class="ib-plitem" data-page="'+r.range[t]+'" href="#">'+r.range[t]+"</a>");u.push("</div>")}r.next&&u.push('<a class="ib-pagnext ib-paggo" data-page="'+(l.currentpage+1)+'" href="#"><span>'+word_translate.next_page+"</span></a>"),l.currentpage<r.pages&&u.push('<a class="ib-paglast ib-paggo" data-page="'+r.pages+'" href="#"><span>'+word_translate.last_page+"</span></a>"),u.length&&(ye.html(u.join("")),u.length=0)}else ye.html("");xe.length&&xe.val(l.sort_type),we.length&&we.html(word_translate.showing+" "+r.start+" "+word_translate.to+" "+r.end+" "+word_translate.of+" "+_.formatPrice(r.count)+" "+word_translate.properties+"."),""!=l.filter_search_keyword_label&&T.val(l.filter_search_keyword_label),F.length&&F.find("input").each(function(e,i){var a=-1===B.inArray(i.value,l.property_type)?parseInt(i.value,10):i.value;-1!=B.inArray(a,l.property_type)&&(i.checked=!0)}),IB_LB_MEASURE_TYPE.length&&IB_LB_MEASURE_TYPE.each(function(){l.lot_size_measure_type,B(this).val()}),B(".ib-status-types").each(function(){B(this).find("input").each(function(){-1!==B.inArray(this.value,l.amenities)&&(this.checked=!0)})}),ib_comm_rate_inner_min.length&&E.find('[name="min_cap_rate"]').val(l.min_cap_rate),ib_comm_rate_inner_max.length&&E.find('[name="max_cap_rate"]').val(l.max_cap_rate),_e.length&&null!=l.min_sale_price&&""!=l.min_sale_price&&(m=_.formatPrice(l.min_sale_price),_e.val(m)),ce.length&&null!=l.max_sale_price&&""!=l.max_sale_price&&(m=_.formatPrice(l.max_sale_price),ce.val(m)),me.length&&null!=l.min_rent_price&&""!=l.min_rent_price&&(m=_.formatPrice(l.min_rent_price),me.val(m)),de.length&&null!=l.max_rent_price&&""!=l.max_rent_price&&(m=_.formatPrice(l.max_rent_price),de.val(m)),pe.length&&(m=null==l.min_year?"1900":l.min_year,pe.val(m)),ue.length&&(m=null==l.max_year?current_year:l.max_year,ue.val(m)),ib_comm_bsize_inner_min.length&&null!=l.min_building_size&&""!=l.min_building_size&&(m=l.min_building_size.replace(/[^0-9+]/gi,""),ib_comm_bsize_inner_min.val(_.formatPrice(m))),ib_comm_bsize_inner_max.length&&null!=l.max_building_size&&""!=l.max_building_size&&(m=l.max_building_size.replace(/[^0-9+]/gi,""),ib_comm_bsize_inner_max.val(_.formatPrice(m))),ib_comm_beds_inner_min.length&&null!=l.min_beds&&""!=l.min_beds&&ib_comm_beds_inner_min.val(l.min_beds),ib_comm_beds_inner_max.length&&null!=l.max_beds&&""!=l.max_beds&&ib_comm_beds_inner_max.val(l.max_beds),ib_comm_rate_inner_min.length&&null!=l.min_cap_rate&&""!=l.min_cap_rate&&ib_comm_rate_inner_min.val(l.min_cap_rate),ib_comm_rate_inner_max.length&&null!=l.max_cap_rate&&""!=l.max_cap_rate&&ib_comm_rate_inner_max.val(l.max_cap_rate),he.length&&null!=l.min_living_size&&""!=l.min_living_size&&(m=_.formatPrice(l.min_living_size),2e4<=parseFloat(l.min_living_size)&&(m=(parseFloat(l.min_living_size)/43560).toFixed(2)+" Acre"),he.val(m)),ge.length&&null!=l.max_living_size&&""!=l.max_living_size&&(m=_.formatPrice(l.max_living_size),2e4<=parseFloat(l.max_living_size)&&(m=(parseFloat(l.max_living_size)/43560).toFixed(2)+" Acre"),ge.val(m)),be.length&&null!=l.min_lot_size&&""!=l.min_lot_size&&(m=_.formatPrice(l.min_lot_size),2e4<=parseFloat(l.min_lot_size)&&(m=(parseFloat(l.min_lot_size)/43560).toFixed(2)+" Acre"),be.val(m)),fe.length&&null!=l.max_lot_size&&""!=l.max_lot_size&&(m=_.formatPrice(l.max_lot_size),2e4<=parseFloat(l.max_lot_size)&&(m=(parseFloat(l.max_lot_size)/43560).toFixed(2)+" Acre"),fe.val(m)),D.slider("option","values",(m=l.min_sale_price,g=l.max_sale_price,[null==m||"--"==m?0:Z.indexOf(parseInt(m,10)),null==g||"--"==g?Z.length-1:Z.indexOf(parseInt(g,10))])),H.slider("option","values",(m=l.min_rent_price,g=l.max_rent_price,[null==m||"--"==m?0:Y.indexOf(parseInt(m,10)),null==g||"--"==g?Y.length-1:Y.indexOf(parseInt(g,10))])),oe.slider("option","values",(m=l.min_year,g=l.max_year,[null==m?0:J.indexOf(parseInt(m,10)),null==g?J.length-1:J.indexOf(parseInt(g,10))])),ne.slider("option","values",(m=l.min_beds,g=l.max_beds,[null==m?0:V.indexOf(parseInt(m,10)),null==g?V.length-1:V.indexOf(parseInt(g,10))])),le.slider("option","values",(m=l.min_baths,g=l.max_baths,[null==m?0:W.indexOf(parseInt(m,10)),null==g?W.length-1:W.indexOf(parseInt(g,10))])),re.slider("option","values",(m=l.min_living_size,g=l.max_living_size,[null==m||"--"==m?0:Q.indexOf(parseInt(m,10)),null==g||"--"==g?Q.length-1:Q.indexOf(parseInt(g,10))])),se.slider("option","values",(m=l.min_lot_size,g=l.max_lot_size,[null==m||"--"==m?0:X.indexOf(parseInt(m,10)),null==g||"--"==g?X.length-1:X.indexOf(parseInt(g,10))]));var h,m=B("#ib-aside-template").html(),g=Handlebars.compile(m);if(q.html(g(s)),initial_href=void 0!==O?""!=c?(history.pushState(null,null,"?"+decodeURIComponent(c)),initial_title=document.title,"?"+decodeURIComponent(c)):(history.pushState(null,null,__flex_idx_search_filter_v2.searchFilterPermalink),initial_title=document.title,__flex_idx_search_filter_v2.searchFilterPermalink):(initial_title=document.title,location.href),void 0===IB_MAP&&(z=l.rect.split(","),M=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(z[0]),parseFloat(z[1])),new google.maps.LatLng(parseFloat(z[2]),parseFloat(z[3]))),(IB_MAP=new google.maps.Map(document.getElementById("flex_idx_search_filter_map"),{center:{lat:M.getCenter().lat(),lng:M.getCenter().lng()},zoom:parseInt(l.zm,10),clickableIcons:!1,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,styles:style_map,gestureHandling:"greedy",disableDefaultUI:!0,streetViewControl:!0})).addListener("bounds_changed",function(){void 0!==IB_MAP&&jQuery("#flex_idx_search_filter").hasClass("ib-vmap-active")&&(E.find('[name="rect"]').val(IB_MAP.getBounds().toUrlValue()),E.find('[name="zm"]').val(IB_MAP.getZoom()))}),IB_MAP.addListener("dragend",function(){var a=IB_MAP.addListener("idle",function(){var e,i;google.maps.event.removeListener(a),!0!==IB_USER_IS_DRAWING&&!1!==IB_GMAP_INIT&&(e=IB_MAP.getZoom(),(i=IB_MAP.getBounds()).getCenter(),E.find('[name="rect"]').val(i.toUrlValue()),E.find('[name="zm"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit"))})}),h=e.params,B(".ib-item-collapse-saletype").hide(),("1"==h.sale_type?(B("#ib_m_rental_type_r").click(),B(".ib-item-collapse-sale").hide(),B(".ib-item-collapse-rent")):(B("#ib_m_rental_type_s").click(),B(".ib-item-collapse-rent").hide(),B(".ib-item-collapse-sale"))).show(),null!=h.min_sale_price&&ib_min_price.val(te(h.min_sale_price)),null!=h.max_sale_price&&ib_max_price.val(te(h.max_sale_price)),null!=h.min_rent_price&&ib_min_rent_price.val(te(h.min_rent_price)),null!=h.max_rent_price&&ib_max_rent_price.val(te(h.max_rent_price)),null!=h.min_beds&&ib_min_beds.val(te(h.min_beds)),null!=h.max_beds&&ib_max_beds.val(te(h.max_beds)),h.property_type=_.map(h.property_type,function(e){return e+""}),ib_m_types.find(":input").each(function(e,i){-1!==B.inArray(i.value,h.property_type)&&B(i).click()}),null!=h.min_living_size&&ib_min_living.val(te(h.min_living_size)),null!=h.max_living_size&&ib_max_living.val(te(h.max_living_size)),null!=h.min_building_size&&ib_min_bsize.val(te(h.min_building_size)),null!=h.max_building_size&&ib_max_bsize.val(te(h.max_building_size)),null!=h.min_lot_size&&ib_min_land.val(te(h.min_lot_size)),null!=h.max_lot_size&&ib_max_land.val(te(h.max_lot_size)),null!=h.min_year&&ib_min_year.val(h.min_year),null!=h.max_year&&ib_max_year.val(h.max_year),h.hasOwnProperty("amenities")&&ib_m_features.find(":input").each(function(e,i){-1!==B.inArray(i.value,h.amenities)&&B(i).click()}),null!=h.min_cap_rate&&ib_min_caprate.val(Le(h.min_cap_rate)),null!=h.max_cap_rate&&ib_max_caprate.val(Le(h.max_cap_rate)),B("#ib_m_rental_type_s").on("click",function(){B(".ib-item-collapse-saletype").hide(),B(".ib-item-collapse-sale").show(),E.find('[name="sale_type"]').val("0"),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#ib_m_rental_type_r").on("click",function(){B(".ib-item-collapse-saletype").hide(),B(".ib-item-collapse-rent").show(),E.find('[name="sale_type"]').val("1"),E.find('[name="page"]').val(1),E.trigger("submit")}),ib_min_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_sale_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_sale_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_rent_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_rent_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_rent_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_rent_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_living.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_living_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_living.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_living_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_bsize.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_building_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_bsize.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_building_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_land.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_lot_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_land.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_lot_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_beds.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_beds"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_beds.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_beds"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_m_types.on("change","input",function(){var e=ib_m_types.find(":checked"),i=[];e.each(function(){i.push(B(this).val())}),E.find('[name="property_type"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit"),i.length=0}),ib_min_year.on("change",function(){var e=B(this).val();"--"==e&&(e=""),E.find('[name="min_year"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")}),ib_max_year.on("change",function(){var e=B(this).val();"--"==e&&(e=""),E.find('[name="max_year"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")}),ib_m_features.on("change","input",function(){var e=ib_m_features.find(":checked"),i=[];e.each(function(){i.push(B(this).val())}),E.find('[name="amenities"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit"),i.length=0}),ib_min_caprate.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),E.find('[name="min_cap_rate"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),ib_max_caprate.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),E.find('[name="max_cap_rate"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),google.maps.event.addListenerOnce(IB_MAP,"tilesloaded",Oe),B(document).on("click",".ib-removeb-tg",function(){var e,i;IB_GMAP_FINISHED_POLYGON=!1,window.innerWidth<990?(B(".idx-bta-map").click(),setTimeout(function(){IB_LOOKUP_DRAG=!0,E.find('[name="filter_search_keyword_label"]').val(""),E.find('[name="filter_search_keyword_type"]').val(""),E.find('[name="polygon_search"]').val(""),E.find('[name="page"]').val(1),void 0!==$&&$.setMap(null),void 0!==U&&U.setMap(null),Me=!1;IB_MAP.getCenter();var e=IB_MAP.getZoom(),i=IB_MAP.getBounds();Ae.addClass("ib-removeb-hide"),E.find('[name="rect"]').val(i.toUrlValue()),E.find('[name="zm"]').val(e),E.trigger("submit")},100)):(IB_LOOKUP_DRAG=!0,E.find('[name="filter_search_keyword_label"]').val(""),E.find('[name="filter_search_keyword_type"]').val(""),E.find('[name="polygon_search"]').val(""),E.find('[name="page"]').val(1),void 0!==$&&$.setMap(null),void 0!==U&&U.setMap(null),Me=!1,IB_MAP.getCenter(),e=IB_MAP.getZoom(),i=IB_MAP.getBounds(),Ae.addClass("ib-removeb-hide"),E.find('[name="rect"]').val(i.toUrlValue()),E.find('[name="zm"]').val(e),E.trigger("submit"))})),l.hasOwnProperty("kml_boundaries")?(void 0!==$&&$.setMap(null),$=new google.maps.Polygon({paths:function(e){for(var i,a=[],t=e.split(","),n=0,l=t.length;n<l;n++)i=t[n].split(" "),a.push(new google.maps.LatLng(i[0],i[1]));return a}(l.kml_boundaries),draggable:!1,editable:!1,strokeColor:"#31239a",strokeOpacity:.8,strokeWeight:1,fillColor:"#31239a",fillOpacity:.1}),void 0!==U&&U.setMap(null),$.setMap(IB_MAP),Me=!0,Ae.removeClass("ib-removeb-hide")):(Ae.addClass("ib-removeb-hide"),void 0!==$&&$.setMap(null)),ee.length){for(t=0,n=ee.length;t<n;t++)ee[t].setMap(null);ee.length=0}var b=new google.maps.LatLngBounds;IB_HIDDEN_BOUNDS=new google.maps.LatLngBounds;for(var f,v,x=[],y=[],w=[],t=0,n=o.length;t<n;t++)C=(k=o[t]).lat+":"+k.lng,-1===_.indexOf(x,C)&&(x.push(C),y.push(k));for(t=0,n=y.length;t<n;t++){for(var k,C=[(k=y[t]).lat,k.lng],P=[],I=0,A=o.length;I<A;I++)(f=o[I]).lat==C[0]&&f.lng==C[1]&&P.push(f);w.push({item:k,group:P})}for(t=0;t<w.length;t++)v=w[t],(G=new RichMarker({position:new google.maps.LatLng(parseFloat(v.item.lat),parseFloat(v.item.lng)),map:IB_MAP,flat:!0,content:1<v.group.length?'<div class="dgt-richmarker-group"><strong>'+v.group.length+"</strong><span>"+word_translate.units+"</span></div>":'<div class="dgt-richmarker-single"><strong>$'+_.formatShortPrice(v.item.price)+"</strong></div>",anchor:RichMarkerPosition.TOP})).geocode=v.item.lat+":"+v.item.lng,G.mls_num=v.item.mls_num,G.iblength=v.group.length,ee.push(G),l.hasOwnProperty("kml_boundaries")?$.getPath().forEach(function(e){b.extend(e),IB_HIDDEN_BOUNDS.extend(e)}):(b.extend(G.position),IB_HIDDEN_BOUNDS.extend(G.position)),google.maps.event.addListener(G,"click",function(n,l,r){return function(){if(IB_LAST_OPENED_MARKER=n,1<l.group.length){ie.push('<div class="ib-infobox ib-ibmulti">'),ie.push('<div class="ib-ibwtitle">'),ie.push('<div class="ib-ibcount">'+l.group.length+" <span>units </span></div>"),null!=l.item.complex&&""!==l.item.complex?ie.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.complex+"</span></h3>"):(null==l.item.development&&(l.item.development=""),ie.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.development+"</span></h3>")),ie.push('<div class="ib-ibclose"><span>Close</span></div>'),ie.push("</div>"),ie.push('<ul class="ib-ibproperties">');for(var e=0,i=l.group.length;e<i;e++){var a=l.group[e];ie.push('<li class="ib-ibpitem" data-mls="'+a.mls_num+'" data-status="'+a.status+'">'),ie.push('<div class="ib-ibpa">'),ie.push('<h4 class="ib-ibptitle">'+a.address_short+"</h4>"),ie.push('<ul class="ib-ibdetails">'),ie.push('<li class="ib-ibditem ib-ibaddress">'+a.address_large+"</li>"),1==a.is_rental?ie.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(a.price)+"/"+word_translate.month+"</li>"):ie.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(a.price)+"</li>"),ie.push('<li class="ib-ibditem ib-ibbeds"><span class="ib-ibdbold">'+a.property_class_name+"</span></li>"),ie.push('<li class="ib-ibditem ib-ibbaths"><span class="ib-ibdbold">'+_.formatPrice(a.lot_size)+"</span> Lot Size</li>"),ie.push("</ul>"),ie.push("</div>"),ie.push('<div class="ib-ibpb"><img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-ibimg" src="'+a.thumbnail+'" alt="'+l.full_address+'"></div>'),ie.push('<a href="'+__flex_idx_search_filter_v2.propertyDetailPermalink+"/"+a.slug+'"></a></li>')}}else ie.push('<div class="ib-infobox">'),ie.push('<div class="ib-ibwtitle">'),null!=l.item.complex&&""!==l.item.complex?ie.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.complex+"</span></h3>"):(null==l.item.development&&(l.item.development=""),ie.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.development+"</span></h3>")),ie.push('<button class="ib-ibclose" aria-label="Close"><span>Close</span></button>'),ie.push("</div>"),ie.push('<ul class="ib-ibproperties">'),ie.push('<li class="ib-ibpitem" data-mls="'+l.item.mls_num+'" data-status="'+l.item.status+'">'),ie.push('<div class="ib-ibpa">'),ie.push('<h4 class="ib-ibptitle">'+l.item.address_short+"</h4>"),ie.push('<ul class="ib-ibdetails">'),ie.push('<li class="ib-ibditem ib-ibaddress">'+l.item.address_large+"</li>"),1==l.item.is_rental?ie.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(l.item.price)+"/"+word_translate.month+"</li>"):ie.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(l.item.price)+"</li>"),ie.push('<li class="ib-ibditem ib-ibbeds"><span class="ib-ibdbold">'+l.item.property_class_name+"</span></li>"),ie.push('<li class="ib-ibditem ib-ibbaths"><span class="ib-ibdbold">'+_.formatPrice(l.item.lot_size)+"</span> Lot Size</li>"),ie.push("</ul>"),ie.push("</div>"),ie.push('<div class="ib-ibpb"><img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-ibimg" src="'+l.item.thumbnail+'" alt="'+l.full_address+'"></div>'),ie.push('<a href="'+__flex_idx_search_filter_v2.propertyDetailPermalink+"/"+l.item.slug+'"></a></li>');if(ie.push("</ul>"),ie.push("</div>"),ie.length)if(window.innerWidth<990){B(".ib-temp-modal-infobox").remove();let e=0;var t=B(".content-rsp-btn"),t=(t.length&&t.is(":visible")?e+=t.height()+Number(t.css("bottom").replace("px",""))+5:(t=B(".cta-container")).length&&t.is(":visible")&&(e+=t.height()+Number(t.css("bottom").replace("px",""))+5),document.createElement("div"));t.style.cssText="bottom: "+e+"px;",t.setAttribute("class","ib-temp-modal-infobox"),t.innerHTML=ie.join(""),ie.length=0,document.body.appendChild(t)}else K.setContent(ie.join("")),K.open(r,n),ie.length=0}}(G,v,IB_MAP)),google.maps.event.addListener(G,"mouseover",function(e){return function(){jQuery(e.a).addClass("ib-search-marker-active"),(IB_LAST_OPENED_MARKER=e).setZIndex(google.maps.Marker.MAX_ZINDEX+1)}}(G)),google.maps.event.addListener(G,"mouseout",function(e){return function(){jQuery(e.a).removeClass("ib-search-marker-active"),e.setZIndex(google.maps.Marker.MAX_ZINDEX-1)}}(G));ee.length&&(ze.length=0,ze=_.pluck(ee,"mls_num")),0===s.length&&B(".ib-heading-ct").html(word_translate.showing+" 0 "+word_translate.properties+"."),void 0===O&&(S=new URLSearchParams(window.location.search)).has("show")&&ae(S.get("show"));var z,M,S=new URLSearchParams(window.location.search);!1===IB_GMAP_INIT&&(IB_GMAP_INIT=!0,S.has("rect")&&S.has("zm")&&(z=S.get("rect").split(","),m=parseInt(S.get("zm"),10),M=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(z[0]),parseFloat(z[1])),new google.maps.LatLng(parseFloat(z[2]),parseFloat(z[3]))),IB_MAP.setCenter({lat:M.getCenter().lat(),lng:M.getCenter().lng()}),IB_MAP.setZoom(m))),google.maps.event.clearListeners(IB_MAP,"idle"),!0===IB_GMAP_FIT_TO_BOUNDS&&(S.has("rect")||S.has("zm")||0<location.search.length&&IB_MAP.fitBounds(b),IB_GMAP_FIT_TO_BOUNDS=!1)}})}window.saveFilterSearchForLead=function(){var e=location.href,i=(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&(e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(initial_href)?initial_href:__flex_idx_search_filter_v2.searchFilterPermalink+initial_href),L.attr("data-count")),a=L.attr("data-condition"),t=L.attr("data-name"),n=(L.attr("data-params"),L.data("filter-id"));"no"===__flex_g_settings.anonymous&&B.ajax({type:"POST",url:__flex_idx_search_filter_v2.saveListings.replace(/{{filterId}}/g,n),data:{access_token:p,search_rk:__flex_idx_search_filter_v2.rk,search_wp_web_id:__flex_idx_search_filter_v2.wp_web_id,flex_credentials:Cookies.get("ib_lead_token"),search_filter_id:L.data("filter-id"),search_url:e,search_count:i,search_condition:a,search_name:t,search_params:JSON.stringify(dataAlert.params)},success:function(e){}})},B(function(){if(T=B(".ib-fmsearch:eq(0)"),(O=B(".ib-kw-tg-search:eq(0)")).length&&O.on("click",y),T.length&&(T.autocomplete({open:function(e,i){B(".ui-autocomplete").off("menufocus hover mouseover mouseenter")},create:function(e,i){B(this).attr("autocomplete","disabled")},minLength:0,source:w,select:k,appendTo:"#ib-autocomplete-add"}),T.autocomplete("instance")._renderItem=function(e,i){return("complex"===i.type?B("<li>").append("<div>"+i.label+'<span class="autocomplete-item-type">Complex / Subdivision</span></div>'):B("<li>").append("<div>"+i.label+'<span class="autocomplete-item-type">'+i.type+"</span></div>")).appendTo(e)},T.on("focus",C),T.on("keypress",P),T.on("keyup",I),T.on("search",A),T.on("paste",z)),p=__flex_idx_search_filter_v2.accessToken,L=B("#flex_idx_search_filter"),E=B("#flex_idx_search_filter_form"),Ae=B(".ib-removeb-tg"),IB_SAVE_SEARCH_MODALS=B(".flex-save-search-modals"),O=B(".ib-dbclear"),M=B(".ib-waterfront-options"),S=B(".ib-parking-options"),u=B(".ib-amenities-options"),F=B(".ib-types-options"),IB_LB_MEASURE_TYPE=B(".lotsize-measure-type"),R=B(".ib-fforsr:eq(0)"),D=B(".ib-rprice-sale"),H=B(".ib-rprice-rent"),ne=B(".ib-rbedrooms"),le=B(".ib-rbathrooms"),re=B(".ib-rliving"),se=B(".ib-rland"),oe=B(".ib-ryear"),_e=B(".ib-rprice-sale-lbl-lt"),ce=B(".ib-rprice-sale-lbl-rt"),me=B(".ib-rprice-rent-lbl-lt"),de=B(".ib-rprice-rent-lbl-rt"),pe=B(".ib-ryear-lbl-lt"),ue=B(".ib-ryear-lbl-rt"),he=B(".ib-rliving-lbl-lt"),ge=B(".ib-rliving-lbl-rt"),be=B(".ib-rland-lbl-lt"),fe=B(".ib-rland-lbl-rt"),ve=B(".ib-fdmatching:eq(0)"),xe=B(".ib-sort-ctrl:eq(0)"),ye=B(".ib-pagination-ctrl:eq(0)"),q=B(".ib-listings-ct:eq(0)"),we=B(".ib-heading-ct"),N=B(".ib-lbl-price-ntf:eq(0)"),j=B(".ib-lbl-bed-ntf:eq(0)"),Pe=B(".ib-lbl-bath-ntf:eq(0)"),Ie=B(".ib-lbl-types-ntf:eq(0)"),h=B("#flex_idx_modal_wrapper"),ke=B("#ib-modal-template"),ib_comm_price_sale_outer_min=B(".ib-comm-price-sale-outer-min"),ib_comm_price_sale_outer_max=B(".ib-comm-price-sale-outer-max"),ib_comm_price_sale_inner_min=B(".ib-comm-price-sale-inner-min"),ib_comm_price_sale_inner_max=B(".ib-comm-price-sale-inner-max"),ib_comm_price_sale_outer_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_inner_min.val(this.value),E.find('[name="min_sale_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_sale_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_outer_min.val(this.value),E.find('[name="min_sale_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_sale_outer_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_inner_max.val(this.value),E.find('[name="max_sale_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_sale_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_outer_max.val(this.value),E.find('[name="max_sale_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_outer_min=B(".ib-comm-price-rent-outer-min"),ib_comm_price_rent_outer_max=B(".ib-comm-price-rent-outer-max"),ib_comm_price_rent_inner_min=B(".ib-comm-price-rent-inner-min"),ib_comm_price_rent_inner_max=B(".ib-comm-price-rent-inner-max"),ib_comm_price_rent_outer_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_inner_min.val(this.value),E.find('[name="min_rent_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_outer_min.val(this.value),E.find('[name="min_rent_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_outer_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_inner_max.val(this.value),E.find('[name="max_rent_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_outer_max.val(this.value),E.find('[name="max_rent_price"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_sqft_inner_min=B(".ib-comm-sqft-inner-min"),ib_comm_sqft_inner_max=B(".ib-comm-sqft-inner-max"),ib_comm_sqft_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_living_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_sqft_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_living_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_bsize_inner_min=B(".ib-comm-bsize-inner-min"),ib_comm_bsize_inner_max=B(".ib-comm-bsize-inner-max"),ib_comm_bsize_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_building_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_bsize_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_building_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_lotsize_inner_min=B(".ib-comm-lotsize-inner-min"),ib_comm_lotsize_inner_max=B(".ib-comm-lotsize-inner-max"),ib_comm_lotsize_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_lot_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_lotsize_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_lot_size"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_beds_inner_min=B(".ib-comm-beds-inner-min"),ib_comm_beds_inner_max=B(".ib-comm-beds-inner-max"),ib_comm_beds_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="min_beds"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_beds_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),E.find('[name="max_beds"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_year_inner_min=B(".ib-comm-year-inner-min"),ib_comm_year_inner_max=B(".ib-comm-year-inner-max"),ib_comm_year_inner_min.on({change:function(){var e=this.value;E.find('[name="min_year"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")}}),ib_comm_year_inner_max.on({change:function(){var e=this.value;E.find('[name="max_year"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")}}),ib_comm_rate_inner_min=B(".ib-comm-rate-inner-min"),ib_comm_rate_inner_max=B(".ib-comm-rate-inner-max"),ib_comm_rate_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),E.find('[name="min_cap_rate"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),ib_comm_rate_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),E.find('[name="max_cap_rate"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),B("body").addClass("view-grid"),(K=new InfoBubble({map:IB_MAP,disableAutoPan:!0,shadowStyle:0,padding:0,borderRadius:0,borderWidth:0,arrowSize:0,disableAnimation:!0,maxWidth:410,maxHeight:0,pane:"floatPane"})).addListener("domready",function(){setTimeout(function(){B(".ib-infobox").parent().parent().css("background-color","transparent"),B(".ib-ibpitem").on("click",function(){var e=B(this).data("mls");originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),ae(e)})},0)}),q.length&&(!1===/webOS|iPhone|iPad/i.test(navigator.userAgent)&&(q.on("mouseover",".ib-pitem",function(e){if(!(window.innerWidth<=990)){for(var i,a=B(this).data("geocode"),t=0;t<ee.length;t++)if(ee[t].geocode===a){i=ee[t];break}void 0!==i&&(google.maps.event.trigger(i,"click"),google.maps.event.trigger(i,"mouseover"));var n=B(this).attr("data-mls");setTimeout(function(){B('.ib-infobox .ib-ibpitem[data-mls="'+n+'"]').addClass("ms-order-m")},100)}}),q.on("mouseleave",".ib-pitem",function(e){window.innerWidth<=990||(void 0!==K&&K.isOpen()&&K.close(),void 0!==IB_LAST_OPENED_MARKER&&google.maps.event.trigger(IB_LAST_OPENED_MARKER,"mouseout"),B(".ib-infobox .ib-ibpitem").addClass("ms-order-m"))})),q.on("click",".ib-pitem",function(e){var i,a;B(e.target).hasClass("ib-pfavorite")?"yes"===__flex_g_settings.anonymous?(originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),B("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),B("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),B("#modal_login").find(".item_tab").removeClass("active"),B("#tabRegister").addClass("active"),B("#modal_login #msRst").empty().html(B("#mstextRst").html()),B("button.close-modal").addClass("ib-close-mproperty"),B(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),i=B(".header-tab a[data-tab='tabRegister']").attr("data-text"),B("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(i)):(a=B(e.target).data("mls"),B(this).data("token-alert"),B(e.target).toggleClass("ib-pf-active"),Be(a,e.target,"listing")):B(e.target).hasClass("ib-pipermalink")&&(e.preventDefault(),originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),ae(a=B(e.target).parent().data("mls")))})),ye.length&&ye.on("click","a",function(e){e.preventDefault(),B(this).hasClass("ib-plitem-active")||(e=B(this).data("page"),E.find('[name="page"]').val(e),E.trigger("submit"),B(window).width()<1023&&B("html, body").animate({scrollTop:0},1e3))}),xe.length&&xe.on("change",function(){E.find('[name="sort_type"]').val(this.value),E.find('[name="page"]').val(1),E.trigger("submit")}),M.length){for(var e=0,i=__flex_idx_search_filter_v2.search.waterfront_options.length;e<i;e++){var a=document.createElement("option"),t="",t="Bay Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.bay_front:"Canal"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.canal:"Fixed Bridge"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.fixed_bridge:"Intracoastal"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.intracoastal:"Lake Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.lake_front:"Ocean Access"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.ocean_access:"Ocean Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.ocean_front:"Point Lot"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.point_lot:"River Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.river_front:"Water Access"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.water_access:__flex_idx_search_filter_v2.search.waterfront_options[e].name;a.innerHTML=t,a.setAttribute("value",__flex_idx_search_filter_v2.search.waterfront_options[e].code),x.appendChild(a)}M.append(x),M.on("change",_.debounce(function(){var e="--"==this.value?"":this.value;M.val(e),E.find('[name="waterfront_options"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},700))}if(S.length){for(e=0,i=__flex_idx_search_filter_v2.search.parking_options.length;e<i;e++)(a=document.createElement("option")).innerHTML=__flex_idx_search_filter_v2.search.parking_options[e].label,a.setAttribute("value",__flex_idx_search_filter_v2.search.parking_options[e].value),x.appendChild(a);S.append(x),S.on("change",_.debounce(function(){var e="--"==this.value?"":this.value;S.val(e),E.find('[name="parking_options"]').val(e),E.find('[name="page"]').val(1),E.trigger("submit")},700))}u.length&&(u.each(function(e,i){for(var a,t,n,l,r=0,s=__flex_idx_search_filter_v2.search.amenities.length;r<s;r++)-1===B.inArray(__flex_idx_search_filter_v2.search.amenities[r].code,["loft","equestrian"])&&((a=document.createElement("li")).classList.add("ib-citem"),(t=document.createElement("input")).setAttribute("type","checkbox"),t.setAttribute("id","ib-amt-"+i.getAttribute("data-type")+"_"+r),t.setAttribute("value",__flex_idx_search_filter_v2.search.amenities[r].code),t.classList.add("ib-icheck"),(n=document.createElement("label")).classList.add("ib-clabel"),n.setAttribute("for","ib-amt-"+i.getAttribute("data-type")+"_"+r),l="","Swimming Pool"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.swimming_pool:"Golf Course"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.golf_course:"Tennis Courts"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.tennis_courts:"Gated Community"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.gated_community:"Lofts"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.lofts:"Penthouse"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.penthouse:"Waterfront"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.water_front:"Pets"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.pets:"Furnished"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.furnished:"Equestrian"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.equestrian:"Short Sale"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.short_sales:"Foreclosure"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.foreclosures:"Boat Dock"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.boat_dock:"Housing Older Persons"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.housing_older_persons:"Occupied"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.occupied:"Vacant"==__flex_idx_search_filter_v2.search.amenities[r].name&&(l=word_translate.vacant),n.innerHTML=l,a.appendChild(t),a.appendChild(n),x.appendChild(a));u.eq(e).append(x)}),B(".ib-status-types").each(function(){B(this).on("click","input",function(){var e=B(this).parent().parent().find("input:checked"),i=[];e.each(function(){i.push(this.value)}),E.find('[name="amenities"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")})}),u.on("change","input",function(){var e=this.value,i=this.checked,a=jQuery(this).parent().parent().find(":checked"),t=[];u.find('input[value="'+e+'"]').prop("checked",i),a.each(function(e,i){-1===B.inArray(i.value,t)&&t.push(i.value)}),E.find('[name="amenities"]').val(t.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")})),B("#ib-lst-inner_2_2").on("change",function(e){var i=[];B("#ib-lst-inner_2_2").prop("checked")&&i.push("contingent"),B("#ib-lst-inner_3_2").prop("checked")&&i.push("pending"),E.find('[name="status_type"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#ib-lst-inner_3_2").on("change",function(e){var i=[];B("#ib-lst-inner_2_2").prop("checked")&&i.push("contingent"),B("#ib-lst-inner_3_2").prop("checked")&&i.push("pending"),E.find('[name="status_type"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#ib-lst-inner_2").on("change",function(e){var i=[];B("#ib-lst-inner_2").prop("checked")&&i.push("contingent"),B("#ib-lst-inner_3").prop("checked")&&i.push("pending"),E.find('[name="status_type"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#ib-lst-inner_3").on("change",function(e){var i=[];B("#ib-lst-inner_2").prop("checked")&&i.push("contingent"),B("#ib-lst-inner_3").prop("checked")&&i.push("pending"),E.find('[name="status_type"]').val(i.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#pendingContigentMin").on("change",function(){var e=B(this).prop("checked");B("#pendingContigent").prop("checked",e),B("#pendingContigentMobile").prop("checked",e),e?E.find('[name="overwrite_show_hide_pending"]').val("yes"):E.find('[name="overwrite_show_hide_pending"]').val("no"),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#pendingContigent").on("change",function(){var e=B(this).prop("checked");B("#pendingContigentMin").prop("checked",e),B("#pendingContigentMobile").prop("checked",e),e?E.find('[name="overwrite_show_hide_pending"]').val("yes"):E.find('[name="overwrite_show_hide_pending"]').val("no"),E.find('[name="page"]').val(1),E.trigger("submit")}),B("#pendingContigentMobile").on("change",function(){var e=B(this).prop("checked");B("#pendingContigent").prop("checked",e),B("#pendingContigentMin").prop("checked",e),e?E.find('[name="overwrite_show_hide_pending"]').val("yes"):E.find('[name="overwrite_show_hide_pending"]').val("no"),E.find('[name="page"]').val(1),E.trigger("submit")}),F.length&&(F.each(function(e,i){for(var a=0,t=__flex_idx_search_filter_v2.commercial_types.length;a<t;a++){var n=document.createElement("li"),l=(n.classList.add("ib-citem"),document.createElement("input")),r=(l.setAttribute("type","checkbox"),l.setAttribute("id","ib-ppt-"+i.getAttribute("data-type")+"_"+a),l.setAttribute("value",__flex_idx_search_filter_v2.commercial_types[a].value),l.classList.add("ib-icheck"),document.createElement("label")),s=(r.classList.add("ib-clabel"),r.setAttribute("for","ib-ppt-"+i.getAttribute("data-type")+"_"+a),""),s="Homes"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.homes:"Condominiums"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.condominiums:"Townhouses"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.townhouses:"Single Family Homes"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.single_family_homes:__flex_idx_search_filter_v2.commercial_types[a].label;r.innerHTML=s,n.appendChild(l),n.appendChild(r),x.appendChild(n)}F.eq(e).append(x)}),F.on("change","input",function(e){var i=this.value,a=this.checked,t=jQuery(this).parent().parent().find(":checked"),n=[],l=(F.find('input[value="'+i+'"]').prop("checked",a),t.each(function(e,i){-1===B.inArray(i.value,n)&&n.push(i.value)}),[]),r=__flex_idx_search_filter_v2.commercial_types;[].forEach.call(n,function(e){for(var i=0,a=r.length;i<a;i++)r[i].value==e&&l.push(r[i].label)}),l.length?(Ie.html(l.join(", ")),l.length=0):Ie.html(word_translate.any_type),E.find('[name="property_type"]').val(n.join(",")),E.find('[name="page"]').val(1),E.trigger("submit")})),D.length&&(D.slider({range:!0,min:0,max:Z.length-1,step:1,values:[0,Z.length-1],slide:_.debounce(function(e,i){D.slider("option","values",i.values);var a=Z[i.values[0]],i=Z[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),E.find('[name="min_sale_price"]').val(a),E.find('[name="max_sale_price"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),D.on("slide",function(e,i){var i=i.values,a=Z[i[0]],t=Z[i[1]],n=Z[i[0]],i=Z[i[1]],a=0==a||"--"==a?"$0":"$"+_.formatPrice(a),t=0==t||"--"==t?word_translate.any_price:"$"+_.formatPrice(t);"--"==n&&"--"==i||0==n&&0==i||0==n&&"--"==i?N.html(word_translate.any_price):"--"==i&&!isNaN(n)&&0<n?N.html("$"+_.formatShortPrice(n)+" - "+word_translate.any_price):N.html("$"+_.formatShortPrice(n)+" - $"+_.formatShortPrice(i)),_e.val(a),ce.val(t)})),H.length&&(H.slider({range:!0,min:0,max:Y.length-1,step:1,values:[0,Y.length-1],slide:_.debounce(function(e,i){H.slider("option","values",i.values);var a=Y[i.values[0]],i=Y[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),E.find('[name="min_rent_price"]').val(a),E.find('[name="max_rent_price"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),H.on("slide",function(e,i){var i=i.values,a=Y[i[0]],t=Y[i[1]],n=Y[i[0]],i=Y[i[1]],a=0==a||"--"==a?"$0":"$"+_.formatPrice(a),t=0==t||"--"==t?word_translate.any_price:"$"+_.formatPrice(t);"--"==n&&"--"==i||0==n&&0==i||0==n&&"--"==i?N.html(word_translate.any_price):"--"==i&&!isNaN(n)&&0<n?N.html("$"+_.formatShortPrice(n)+" - "+word_translate.any_price):N.html("$"+_.formatShortPrice(n)+" - $"+_.formatShortPrice(i)),me.val(a),de.val(t)})),ne.length&&(ne.slider({range:!0,min:0,max:V.length-1,step:1,values:[0,V.length-1],slide:_.debounce(function(e,i){ne.slider("option","values",i.values);var a=V[i.values[0]],i=V[i.values[1]];0!=a&&6!=a||(a="0"),0!=i&&6!=i||(i=""),E.find('[name="min_beds"]').val(a),E.find('[name="max_beds"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),ne.on("slide",function(e,i){var i=i.values,a=V[i[0]],i=V[i[1]];0==a&&6==i||6==a&&6==i||0==a&&0==i?j.html(word_translate.any_bed):5<i?j.html(a+" - "+word_translate.any_bed):j.html(a+" - "+i+" "+word_translate.beds)})),le.length&&(le.slider({range:!0,min:0,max:W.length-1,step:1,values:[0,W.length-1],slide:_.debounce(function(e,i){le.slider("option","values",i.values);var a=W[i.values[0]],i=W[i.values[1]];0!=a&&6!=a||(a="0"),0!=i&&6!=i||(i=""),E.find('[name="min_baths"]').val(a),E.find('[name="max_baths"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),le.on("slide",function(e,i){var i=i.values,a=W[i[0]],i=W[i[1]];0==a&&6==i||6==a&&6==i||0==a&&0==i?Pe.html(word_translate.any_baths):5<i?Pe.html(a+" - "+word_translate.any_bath):Pe.html(a+" - "+i+" "+word_translate.baths)})),re.length&&(re.slider({range:!0,min:0,max:Q.length-1,step:1,values:[0,Q.length-1],slide:_.debounce(function(e,i){re.slider("option","values",i.values);var a=Q[i.values[0]],i=Q[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),E.find('[name="min_living_size"]').val(a),E.find('[name="max_living_size"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),re.on("slide",function(e,i){var i=i.values,a=Q[i[0]],t=Q[i[1]],n=Q[i[0]],i=Q[i[1]],a=0==a||"--"==a?"0 sq ft":_.formatPrice(a)+" sq ft",t=0==t||"--"==t?word_translate.any_size:_.formatPrice(t)+" sq ft";2e4<=n&&(a=(n/43560).toFixed(2)+" Acre"),2e4<=i&&(t=(i/43560).toFixed(2)+" Acre"),he.val(a),ge.val(t)})),se.length&&(se.slider({range:!0,min:0,max:X.length-1,step:1,values:[0,X.length-1],slide:_.debounce(function(e,i){se.slider("option","values",i.values);var a=X[i.values[0]],i=X[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),E.find('[name="min_lot_size"]').val(a),E.find('[name="max_lot_size"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),se.on("slide",function(e,i){var i=i.values,a=X[i[0]],t=X[i[1]],n=X[i[0]],i=X[i[1]],a=0==a||"--"==a?"0 sq ft":_.formatPrice(a)+" sq ft",t=0==t||"--"==t?word_translate.any_size:_.formatPrice(t)+" sq ft";2e4<=n&&(a=(n/43560).toFixed(2)+" Acre"),2e4<=i&&(t=(i/43560).toFixed(2)+" Acre"),be.val(a),fe.val(t)})),oe.length&&(oe.slider({range:!0,min:0,max:J.length-1,step:1,values:[0,J.length-1],slide:_.debounce(function(e,i){oe.slider("option","values",i.values);var a=J[i.values[0]],i=J[i.values[1]];1900!=a&&current_year!=a||(a="1900"),1900!=i&&current_year!=i||(i=""),E.find('[name="min_year"]').val(a),E.find('[name="max_year"]').val(i),E.find('[name="page"]').val(1),E.trigger("submit")},700)}),oe.on("slide",function(e,i){var i=i.values,a=J[i[0]],i=J[i[1]];pe.val(a),ue.val(i)}));var n=__flex_idx_search_filter_v2.search,l=[];if(ib_min_price=B("#ib-min-price"),ib_max_price=B("#ib-max-price"),ib_min_rent_price=B("#ib-min-rent-price"),ib_max_rent_price=B("#ib-max-rent-price"),ib_min_beds=B("#ib-min-beds"),ib_max_beds=B("#ib-max-beds"),ib_min_baths=B("#ib-min-baths"),ib_max_baths=B("#ib-max-baths"),ib_m_types=B("#ib-flex-m-types"),ib_m_parking=B("#ib-flex-m-parking"),ib_min_living=B("#ib-min-living"),ib_max_living=B("#ib-max-living"),ib_min_bsize=B("#ib-min-bsize"),ib_max_bsize=B("#ib-max-bsize"),ib_min_land=B("#ib-min-land"),ib_max_land=B("#ib-max-land"),ib_min_year=B("#ib-min-year"),ib_max_year=B("#ib-max-year"),ib_waterfront_switch=B("#ib-flex-waterfront-switch"),ib_m_features=B("#ib-flex-m-features"),ib_min_caprate=B("#ib-min-caprate"),ib_max_caprate=B("#ib-max-caprate"),ib_m_types.length){for(var r,s=0,o=(r=__flex_idx_search_filter_v2.commercial_types).length;s<o;s++){var c="",c="Single Family Homes"==(m=r[s]).label?word_translate.single_family_homes:"Condominiums"==m.label?word_translate.condominiums:"Townhouses"==m.label?word_translate.townhouses:m.label;l.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-types-checkboxes" type="checkbox" value="'+m.value+'" id="s_types_'+m.value+'"><label for="s_types_'+m.value+'">'+c+"</label></li>")}l.length&&(ib_m_types.html(l.join("")),l.length=0)}if(ib_min_year.length){(r=n.year_built_range).splice(-1,1);for(s=0,o=r.length;s<o;s++){var m=r[s];l.push('<option value="'+m.value+'">'+m.label+"</option>")}l.push('<option value="'+current_year+'">'+current_year+"</option>"),l.length&&(ib_min_year.html(l.join("")),l.length=0)}if(ib_max_year.length){(r=n.year_built_range.reverse()).splice(-1,1),l.push('<option value="'+current_year+'">'+current_year+"</option>");for(s=0,o=r.length;s<o;s++){m=r[s];l.push('<option value="'+m.value+'">'+m.label+"</option>")}l.push('<option value="1900">1900</option>'),l.length&&(ib_max_year.html(l.join("")),l.length=0)}if(ib_m_features.length){for(var d,s=0,o=(r=_.sortBy(n.amenities,"name")).length;s<o;s++)"equestrian"==(m=r[s]).code&&"3"!=__flex_idx_search_filter_v2.boardId||"loft"==m.code&&"5"!=__flex_idx_search_filter_v2.boardId||(d="",d="Swimming Pool"==m.name?word_translate.swimming_pool:"Golf Course"==m.name?word_translate.golf_course:"Tennis Courts"==m.name?word_translate.tennis_courts:"Gated Community"==m.name?word_translate.gated_community:"Lofts"==m.name?word_translate.lofts:"Penthouse"==m.name?word_translate.penthouse:"Waterfront"==m.name?word_translate.water_front:"Pets"==m.name?word_translate.pets:"Furnished"==m.name?word_translate.furnished:"Equestrian"==m.name?word_translate.equestrian:"Boat Dock"==m.name?word_translate.boat_dock:"Short Sale"==m.name?word_translate.short_sales:"Foreclosure"==m.name?word_translate.foreclosures:"Housing Older Persons"==m.name?word_translate.housing_older_persons:"Occupied"==m.name?word_translate.occupied:"Vacant"==m.name?word_translate.vacant:m.name,l.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-features-checkboxes" type="checkbox" value="'+m.code+'" id="s_amenity_'+m.code+'"><label for="s_amenity_'+m.code+'">'+d+"</label></li>"));l.length&&(ib_m_features.html(l.join("")),l.length=0)}B(document).on("click",".ib-ibclose",function(){B(this).parent().parent().parent().remove()}),B("#map-draw-cancel-tg").on("click",function(){if(IB_USER_IS_DRAWING=!1,g.setMap(null),void 0!==U&&U.setMap(null),IB_LOOKUP_DRAG=!0!==Me||(void 0!==$&&$.setVisible(!0),!1),ee)for(var e=0,i=ee.length;e<i;e++)ee[e].setVisible(!0);B(b).show(),B("#wrap-map-draw-actions").hide()}),B("#map-draw-apply-tg").on("click",function(){if(g.setMap(null),!1===IB_GMAP_FINISHED_POLYGON){if(ee)for(var e=0,i=ee.length;e<i;e++)ee[e].setVisible(!0);void 0!==$&&$.setVisible(!0)}else if(void 0!==U){!0===Me&&$.setMap(null);for(var a=U.getPath(),t=[],n=[],l=(IB_MAP.getCenter(),IB_MAP.getZoom(),a.forEach(function(e){t.push(e.lat()+" "+e.lng()),n.push({lat:e.lat(),lng:e.lng()})}),a.getAt(0)),a=(t.push(l.lat()+" "+l.lng()),n.push({lat:l.lat(),lng:l.lng()}),new google.maps.MVCArray),e=0,i=n.length;e<i;e++)a.push(new google.maps.LatLng(n[e].lat,n[e].lng));var l=google.maps.geometry.encoding.encodePath(a),r=(l=(l=btoa(l)).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,""),IB_MAP.getCenter(),IB_MAP.getZoom()),s=IB_MAP.getBounds();E.find('[name="rect"]').val(s.toUrlValue()),E.find('[name="zm"]').val(r),E.find('[name="filter_search_keyword_label"]').val(""),E.find('[name="filter_search_keyword_label"]').val(""),E.find('[name="polygon_search"]').val(l),E.find('[name="page"]').val("1"),IB_LOOKUP_DRAG=!1,E.trigger("submit")}B(b).show(),B("#wrap-map-draw-actions").hide()}),B(".idx-bta-grid").click(function(){K.isOpen()&&K.close(),B(".ib-temp-modal-infobox").remove()}),B(document).on("click",".ib-ibpitem",function(){ae(B(this).data("mls"))}),B(document).on("click",".ib-mmclose",function(e){var i=B(e.target).parents(".ib-modal-master");i.addClass("ib-md-hiding"),setTimeout(function(){i.removeClass("ib-md-active ib-md-hiding")},250),B("body").removeClass("ib-request-float-modal")}),B(document).on("click",".ib-close-mproperty",function(e){e.preventDefault(),__flex_g_settings.hasOwnProperty("force_registration_forced")&&"yes"==__flex_g_settings.force_registration_forced&&B(".ib-pbtnclose").click()}),B(document).on("click",".ib-paitem-load-schools",function(e){var i=B(this),a=i.data("lat"),t=i.data("lng"),n=i.data("distance"),l=i.data("address-short"),r=i.data("address-large");i.hasClass("ib-schools-loaded")||(i.addClass("ib-schools-loaded"),B("#ib-paitem-load-schools-ct").empty(),B.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{action:"ib_schools_info",lat:a,lng:t,distance:n},success:function(e){e=e.output;e=(e=e.replace("{{address_short}}",l)).replace("{{address_large}}",r),B("#ib-paitem-load-schools-ct").html(e),B(".clidxboost-body-niche .clidxboost-td-niche").length&&(size_li=B(".clidxboost-body-niche .clidxboost-td-niche").length,size_li_actives=0),0==size_li&&B("#clidxboost-container-loadMore-niche").hide(),size_li_actives_X=8,B("#clidxboost-data-loadMore-niche").click()}}))}),B(document).on("click","#clidxboost-data-loadMore-niche",function(e){e.stopPropagation(),B(".clidxboost-body-niche .clidxboost-td-niche:lt("+(size_li_actives_X=size_li_actives_X+8<=size_li?size_li_actives_X+8:size_li)+")").slideDown(),B(".clidxboost-body-niche .clidxboost-td-niche:lt("+size_li_actives_X+")").addClass("clidxboost-td-niche-show"),size_li_actives_X==size_li&&B("#clidxboost-container-loadMore-niche").hide(),size_li_actives=B(".clidxboost-body-niche .clidxboost-td-niche-show").length;e=parseInt(size_li)-parseInt(size_li_actives);B(".clidxboost-count-niche").text(e+" "+word_translate.more_schools)}),B(document).on("click",".clidxboost-niche-tab-filters button",function(){event.stopPropagation(),B("#clidxboost-container-loadMore-niche").show(),B(".clidxboost-td-niche").removeClass("clidxboost-td-niche-show"),"all"==B(this).attr("data-filter")?(size_li_actives_X=8,B("#clidxboost-data-loadMore-niche").click()):"elementary"==B(this).attr("data-filter")?(B(".clidxboost-td-niche.elementary").addClass("clidxboost-td-niche-show"),B("#clidxboost-container-loadMore-niche").hide()):"middle"==B(this).attr("data-filter")?(B(".clidxboost-td-niche.middle").addClass("clidxboost-td-niche-show"),B("#clidxboost-container-loadMore-niche").hide()):"high"==B(this).attr("data-filter")&&(B(".clidxboost-td-niche.high").addClass("clidxboost-td-niche-show"),B("#clidxboost-container-loadMore-niche").hide())}),B(document).on("click",".clidxboost-niche-tab-filters button",function(){event.stopPropagation(),B(".clidxboost-niche-tab-filters button").removeClass("active"),B(this).addClass("active");var e=B(this).attr("data-filter");B(".clidxboost-td-niche").addClass("td-hidden"),B(".clidxboost-body-niche ."+e).removeClass("td-hidden"),"all"==e&&B(".clidxboost-td-niche").removeClass("td-hidden")}),B(".ib-dbsave").on("click",function(){var e;"yes"===__flex_g_settings.anonymous?(B("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),B("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),B("#modal_login").find(".item_tab").removeClass("active"),B("#tabRegister").addClass("active"),B("#modal_login #msRst").empty().html(B("#mstextRst").html()),B("button.close-modal").addClass("ib-close-mproperty"),B(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),e=B(".header-tab a[data-tab='tabRegister']").attr("data-text"),B("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):B("#ib-fsearch-save-modal").addClass("ib-md-active")}),B(".ib-gwvbitem").click(function(){B(".ib-gviews").val(B(this).attr("data-view")).change()}),h.length&&(h.on("click",".ib-rel-property",function(e){e.preventDefault(),ae(B(this).data("mls"))}),h.on("click",".ib-pfavorite",function(e){var i;"yes"===__flex_g_settings.anonymous?(B("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),B("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),B("#modal_login").find(".item_tab").removeClass("active"),B("#tabRegister").addClass("active"),B("#modal_login #msRst").empty().html(B("#mstextRst").html()),B("button.close-modal").addClass("ib-close-mproperty"),B(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),i=B(".header-tab a[data-tab='tabRegister']").attr("data-text"),B("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(i)):(i=B(this).data("mls"),B(this).data("token-alert"),B(this).hasClass("ib-pf-active")?B(this).children().html(word_translate.save):B(this).children().html(word_translate.remove),B(this).toggleClass("ib-pf-active"),Be(i,e.target,"modal"))}),h.on("click",".ib-pbtnopen",function(){var e=B(this).data("permalink");window.open(e)}),h.on("click",".ib-pbtnclose",function(){var e;h.find(".ib-modal-master").removeClass("ib-md-active"),h.empty(),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(document.title=initial_title,history.pushState(null,null,initial_href)):((e=new URLSearchParams(window.location.search)).delete("show"),""===e.toString()?history.pushState(null,null,__flex_idx_search_filter_v2.searchFilterPermalink):history.pushState(null,null,"?"+e.toString())),B("html").removeClass("ib-mpropertie-open"),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&B("body").removeClass("only-mobile"),void 0!==originalPositionY&&(console.log("restoring to: "+originalPositionY),window.scrollTo(0,originalPositionY))}),IB_SAVE_SEARCH_MODALS.on("submit",function(e){e.preventDefault();var e=encodeURIComponent(location.href),i=L.attr("data-count"),a=L.attr("data-condition"),t=(L.attr("data-params"),L.data("filter-id")),e=B(this).serialize()+"&search_url="+e+"&search_count="+i+"&search_condition="+a+"&search_filter_params="+JSON.stringify(dataAlert.params)+"&search_filter_ID="+t+"&type_filter=search_commercial_filter";L.data("filter-id");"no"===__flex_g_settings.anonymous&&B.ajax({type:"POST",url:__flex_idx_search_filter_v2.ajaxUrl,data:e,dataType:"json",success:function(e){0!=e.success?(swal({title:word_translate.search_saved,text:word_translate.your_search_has_been_saved_successfuly,type:"success",timer:2e3,showConfirmButton:!1}),B("#ib-fsearch-save-modal").removeClass("ib-md-active"),B(".ib-mssinput").val("")):sweetAlert("Oops...",e.message,"error"),jQuery("#_ib_lead_activity_tab").length&&jQuery("#_ib_lead_activity_tab button:eq(2)").click()}})}),h.on("click",".ib-plsifb",function(e){e.preventDefault();var i,a="https://www.facebook.com/sharer/sharer.php?",t={u:B(this).attr("href")};for(i in t)a+="&"+i+"="+encodeURIComponent(t[i]);e=window.open(a,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0");e.focus&&e.focus()}),h.on("click",".ib-plsitw",function(e){e.preventDefault();var i,a="http://twitter.com/share?",e=[],t=1==B(this).data("rental")?"Rent ":"Sale ",n=(e.push(B(this).data("type")),e.push(" for "+t),e.push(B(this).data("price")),e.push(" #"+B(this).data("mls")),e.push(" in "),e.push(B(this).data("address")+" "),{url:B(this).attr("href"),text:e.join("")});for(i in n)a+="&"+i+"="+encodeURIComponent(n[i]);t=window.open(a,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0");t.focus&&t.focus()}),h.on("click",".ib-pscalculator",function(){var e=B(this).data("price").replace(/[^\d]/g,""),i=(B(".ib-property-mortgage-f:eq(0)").trigger("reset"),B(".ib-property-mc-dp:eq(0)").val()),a=B(".ib-property-mc-ty:eq(0)").val(),t=B(".ib-property-mc-ir:eq(0)").val(),e=(B(".ib-property-mc-pp").val("$"+_.formatPrice(e)),Se(e,i,a,t));B(".ib-calc-mc-mortgage").html("$"+e.mortgage),B(".ib-calc-mc-down-payment").html("$"+e.down_payment),B(".ib-calc-mc-monthly").html("$"+e.monthly),B(".ib-calc-mc-totalmonthly").html("$"+e.total_monthly),B("#ib-mortage-calculator").addClass("ib-md-active")}),B(".ib-property-mortage-submit").on("click",function(){var e=Se(B(".ib-property-mc-pp:eq(0)").val(),B(".ib-property-mc-dp:eq(0)").val(),B(".ib-property-mc-ty:eq(0)").val(),B(".ib-property-mc-ir:eq(0)").val());B(".ib-calc-mc-mortgage").html("$"+e.mortgage),B(".ib-calc-mc-down-payment").html("$"+e.down_payment),B(".ib-calc-mc-monthly").html("$"+e.monthly),B(".ib-calc-mc-totalmonthly").html("$"+e.total_monthly),B(".ib-price-calculator").text("$"+e.monthly+"/mo")}),h.on("click",".ib-psemailfriend",function(){var e=B(this).data("mls"),i=B(this).data("status"),e=(B(".ib-property-share-friend-f:eq(0)").trigger("reset"),B(".ib-property-share-mls-num:eq(0)").val(e),B(".ib-property-share-property-status:eq(0)").val(i),B("#ib-email-to-friend").addClass("ib-md-active"),void 0!==Cookies.get("_ib_user_firstname")?Cookies.get("_ib_user_firstname"):""),i=void 0!==Cookies.get("_ib_user_lastname")?Cookies.get("_ib_user_lastname"):"",a=void 0!==Cookies.get("_ib_user_email")?Cookies.get("_ib_user_email"):"";(e.lenght||i.length)&&B("#_sf_name").val(e+" "+i),B("#_sf_email").val(a)}),B(".ib-property-share-friend-f").on("submit",function(e){e.preventDefault();var e=B(this).serialize(),i=B(this).find("input[name='mls_number']:eq(0)").val(),i=__flex_idx_search_filter_v2.shareWithFriendEndpoint.replace(/{{mlsNumber}}/g,i);B.ajax({type:"POST",url:i,data:{access_token:p,flex_credentials:Cookies.get("ib_lead_token"),form_data:e},success:function(e){}}),B("#ib-email-to-friend").removeClass("ib-md-active"),B("#ib-email-thankyou").addClass("ib-md-active")}),h.on("click",".ib-psprint",function(){var e=B("#printMessageBox"),i=B(".ib-property-detail:eq(0)");e.fadeIn(),i.addClass("ib-phw-print").printArea({onClose:function(){e.fadeOut("fast"),i.removeClass("ib-phw-print")}})}),h.on("submit",".ib-propery-inquiry-f",function(e){e.preventDefault();var e=B(this).serialize(),i=B(this).find("input[name='mls_number']:eq(0)").val(),i=__flex_idx_search_filter_v2.requestInformationEndpoint.replace(/{{mlsNumber}}/g,i);B.ajax({type:"POST",url:i,data:{access_token:p,flex_credentials:Cookies.get("ib_lead_token"),form_data:e},success:function(e){}}),B("#ib-email-thankyou").addClass("ib-md-active"),B(document).on("click","#ib-email-thankyou .ib-mmclose",function(e){e.preventDefault(),B("#ib-email-thankyou").removeClass("ib-md-active")})}),h.on("click",".ib-btnfs",function(){void 0!==Ce&&Ce.fullscreen("in")}),h.on("click",".ib-paitem",function(e){B(e.target).hasClass("ib-paititle")&&B(this).toggleClass("ib-pai-active")}),h.on("click",".ib-pvitem",function(e){var i,a,t=B(this).data("id");function n(e){e.stopPropagation(),e.preventDefault(),a.setMapTypeId(google.maps.MapTypeId.HYBRID),B(this).hasClass("is-active")?(B(this).removeClass("is-active"),a.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(B(this).addClass("is-active"),a.setMapTypeId(google.maps.MapTypeId.HYBRID))}function l(e){e.stopPropagation(),e.preventDefault(),a.setZoom(a.getZoom()+1)}function r(e){e.stopPropagation(),e.preventDefault(),a.setZoom(a.getZoom()-1)}function s(){var e,i=a.getDiv().firstChild;o(i)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():(e=i).requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen(),document.onwebkitfullscreenchange=document.onmsfullscreenchange=document.onmozfullscreenchange=document.onfullscreenchange=function(){o(i)?fullscreenControl.classList.add("is-fullscreen"):fullscreenControl.classList.remove("is-fullscreen")}}function o(e){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)==e}B(this).hasClass("ib-pvi-active")||"video"==t||(B(this).parent().find(">li").removeClass("ib-pvi-active"),B(this).addClass("ib-pvi-active"),B(this).parent().parent().parent().removeClass("ib-pva-photos ib-pva-map").addClass("ib-pva-"+t),"map"===t&&(t=B(this).data("lat"),i=B(this).data("lng"),"no"===B(this).data("loaded")&&(t={lat:parseFloat(t),lng:parseFloat(i)},a=new google.maps.Map(h.find(".ib-pmap")[0],{zoom:18,center:t,styles:style_map,gestureHandling:"cooperative",panControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,streetViewControl:!0}),new google.maps.Marker({position:t,map:a}),google.maps.event.addListenerOnce(a,"tilesloaded",function(){(b=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),b.appendChild(fullscreenControl),(f=document.createElement("div")).classList.add("flex-map-zoomIn"),b.appendChild(f),(v=document.createElement("div")).classList.add("flex-map-zoomOut"),b.appendChild(v),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),b.appendChild(satelliteMapButton),google.maps.event.addDomListener(f,"click",l),google.maps.event.addDomListener(v,"click",r),google.maps.event.addDomListener(fullscreenControl,"click",s),google.maps.event.addDomListener(satelliteMapButton,"click",n),a.controls[google.maps.ControlPosition.TOP_RIGHT].push(b)}))))})),R.length&&R.on("click","div",function(e){R.find("div").removeClass("ib-fifor-active");e=e.target;switch(e.getAttribute("data-type")){case"rent":B(".ib-price-range-wrap").hide(),B(".ib-price-range-wrap-rent").show(),R.find("div:eq(1)").addClass("ib-fifor-active"),E.find('[name="sale_type"]').val("1"),console.log("for rent");var i=B(".ib-comm-price-rent-inner-min:eq(0)").val(),i=(i.length&&(i=i.replace(/[^0-9+]/gi,"")),E.find('[name="min_rent_price"]').val(i),B(".ib-comm-price-rent-inner-max:eq(0)").val());i.length&&(i=i.replace(/[^0-9+]/gi,"")),E.find('[name="max_rent_price"]').val(i);break;case"sale":B(".ib-price-range-wrap").hide(),B(".ib-price-range-wrap-sale").show(),R.find("div:eq(0)").addClass("ib-fifor-active"),E.find('[name="sale_type"]').val("0"),console.log("for sale");i=B(".ib-comm-price-sale-inner-min:eq(0)").val(),i=(i.length&&(i=i.replace(/[^0-9+]/gi,"")),E.find('[name="min_sale_price"]').val(i),B(".ib-comm-price-sale-inner-max:eq(0)").val());i.length&&(i=i.replace(/[^0-9+]/gi,"")),E.find('[name="max_sale_price"]').val(i)}e.classList.add("ib-fifor-active"),E.find('[name="page"]').val(1),E.trigger("submit")}),O.length&&O.on("click",function(){location.href=__flex_idx_search_filter_v2.searchFilterPermalink}),E.length&&(E.on("submit",Ee),Ee())})}(jQuery),function(i){let a=i(".ib-fmobile"),e=i(".ib-oadbanced"),t=i(".ib-fhpb-openers"),n=(i(".ib-filter-container"),i(".ib-fdmatching"));a.length&&a.on("click",".ib-fititle",function(){var e=i(this).parent();(e.hasClass("ib-fitem-active")?e:e.addClass("ib-fitem-active").siblings()).removeClass("ib-fitem-active")}),e.length&&(e.on("click",function(){window.innerWidth<990&&(i(".ib-modal-filters-mobile").show(),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&i("body").addClass("only-mobile"))}),i(".ib-close-modal-filters-mobile").on("click",function(){i(".ib-modal-filters-mobile").hide(),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&i("body").removeClass("only-mobile")}),i("#ib-apply-clear").on("click",function(){window.scrollTo(0,0),location.href=__flex_idx_search_filter_v2.searchFilterPermalink}),i("#ib-apply-filters-btn").on("click",function(){i(".ib-modal-filters-mobile").hide(),window.scrollTo(0,0),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&i("body").removeClass("only-mobile")})),t.length&&t.find(".ib-oiwrapper").on("click",function(){var e=i(this).parent();e.hasClass("ib-oitem-active")?e.removeClass("ib-oitem-active"):(e.addClass("ib-oitem-active").siblings().removeClass("ib-oitem-active"),e.hasClass("ib-oadbanced")||a.removeClass("ib-fmobile-active"))}),i(".ib-listings-ct:eq(0)").on("click",".gs-next-arrow, .gs-prev-arrow",function(){"yes"===__flex_g_settings.anonymous&&__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&3<=++countClickAnonymous&&(i("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),i("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),i("#modal_login").find(".item_tab").removeClass("active"),i("#tabRegister").addClass("active"),i("button.close-modal").addClass("ib-close-mproperty"),i(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),i("#modal_login h2").html(i("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=i(".header-tab a[data-tab='tabRegister']").attr("data-text"),i("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e),countClickAnonymous=0);var e=i(this).parents(".ib-pislider");e.hasClass("gs-builded")||(e.find(".ib-pifimg").removeClass("ib-pifimg"),e.find(".gs-container-navs").remove(),e.greatSlider({type:"fade",nav:!0,bullets:!1,autoHeight:!1,lazyLoad:!0,startPosition:2,layout:{arrowDefaultStyles:!1},onLoadedItem:function(e,i,a){"success"!=a&&setTimeout(function(){e.attr("src","https://www.idxboost.com/i/default_thumbnail.jpg")},2e3)}}))});n.on("click",function(){e.find(".ib-oiwrapper").click()}),i(".ib-fmapply").click(function(){i(".ib-badvanced").click()}),i(".idx-bta-map").click(function(){var e=i(".ib-mapgrid-container");i('.ib-gwvbitem[data-view="map"]').addClass("ib-gv-active").siblings().removeClass("ib-gv-active"),i("body").addClass("view-map").removeClass("view-grid view-list"),e.removeClass("ib-vgrid-active").addClass("ib-vmap-active"),setTimeout(function(){!1===IB_LOOKUP_DRAG&&IB_MAP.fitBounds(IB_HIDDEN_BOUNDS)},100)}),i(".idx-bta-grid").click(function(){var e=i(".ib-mapgrid-container");i('.ib-gwvbitem[data-view="grid"]').addClass("ib-gv-active").siblings().removeClass("ib-gv-active"),i("body").addClass("view-grid").removeClass("view-map view-list"),e.addClass("ib-vgrid-active").removeClass("ib-vmap-active")}),i(".save-button-responsive").click(()=>{i(".ib-dbsave").click()}),i("body").on("click",".ib-pshared",function(){i(this).toggleClass("ib-ps-active")}),i("body").on("click",".ib-requestinfo",()=>{i(".ib-cffitem:first-child input").focus()}),1023<i(window).width()&&i("body").addClass("ms-hidden-ovf")}(jQuery),function(i){i(function(){i(window).on("popstate",function(e){i("#modal_login").is(":visible")&&i(".close").click(),i(".ib-pbtnclose").click()})})}(jQuery);