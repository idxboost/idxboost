!function(t){__ib_quick_search.priceSaleValues.push({label:word_translate.any_price,value:"--"}),__ib_quick_search.priceRentValues.push({label:word_translate.any_price,value:"--"}),l=t("#ib-quick-search-price-range-lbl");var c,s,l,e,n=_.pluck(__ib_quick_search.priceRentValues,"value"),h=_.pluck(__ib_quick_search.priceSaleValues,"value");t(function(){function a(){t("#ib-quick-search-price-range-rent span").each(function(e){0==e&&t(this).attr("data-text",t(".idx_txt_min_slider").val()),1==e&&t(this).attr("data-text",t(".idx_txt_max_slider").val())}),t("#ib-quick-search-price-range-sale span").each(function(e){0==e&&t(this).attr("data-text",t(".idx_txt_min_slider").val()),1==e&&t(this).attr("data-text",t(".idx_txt_max_slider").val())})}(e=t("#ib-quick-search-price-range-rent")).length&&e.slider({range:!0,min:0,max:n.length-1,step:1,values:[0,n.length-1],slide:function(e,a){var i=n[a.values[0]],a=n[a.values[1]],r=[];r.push(isNaN(i)?word_translate.any_price:"$"+_.formatShortPrice(i)),r.push(isNaN(a)?word_translate.any_price_max:"$"+_.formatShortPrice(a)),"0"==i&&"--"==a||"0"==i&&"0"==a||"--"==i&&"--"==a?(l.html(word_translate.any_price),t("#ib-quick-search-rent-values").val("")):(l.html(r.join(" - ")),!isNaN(i)&&isNaN(a)?t("#ib-quick-search-rent-values").val(i+"-"):t("#ib-quick-search-rent-values").val(i+"-"+a))}}),(e=t("#ib-quick-search-price-range-sale")).length&&e.slider({range:!0,min:0,max:h.length-1,step:1,values:[0,h.length-1],slide:function(e,a){var i=h[a.values[0]],a=h[a.values[1]],r=[];r.push(isNaN(i)?word_translate.any_price:"$"+_.formatShortPrice(i)),r.push(isNaN(a)?word_translate.any_price_max:"$"+_.formatShortPrice(a)),"0"==i&&"--"==a||"0"==i&&"0"==a||"--"==i&&"--"==a?(l.html(word_translate.any_price),t("#ib-quick-search-sale-values").val("")):(l.html(r.join(" - ")),!isNaN(i)&&isNaN(a)?t("#ib-quick-search-sale-values").val(i+"-"):t("#ib-quick-search-sale-values").val(i+"-"+a))}}),(c=t("#ib-quick-search-rental-type")).length&&c.on("change",function(){var e=(1==this.value?(t("#ib-quick-search-price-range-sale").hide(),t("#ib-quick-search-price-range-rent").show(),t("#ib-quick-search-rent-values")):(t("#ib-quick-search-price-range-rent").hide(),t("#ib-quick-search-price-range-sale").show(),t("#ib-quick-search-sale-values"))).val().split("-");1===e.length?l.html(word_translate.any_price):""===e[1]?l.html("$"+_.formatShortPrice(e[0])+" - "+word_translate.any_price):l.html("$"+_.formatShortPrice(e[0])+" - $"+_.formatShortPrice(e[1])),a()}),(s=t(".ib-quick-search-types")).length&&s.on("change",function(){var e=[];s.each(function(){this.checked&&e.push(this.value)}),t("#ib-quick-search-type-values").val(e.join(","))}),(e=t("#__ib_quick_search_form")).length&&e.on("submit",function(e){var a,i=[],r=[];e.preventDefault(),1==c.val()&&r.push("for=rent"),t("#ib-quick-search-type-values").val().length&&(a=t("#ib-quick-search-type-values").val().split(",")),-1!==t.inArray("2",a)&&i.push("house"),-1!==t.inArray("1",a)&&i.push("condo"),-1!==t.inArray("tw",a)&&i.push("multifamily"),-1!==t.inArray("mf",a)&&i.push("multifamily"),i.length&&i.length!==s.length&&(r.push("type="+i.join(",")),i.length=0),"--"!==t("#ib-quick-search-city").val()&&r.push("keyword="+encodeURIComponent(t("#ib-quick-search-city").val()+"_city")),1==c.val()?t("#ib-quick-search-rent-values").val().length&&r.push("price="+t("#ib-quick-search-rent-values").val()):t("#ib-quick-search-sale-values").val().length&&r.push("price="+t("#ib-quick-search-sale-values").val()),window.location.href=r.length?__ib_quick_search.searchUrl+"?"+r.join("&"):__ib_quick_search.searchUrl}),t(document).on("ready",function(){a()}),t(document).on("click",function(e){var a=t(".ib-quick-search-nav-item");a.is(e.target)||0!==a.has(e.target).length||(t(".ib-quick-search-nav-item.ib-active").removeClass("ib-active"),t(".ib-quick-search-nav").removeClass("ib-open"))}),t(".ib-arrow").on("click",function(e){t(this).parents(".ib-quick-search-nav-item").hasClass("ib-active")?(t(".ib-quick-search-nav-item.ib-active").removeClass("ib-active"),t(".ib-quick-search-nav").removeClass("ib-open")):(t(".ib-quick-search-nav-item.ib-active").removeClass("ib-active"),t(this).parents(".ib-quick-search-nav-item").addClass("ib-active"),t(".ib-quick-search-nav").addClass("ib-open"))})})}(jQuery);