import{r as g,v as wa,x as pe,y as Na,z as Ca,A as ja,B as ka,C as Aa,D as Ea,_ as J,E as Ma,F as n,G as xt,H as La,I as $a,J as Ta,K as Fa,L as Pa,M as Oa,N as Ia,O as Ra,P as qa,Q as Ba}from"./vendor-B1il49z_.js";import{c as Ie,f as Re,a as nt,u as lt,b as O,s as Da,d as Va,i as za,e as Ua,P as Ha}from"./state-MsRYJGzt.js";import{u as U,t as xe,i as Ya,a as Za}from"./i18n-Cmvy_zuU.js";import"./gmaps-BDODJA70.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}})();var Wa={VITE_APP_API_IDXBOOST:"https://api.idxboost.dev",VITE_APP_API_IDXBOOST_SEARCH:"https://api-idx-search.idxboost.dev",VITE_APP_API_AUTOCOMPLETE:"https://autocomplete.idxboost.dev",VITE_APP_ACCESS_TOKEN_SSO:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJWcDdPdHNtNGktNUxuNktpSlRVT0dGZXEzNkl1SDFUZDA5MG9sS29WU2o0In0.eyJleHAiOjE3MzcxNDM5ODcsImlhdCI6MTczNDU1MTk4NywianRpIjoiNDQ2ZTVhMDMtY2QxMC00MTU0LThhMjQtYTk3ZTlkNzViN2VkIiwiaXNzIjoiaHR0cHM6Ly9zc28uaWR4Ym9vc3QuY29tL3JlYWxtcy9tY2kiLCJzdWIiOiI1YTdkY2QzNy05ZTNkLTRmMDctODllMC1lYWRiMGYwMDQ2MzUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJMUUpiZHo4NHJlWWo1blp3OVBoWTVLcUI5WkEyVTlidCIsInNjb3BlIjoiaWR4IiwiY2xpZW50X2lkIjoiTFFKYmR6ODRyZVlqNW5adzlQaFk1S3FCOVpBMlU5YnQifQ.PCZ88QB-GZ5uGaw9NeU8R7S6DbvRWLdOKPvAJom7jgx4F77msDbvWPGxCv4B3fEdpGtAjUOupXriqlgapKqFddWAQIDRY8jNJcihLyJOTVKJhU3AocV2QSJnQn9Hdd6ypQbBgKUQdfvAxr2aw5eZIhILZzk8iRZDnjdyZ3J3GuMaQ8VZK53okxNh6H-hrRL_B1g8LbeE_NPzeiFRqAMeT-fh2VV68eMMzSDagupFTIhwqeZgm_NPCQZYwGYs2J5oZttVpnBxc2L2psC87eBJbaSmBL1eUkATYfq66BzTbQjQ3H1H9Pk5Ivpfzau1ZZ5DoDsHAX6qFEOmFiJl6YsZIg",VITE_APP_AI_SEARCH:"https://api-ia.idxboost.dev/api/search",VITE_APP_API_COLLECTIONS:"https://api-collections.idxboost.dev/api",VITE_GOOGLE_MAPS_LOCAL_KEY:"AIzaSyBU6VY2oHfII-RPAcZZu9qq843bpE3pLNo",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_APP_API_IDXBOOST:Ja,VITE_APP_API_IDXBOOST_SEARCH:Ga,VITE_APP_API_AUTOCOMPLETE:Ka,VITE_APP_ACCESS_TOKEN_SSO:Qa,VITE_APP_AI_SEARCH:Xa,VITE_APP_API_COLLECTIONS:en}=Wa,oe={IDXBOOST:window.__flex_g_settings?.domain_service||Ja,IDXBOOST_SEARCH:window.__flex_g_settings?.app_search_filter_v2||Ga,AUTOCOMPLETE:window.__flex_g_settings?.lookupAutocomplete||Ka,OWN_DOMAIN:window.location.origin,AISEARCH:Xa,COLLECTIONS:en},tn=`Bearer ${window.idxtoken||Qa}`,At="https://idxboost-spw-assets.idxboost.us/photos/default_thumbnail.jpg",sn=43560,Ue=Ie({reducerPath:"artificialIntelligenceApi",baseQuery:Re({baseUrl:""}),refetchOnMountOrArgChange:!0,endpoints:e=>({getAITranscription:e.mutation({query:({search_payload:t,type:s})=>{const a=new FormData;a.append("search_payload",t,`audio.${s}`);const l=window.__flex_g_settings.registration_key||"",o=window.__flex_g_settings.site_name||"",i=window.__flex_g_settings.siteUrl||"";return{url:`${oe.AISEARCH}/trascribe/audio?registration_key=${l}&website_name=${o}&website_url=${i}`,method:"POST",body:a}}}),getFilters:e.mutation({query:t=>{const s=window.__flex_g_settings.registration_key||"",a=window.__flex_g_settings.site_name||"",l=window.__flex_g_settings.siteUrl||"";return{url:`${oe.AISEARCH}/properties/filters`,method:"POST",headers:{"Content-Type":"application/json"},body:{input_search:t,registration_key:s,website_name:a,website_url:l}}}})})}),{useGetFiltersMutation:an,useGetAITranscriptionMutation:nn}=Ue,ln=()=>{const[e,t]=g.useState(!1),[s,a]=g.useState(""),[l,o]=g.useState(!1),[i,c]=g.useState(null),m=g.useRef(null),u=g.useRef([]),f=g.useRef(null),[r,d]=g.useState(null),[h]=nn(),p=_=>MediaRecorder.isTypeSupported(_);g.useEffect(()=>{const _=p("audio/webm")?"audio/webm":p("audio/mp4")?"audio/mp4":null;_?d(_):c("Audio formats are not supported in this browser.")},[]);const v=()=>{r&&navigator.mediaDevices.getUserMedia({audio:!0}).then(_=>{f.current=_,m.current=new MediaRecorder(_,{mimeType:r}),m.current.start(),a(""),t(!0),m.current.ondataavailable=x=>{u.current.push(x.data)},m.current.onstop=()=>{const x=new Blob(u.current,{type:r});u.current=[],y(x)}}).catch(_=>{c("Error accessing microphone"),console.error(_)})},b=()=>{m.current&&(m.current.stop(),t(!1),f.current&&(f.current.getTracks().forEach(_=>_.stop()),f.current=null))},y=async _=>{if(r)try{o(!0);const x=await h({search_payload:_,type:r.split("/")[1]||"mp4"}).unwrap();a(x.prompt)}catch(x){c("Error getting transcript"),console.error(x)}finally{o(!1)}};return{isRecording:e,transcriptionResult:s,loading:l,error:i,startRecording:v,stopRecording:b}},ks=(e,t)=>{const s=g.useRef(null);return g.useEffect(()=>()=>{s.current&&clearTimeout(s.current)},[]),(...l)=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{e(...l)},t)}},As=(e,t)=>{const[s,a]=g.useState(e);return g.useEffect(()=>{const l=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(l)}},[e,t]),s},on=e=>{g.useEffect(()=>{const t=document.getElementById("_ib_lead_activity_rows");if(t){const s=new MutationObserver(()=>{const a=document.querySelector("#_ib_lead_activity_tab .ms-tab-favorites");if(t&&a?.classList.contains("active")){const l=i=>{const m=i.target.closest(".ms-delete");if(m){const u=m.getAttribute("data-mls")||"";e?.(u)}},o=t.querySelectorAll(".ms-item .ms-delete");return o.forEach(i=>{i.addEventListener("click",l)}),()=>{o.forEach(i=>{i.removeEventListener("click",l)})}}});return s.observe(t,{childList:!0,subtree:!0}),()=>{s.disconnect()}}},[e])},qe=(e,t)=>{g.useEffect(()=>{const s=a=>{const l=e?.current;!l||l.contains(a?.target||null)||t(a)};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}},[e,t])},rn=e=>{g.useEffect(()=>{const s=setInterval(()=>{window.__flex_g_settings?.anonymous==="no"&&(e?.(),clearInterval(s))},5e3);return()=>{clearInterval(s)}},[])},cn={favoriteIcon:"love",includePendingContingent:!1,priceRentRangeOptions:[],priceSaleRangeOptions:[],propertyTypesOptions:[],waterfrontOptions:[],amenitiesOptions:[],bordActive:!1,clusterMarkersActive:!1,maxNumberMarkers:500,compactFormatCards:!1,moreFilterOpen:!1,aiFilterOpen:!1,isAiActive:!1,selectedMlsCollections:[],countClickAnonymous:0},Es=nt({name:"ui",initialState:cn,reducers:{setMoreFilterOpen:(e,{payload:t})=>{e.moreFilterOpen=t},setAiFilterOpen:(e,{payload:t})=>{e.aiFilterOpen=t},setFavoriteIcon:(e,{payload:t})=>{e.favoriteIcon=t},setCompactFormatCards:(e,{payload:t})=>{e.compactFormatCards=t},updateIncludePendingContingent:(e,{payload:t})=>{e.includePendingContingent=t},setPriceRentRangeOptions:(e,{payload:t})=>{e.priceRentRangeOptions=t},setPriceSaleRangeOptions:(e,{payload:t})=>{e.priceSaleRangeOptions=t},setPropertyTypesOptions:(e,{payload:t})=>{e.propertyTypesOptions=t},setWaterfrontOptions:(e,{payload:t})=>{e.waterfrontOptions=t},setAmenitiesOptions:(e,{payload:t})=>{e.amenitiesOptions=t},updateClusterMarkersActive:(e,{payload:t})=>{e.clusterMarkersActive=t},updateMaxNumberMarkers:(e,{payload:t})=>{e.maxNumberMarkers=t},setCurrentLat:(e,{payload:t})=>{e.currentLat=t},setCurrentLng:(e,{payload:t})=>{e.currentLng=t},setZoom:(e,{payload:t})=>{e.zoom=t},updateIsAiActive:(e,{payload:t})=>{e.isAiActive=t},setSelectedMlsCollections:(e,{payload:t})=>{e.selectedMlsCollections=t},updateCountClickAnonymous:(e,{payload:t})=>{e.countClickAnonymous=t}}}),{setMoreFilterOpen:Ke,setAiFilterOpen:St,setFavoriteIcon:un,setCompactFormatCards:dn,updateIncludePendingContingent:mn,setPriceRentRangeOptions:fn,setPriceSaleRangeOptions:pn,setPropertyTypesOptions:hn,setWaterfrontOptions:bn,setAmenitiesOptions:vn,updateClusterMarkersActive:gn,updateMaxNumberMarkers:xi,setCurrentLat:Si,setCurrentLng:wi,setZoom:Ni,updateIsAiActive:_n,setSelectedMlsCollections:X,updateCountClickAnonymous:yn}=Es.actions,xn=e=>e.ui,Sn=Es.reducer;function wn(e){const s=document.getElementById("_ib_lead_activity_tab")?.querySelectorAll("button");s?.length&&(e==="listing_views"&&s[0].click(),e==="saved_listings"&&s[1].click(),e==="saved_searches"&&s[2].click())}function Ci(e,t){const s=document.getElementById(`favorite-${e}`);s&&(t?s.classList.add("active"):s.classList.remove("active"))}const ji=(e,t,s)=>{if(e){let a=e.querySelector(".ms-sf-favorite");if(s&&!a){a=document.createElement("span"),a.className="ms-sf-favorite";const l=document.createElement("i");l.className=`sf-icon-${t}-active`,a.appendChild(l),e.querySelector(".ms-sf-richmarker")?.appendChild(a)}else!s&&a&&a.remove()}};function ki(e){if(e){const t=e.querySelector(".ms-sf-richmarker");if(t)return t.getAttribute("title")}return""}function Ms(e){const t=document.querySelector(".ms-sf-wrapper-map-actions"),s=document.querySelector(".ms-sf-wrapper-draw-map-header"),a=document.querySelector(".ms-sf-btn.-remove");if(e==="on"){t?.classList.add("hidden"),s?.classList.add("active"),a?.classList.add("hidden");return}t?.classList.remove("hidden"),s?.classList.remove("active"),a?.classList.remove("hidden")}const Jt=()=>{document.querySelectorAll("[class*='marker-view']").forEach(t=>t.style.display="none")},Nn=()=>{document.querySelectorAll("[class*='marker-view']").forEach(t=>t.style.display="")},mt=(e="all")=>{const t=document.getElementById("header")||document.getElementById("ip-header"),s=document.querySelector(".rs-navbar"),a=document.getElementById("wpadminbar"),l=document.querySelector(".ms-sf-filter-header"),o={headerHeight:t?.offsetHeight||0,cpanelHeaderHeight:s?.offsetHeight||0,componentsHeight:l?.offsetHeight||0,wpBarHeight:a?.offsetHeight||0};switch(e){case"headers":return o.headerHeight+o.cpanelHeaderHeight+o.wpBarHeight;case"components":return o.componentsHeight;case"all":default:return o.headerHeight+o.cpanelHeaderHeight+o.componentsHeight+o.wpBarHeight}},Ls=()=>{const e=document.querySelector('#tabLogin .ms-tab[data-tab="tabRegister"]');e&&e.click()},Et=e=>{const t=document.querySelector(".ms-sf-wrapper-float-view");t&&(e?t.classList.add("-showing_property"):t.classList.remove("-showing_property"))};function Gt(e){let t=e<<1;e<0&&(t=~t);let s="";for(;t>=32;)s+=String.fromCharCode((32|t&31)+63),t>>=5;return s+=String.fromCharCode(t+63),s}function $s(e){let t=0,s=0,a="";for(const l of e){const o=Math.round(l.lat*1e5),i=Math.round(l.lng*1e5);a+=Gt(o-t),a+=Gt(i-s),t=o,s=i}return a}function Cn(e){let t=0,s=0,a=0;const l=[];for(;t<e.length;){let o=0,i=0,c;do c=e.charCodeAt(t++)-63,o|=(c&31)<<i,i+=5;while(c>=32);const m=o&1?~(o>>1):o>>1;o=0,i=0;do c=e.charCodeAt(t++)-63,o|=(c&31)<<i,i+=5;while(c>=32);const u=o&1?~(o>>1):o>>1;s+=m,a+=u,l.push({lat:s/1e5,lng:a/1e5})}return l}function Ts(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function jn(e){const t=e.length%4,s=e.replace(/-/g,"+").replace(/_/g,"/")+(t?"===".slice(0,4-t):"");return atob(s)}const kn=e=>{const t=e.getPath();if(!t||t.getLength()===0)return"";const s=[];t.forEach(o=>s.push({lat:o.lat(),lng:o.lng()}));const a=t.getAt(0);s.push({lat:a.lat(),lng:a.lng()});const l=$s(s);return Ts(l)},Ai=e=>{if(!e||e.length===0)return"";const t=[...e],s=e[0];t.push({lat:s.lat,lng:s.lng});const a=$s(t);return Ts(a)};function Fs(e){const t=jn(e),s=Cn(t),a=new google.maps.MVCArray;return s.forEach(({lat:l,lng:o})=>a.push(new google.maps.LatLng(l,o))),a}const An=e=>{const t=e.split(","),s=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(t[0]),parseFloat(t[1])),new google.maps.LatLng(parseFloat(t[2]),parseFloat(t[3])));return{lat:s.getCenter().lat(),lng:s.getCenter().lng()}},Ps=(e,t)=>{const s=document.getElementById("map"),a=s?.offsetWidth||window.innerWidth,l=s?.offsetHeight||window.innerHeight,o=Math.pow(2,t),i=180/(o*256),c=360/(o*256),m=i*l*1.8/2,u=c*a/2,f=e.lat-m,r=e.lng-u,d=e.lat+m,h=e.lng+u;return`${f},${r},${d},${h}`},Ei=(e,t)=>{const s=document.createElement("button");return s.className=`ms-sf-btn sf-icon-zoom ${t||""}`,s.ariaLabel="Zoom In",s.addEventListener("click",()=>{if(!e)return;const a=e.getZoom()+1;e.setZoom(a)}),s},Mi=(e,t)=>{const s=document.createElement("button");return s.className=`ms-sf-btn sf-icon-min ${t||""}`,s.ariaLabel="Zoom Out",s.addEventListener("click",()=>{if(!e)return;const a=e.getZoom()-1;e.setZoom(a)}),s},Li=e=>{const t=document.createElement("button");return t.className="ms-sf-btn sf-icon-satellite",t.ariaLabel="Satellite View",t.addEventListener("click",()=>{const s=["roadmap","satellite"];let a=0;if(s.forEach((l,o)=>{l===e.getMapTypeId()&&(a=o)}),e.setMapTypeId(s[a===1?0:a+1]),a===1){t.classList.remove("sf-icon-guide"),t.classList.add("sf-icon-satellite");return}t.classList.remove("sf-icon-satellite"),t.classList.add("sf-icon-guide")}),t},$i=e=>{const t=document.createElement("button");return t.className="ms-sf-btn sf-icon-fullscreen",t.id="fullscreen-btn",t.ariaLabel="FullScreen",t.addEventListener("click",()=>{const s=document.querySelectorAll(".gm-svpc"),a=document.querySelectorAll(".modal-bottom-buttons"),l=document.fullscreenElement;if(s?.forEach(o=>{o.style.display=l?"none":"block"}),a?.forEach(o=>{l?o.classList.remove("top"):o.classList.add("top")}),!l){e.getDiv().requestFullscreen(),t.classList.remove("sf-icon-fullscreen"),t.classList.add("sf-icon-fullscreen-exit");return}t.classList.remove("sf-icon-fullscreen-exit"),t.classList.add("sf-icon-fullscreen"),document.exitFullscreen()}),t},Ti=e=>{const t=document.createElement("button");return t.className="ms-sf-btn sf-icon-location",t.ariaLabel="Location",t.addEventListener("click",()=>Mn(e)),t},Fi=(e,t,s)=>{const a=document.createElement("button");return a.className="ms-sf-btn sf-icon-draw ms-sf-draw-control",a.ariaLabel="Draw Area",s&&(a.style.display="none"),a.addEventListener("click",()=>{Ms("on"),t?.(e)}),a},Mt=e=>{const t=[];return e.forEach(s=>t.push({lat:s.lat(),lng:s.lng()})),t},ft=(e,t)=>{if(t){const s=new google.maps.LatLngBounds;for(let a=0,l=e.length;a<l;a++)s.extend(new google.maps.LatLng({lat:e[a].lat,lng:e[a].lng}));t.fitBounds(s),t.panToBounds(s)}},En=({rect:e,zm:t},s)=>{if(s&&e&&t){const a=An(e);s.setCenter(a),s.setZoom(Number(t))}},Pi=e=>e.split(",").map(a=>Fs(a)).flatMap(a=>Mt(a)),Mn=e=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{const{latitude:s,longitude:a}=t.coords,l=`${e.getZoom()||11}`,o=Ps({lat:s,lng:a},Number(l));console.log("new rect:",o),e.setCenter({lat:s,lng:a}),e.setZoom(Number(l))},t=>{console.log("Error looking for current location::",t)}):alert("Geolocation is not supported by this browser.")},Ln=(e,t)=>{let s=0,a,l,o,i,c,m,u,f,r,d,h,p,v,b,y,_,x,w;const E=Math.PI/180*.5,C=[],L=[],$=[];if(e.length<3)return e;for(s=e.length,r=t*360/(2*Math.PI*6378137),r*=r,l=0,L[0]=0,$[0]=s-1,a=1;a>0;)if(o=L[a-1],i=$[a-1],a--,i-o>1){for(d=e[i].lng-e[o].lng,h=e[i].lat-e[o].lat,Math.abs(d)>180&&(d=360-Math.abs(d)),d*=Math.cos(E*(e[i].lat+e[o].lat)),p=d*d+h*h,c=o+1,m=o,f=-1;c<i;c++)v=e[c].lng-e[o].lng,b=e[c].lat-e[o].lat,Math.abs(v)>180&&(v=360-Math.abs(v)),v*=Math.cos(E*(e[c].lat+e[o].lat)),y=v*v+b*b,_=e[c].lng-e[i].lng,x=e[c].lat-e[i].lat,Math.abs(_)>180&&(_=360-Math.abs(_)),_*=Math.cos(E*(e[c].lat+e[i].lat)),w=_*_+x*x,y>=p+w?u=w:w>=p+y?u=y:u=(v*h-b*d)*(v*h-b*d)/p,u>f&&(m=c,f=u);f<r?(C[l]=o,l++):(a++,L[a-1]=m,$[a-1]=i,a++,L[a-1]=o,$[a-1]=m)}else C[l]=o,l++;C[l]=s-1,l++;const j=[];for(let P=0;P<l;P++)j.push(e[C[P]]);return j},$n=e=>20-e/20*19,Te=({amount:e,quote:t="USD",precision:s,opts:a})=>wa(e,{precision:s||0}).format({symbol:t==="USD"?"$":`${t} `,...a}),Oi=new Intl.NumberFormat("en",{notation:"compact",currency:"USD",style:"currency"});var F=(e=>(e.SALE="sale",e.RENT="rental",e.SOLD="sold",e))(F||{});const Kt=[{value:"list_date-desc",label:"Newest Listings"},{value:"last_updated-desc",label:"Modified Listings"},{value:"price-desc",label:"Highest Price"},{value:"price-asc",label:"Lowest Price"},{value:"sqft-desc",label:"Highest Sq.Ft"},{value:"sqft-asc",label:"Lowest Sq.Ft"},{value:"check_price_change_timestamp-desc",label:"Just Reduced"},{value:"price_sqft-desc",label:"Highest Price/Sq.Ft"},{value:"price_sqft-asc",label:"Lowest Price/Sq.Ft"}],Tn=[{value:"list_date-desc",label:"Newest Listings"},{value:"price-desc",label:"Highest Price"},{value:"price-asc",label:"Lowest Price"},{value:"sqft-desc",label:"Highest Sq.Ft"},{value:"sqft-asc",label:"Lowest Sq.Ft"},{value:"price_sqft-desc",label:"Highest Price/Sq.Ft"},{value:"price_sqft-asc",label:"Lowest Price/Sq.Ft"}],Os={sold:Tn,sale:Kt,rental:Kt},Qt=[{value:"",label:"Any"},{value:"0",label:"Studio"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"5+",label:"5+"}],Xt=[{value:"",label:"Any"},{value:"0",label:"Studio"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"5+",label:"5+"}],es=[{value:"",label:"Any"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"5+",label:"5+"}],ts=[{value:"",label:"Any"},{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"5+",label:"5+"}],Is=[{value:"homes",label:"Single Family Homes"},{value:"condos",label:"Condominiums"},{value:"townhouse",label:"Townhouses"},{value:"multifamily",label:"Multi-Family"},{value:"vacantland",label:"Vacant Land"}],Rs=[{value:"sale",label:"For Sale"},{value:"rental",label:"For Rent"},{value:"sold",label:"Sold"}],Fn=[{value:"active",label:"Active"},{value:"coming_soon",label:"Coming Soon"},{value:"under",label:"Under Contract/Pending"},{value:"foreclosure",label:"Foreclosure"},{value:"short_sale",label:"Short Sale"}],ot=[{value:'{"type":"week","value":1}',label:"Last 1 Week"},{value:'{"type":"month","value":1}',label:"Last 1 Month"},{value:'{"type":"month","value":3}',label:"Last 3 Months"},{value:'{"type":"month","value":6}',label:"Last 6 Months"},{value:'{"type":"year","value":1}',label:"Last 1 Year"},{value:'{"type":"year","value":2}',label:"Last 2 Years"},{value:'{"type":"year","value":3}',label:"Last 3 Years"},{value:'{"type":"year","value":5}',label:"Last 5 Years"}];Rs.map(e=>e.value==="sale"?{...e,options:Fn,multipleChoice:!0}:e.value==="sold"?{...e,options:ot}:e);const Pn=[{value:"",label:"Any"},{value:"50000",label:"$50,000"},{value:"100000",label:"$100,000"},{value:"150000",label:"$150,000"},{value:"200000",label:"$200,000"},{value:"250000",label:"$250,000"},{value:"300000",label:"$300,000"},{value:"350000",label:"$350,000"},{value:"400000",label:"$400,000"},{value:"450000",label:"$450,000"},{value:"500000",label:"$500,000"},{value:"550000",label:"$550,000"},{value:"600000",label:"$600,000"},{value:"650000",label:"$650,000"},{value:"700000",label:"$700,000"},{value:"750000",label:"$750,000"},{value:"800000",label:"$800,000"},{value:"850000",label:"$850,000"},{value:"900000",label:"$900,000"},{value:"1000000",label:"$1M"},{value:"1250000",label:"$1.25M"},{value:"1500000",label:"$1.5M"},{value:"1750000",label:"$1.75M"},{value:"2000000",label:"$2M"},{value:"2500000",label:"$2.5M"},{value:"3000000",label:"$3M"},{value:"3500000",label:"$3.5M"},{value:"4000000",label:"$4M"},{value:"4500000",label:"$4.5M"},{value:"5000000",label:"$5M"},{value:"7500000",label:"$7.5M"},{value:"10000000",label:"$10M"},{value:"12500000",label:"$12.5M"},{value:"15000000",label:"$15M"},{value:"17500000",label:"$17.5M"},{value:"20000000",label:"$20M"},{value:"22500000",label:"$22.5M"},{value:"25000000",label:"$25M"},{value:"27500000",label:"$27.5M"},{value:"30000000",label:"$30M"},{value:"35000000",label:"$35M"},{value:"40000000",label:"$40M"},{value:"45000000",label:"$45M"},{value:"50000000",label:"$50M"},{value:"60000000",label:"$60M"},{value:"70000000",label:"$70M"},{value:"80000000",label:"$80M"},{value:"90000000",label:"$90M"},{value:"100000000",label:"$100M"}],On=[{value:"",label:"Any"},{value:"50000",label:"$50,000"},{value:"100000",label:"$100,000"},{value:"150000",label:"$150,000"},{value:"200000",label:"$200,000"},{value:"250000",label:"$250,000"},{value:"300000",label:"$300,000"},{value:"350000",label:"$350,000"},{value:"400000",label:"$400,000"},{value:"450000",label:"$450,000"},{value:"500000",label:"$500,000"},{value:"550000",label:"$550,000"},{value:"600000",label:"$600,000"},{value:"650000",label:"$650,000"},{value:"700000",label:"$700,000"},{value:"750000",label:"$750,000"},{value:"800000",label:"$800,000"},{value:"850000",label:"$850,000"},{value:"900000",label:"$900,000"},{value:"1000000",label:"$1M"},{value:"1250000",label:"$1.25M"},{value:"1500000",label:"$1.5M"},{value:"1750000",label:"$1.75M"},{value:"2000000",label:"$2M"},{value:"2500000",label:"$2.5M"},{value:"3000000",label:"$3M"},{value:"3500000",label:"$3.5M"},{value:"4000000",label:"$4M"},{value:"4500000",label:"$4.5M"},{value:"5000000",label:"$5M"},{value:"7500000",label:"$7.5M"},{value:"10000000",label:"$10M"},{value:"12500000",label:"$12.5M"},{value:"15000000",label:"$15M"},{value:"17500000",label:"$17.5M"},{value:"20000000",label:"$20M"},{value:"22500000",label:"$22.5M"},{value:"25000000",label:"$25M"},{value:"27500000",label:"$27.5M"},{value:"30000000",label:"$30M"},{value:"35000000",label:"$35M"},{value:"40000000",label:"$40M"},{value:"45000000",label:"$45M"},{value:"50000000",label:"$50M"},{value:"60000000",label:"$60M"},{value:"70000000",label:"$70M"},{value:"80000000",label:"$80M"},{value:"90000000",label:"$90M"},{value:"100000000",label:"$100M"}],$e=[{value:"",label:"Any"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"5+"}],ss=[{value:"",label:"Any"},{value:"0",label:"0 Sq.Ft."},{value:"500",label:"500 Sq.Ft."},{value:"600",label:"600 Sq.Ft."},{value:"700",label:"700 Sq.Ft."},{value:"800",label:"800 Sq.Ft."},{value:"900",label:"900 Sq.Ft."},{value:"1000",label:"1,000 Sq.Ft."},{value:"1250",label:"1,250 Sq.Ft."},{value:"1500",label:"1,500 Sq.Ft."},{value:"1750",label:"1,750 Sq.Ft."},{value:"2000",label:"2,000 Sq.Ft."},{value:"2500",label:"2,500 Sq.Ft."},{value:"3000",label:"3,000 Sq.Ft."},{value:"3500",label:"3,500 Sq.Ft."},{value:"4000",label:"4,000 Sq.Ft."},{value:"4500",label:"4,500 Sq.Ft."},{value:"5000",label:"5,000 Sq.Ft."},{value:"6000",label:"6,000 Sq.Ft."},{value:"7000",label:"7,000 Sq.Ft."},{value:"8000",label:"8,000 Sq.Ft."},{value:"9000",label:"9,000 Sq.Ft."},{value:"10000",label:"10,000 Sq.Ft."},{value:"12000",label:"12,000 Sq.Ft."},{value:"15000",label:"15,000 Sq.Ft."},{value:"17000",label:"17,000 Sq.Ft."},{value:"20000",label:"20,000 Sq.Ft."},{value:"21780",label:"0.5 Acres"},{value:"43560",label:"1 Acre"},{value:"87120",label:"2 Acres"},{value:"130680",label:"3 Acres"},{value:"174240",label:"4 Acres"},{value:"217800",label:"5 Acres"},{value:"435600",label:"10 Acres"},{value:"1742400",label:"40 Acres"},{value:"4356000",label:"100 Acres"}],as=[{value:"",label:"Any"},{value:"0",label:"0 Sq.Ft."},{value:"500",label:"500 Sq.Ft."},{value:"600",label:"600 Sq.Ft."},{value:"700",label:"700 Sq.Ft."},{value:"800",label:"800 Sq.Ft."},{value:"900",label:"900 Sq.Ft."},{value:"1000",label:"1,000 Sq.Ft."},{value:"1250",label:"1,250 Sq.Ft."},{value:"1500",label:"1,500 Sq.Ft."},{value:"1750",label:"1,750 Sq.Ft."},{value:"2000",label:"2,000 Sq.Ft."},{value:"2500",label:"2,500 Sq.Ft."},{value:"3000",label:"3,000 Sq.Ft."},{value:"3500",label:"3,500 Sq.Ft."},{value:"4000",label:"4,000 Sq.Ft."},{value:"4500",label:"4,500 Sq.Ft."},{value:"5000",label:"5,000 Sq.Ft."},{value:"6000",label:"6,000 Sq.Ft."},{value:"7000",label:"7,000 Sq.Ft."},{value:"8000",label:"8,000 Sq.Ft."},{value:"9000",label:"9,000 Sq.Ft."},{value:"10000",label:"10,000 Sq.Ft."},{value:"12000",label:"12,000 Sq.Ft."},{value:"15000",label:"15,000 Sq.Ft."},{value:"17000",label:"17,000 Sq.Ft."},{value:"20000",label:"20,000 Sq.Ft."},{value:"21780",label:"0.5 Acres"},{value:"43560",label:"1 Acre"},{value:"87120",label:"2 Acres"},{value:"130680",label:"3 Acres"},{value:"174240",label:"4 Acres"},{value:"217800",label:"5 Acres"},{value:"435600",label:"10 Acres"},{value:"1742400",label:"40 Acres"},{value:"4356000",label:"100 Acres"}],ns=[{value:"",label:"Any"},{value:"0",label:"0 Sq.Ft."},{value:"500",label:"500 Sq.Ft."},{value:"600",label:"600 Sq.Ft."},{value:"700",label:"700 Sq.Ft."},{value:"800",label:"800 Sq.Ft."},{value:"900",label:"900 Sq.Ft."},{value:"1000",label:"1,000 Sq.Ft."},{value:"1250",label:"1,250 Sq.Ft."},{value:"1500",label:"1,500 Sq.Ft."},{value:"1750",label:"1,750 Sq.Ft."},{value:"2000",label:"2,000 Sq.Ft."},{value:"2500",label:"2,500 Sq.Ft."},{value:"3000",label:"3,000 Sq.Ft."},{value:"3500",label:"3,500 Sq.Ft."},{value:"4000",label:"4,000 Sq.Ft."},{value:"4500",label:"4,500 Sq.Ft."},{value:"5000",label:"5,000 Sq.Ft."},{value:"6000",label:"6,000 Sq.Ft."},{value:"7000",label:"7,000 Sq.Ft."},{value:"8000",label:"8,000 Sq.Ft."},{value:"9000",label:"9,000 Sq.Ft."},{value:"10000",label:"10,000 Sq.Ft."},{value:"12000",label:"12,000 Sq.Ft."},{value:"15000",label:"15,000 Sq.Ft."},{value:"17000",label:"17,000 Sq.Ft."},{value:"20000",label:"20,000 Sq.Ft."},{value:"21780",label:"0.5 Acres"},{value:"43560",label:"1 Acre"},{value:"87120",label:"2 Acres"},{value:"130680",label:"3 Acres"},{value:"174240",label:"4 Acres"},{value:"217800",label:"5 Acres"},{value:"435600",label:"10 Acres"},{value:"1742400",label:"40 Acres"},{value:"4356000",label:"100 Acres"}],ls=[{value:"",label:"Any"},{value:"0",label:"0 Sq.Ft."},{value:"500",label:"500 Sq.Ft."},{value:"600",label:"600 Sq.Ft."},{value:"700",label:"700 Sq.Ft."},{value:"800",label:"800 Sq.Ft."},{value:"900",label:"900 Sq.Ft."},{value:"1000",label:"1,000 Sq.Ft."},{value:"1250",label:"1,250 Sq.Ft."},{value:"1500",label:"1,500 Sq.Ft."},{value:"1750",label:"1,750 Sq.Ft."},{value:"2000",label:"2,000 Sq.Ft."},{value:"2500",label:"2,500 Sq.Ft."},{value:"3000",label:"3,000 Sq.Ft."},{value:"3500",label:"3,500 Sq.Ft."},{value:"4000",label:"4,000 Sq.Ft."},{value:"4500",label:"4,500 Sq.Ft."},{value:"5000",label:"5,000 Sq.Ft."},{value:"6000",label:"6,000 Sq.Ft."},{value:"7000",label:"7,000 Sq.Ft."},{value:"8000",label:"8,000 Sq.Ft."},{value:"9000",label:"9,000 Sq.Ft."},{value:"10000",label:"10,000 Sq.Ft."},{value:"12000",label:"12,000 Sq.Ft."},{value:"15000",label:"15,000 Sq.Ft."},{value:"17000",label:"17,000 Sq.Ft."},{value:"20000",label:"20,000 Sq.Ft."},{value:"21780",label:"0.5 Acres"},{value:"43560",label:"1 Acre"},{value:"87120",label:"2 Acres"},{value:"130680",label:"3 Acres"},{value:"174240",label:"4 Acres"},{value:"217800",label:"5 Acres"},{value:"435600",label:"10 Acres"},{value:"1742400",label:"40 Acres"},{value:"4356000",label:"100 Acres"}],os=[{value:"",label:"Any"},{value:"1900",label:"1900"},{value:"1901",label:"1901"},{value:"1902",label:"1902"},{value:"1903",label:"1903"},{value:"1904",label:"1904"},{value:"1905",label:"1905"},{value:"1906",label:"1906"},{value:"1907",label:"1907"},{value:"1908",label:"1908"},{value:"1909",label:"1909"},{value:"1910",label:"1910"},{value:"1911",label:"1911"},{value:"1912",label:"1912"},{value:"1913",label:"1913"},{value:"1914",label:"1914"},{value:"1915",label:"1915"},{value:"1916",label:"1916"},{value:"1917",label:"1917"},{value:"1918",label:"1918"},{value:"1919",label:"1919"},{value:"1920",label:"1920"},{value:"1921",label:"1921"},{value:"1922",label:"1922"},{value:"1923",label:"1923"},{value:"1924",label:"1924"},{value:"1925",label:"1925"},{value:"1926",label:"1926"},{value:"1927",label:"1927"},{value:"1928",label:"1928"},{value:"1929",label:"1929"},{value:"1930",label:"1930"},{value:"1931",label:"1931"},{value:"1932",label:"1932"},{value:"1933",label:"1933"},{value:"1934",label:"1934"},{value:"1935",label:"1935"},{value:"1936",label:"1936"},{value:"1937",label:"1937"},{value:"1938",label:"1938"},{value:"1939",label:"1939"},{value:"1940",label:"1940"},{value:"1941",label:"1941"},{value:"1942",label:"1942"},{value:"1943",label:"1943"},{value:"1944",label:"1944"},{value:"1945",label:"1945"},{value:"1946",label:"1946"},{value:"1947",label:"1947"},{value:"1948",label:"1948"},{value:"1949",label:"1949"},{value:"1950",label:"1950"},{value:"1951",label:"1951"},{value:"1952",label:"1952"},{value:"1953",label:"1953"},{value:"1954",label:"1954"},{value:"1955",label:"1955"},{value:"1956",label:"1956"},{value:"1957",label:"1957"},{value:"1958",label:"1958"},{value:"1959",label:"1959"},{value:"1960",label:"1960"},{value:"1961",label:"1961"},{value:"1962",label:"1962"},{value:"1963",label:"1963"},{value:"1964",label:"1964"},{value:"1965",label:"1965"},{value:"1966",label:"1966"},{value:"1967",label:"1967"},{value:"1968",label:"1968"},{value:"1969",label:"1969"},{value:"1970",label:"1970"},{value:"1971",label:"1971"},{value:"1972",label:"1972"},{value:"1973",label:"1973"},{value:"1974",label:"1974"},{value:"1975",label:"1975"},{value:"1976",label:"1976"},{value:"1977",label:"1977"},{value:"1978",label:"1978"},{value:"1979",label:"1979"},{value:"1980",label:"1980"},{value:"1981",label:"1981"},{value:"1982",label:"1982"},{value:"1983",label:"1983"},{value:"1984",label:"1984"},{value:"1985",label:"1985"},{value:"1986",label:"1986"},{value:"1987",label:"1987"},{value:"1988",label:"1988"},{value:"1989",label:"1989"},{value:"1990",label:"1990"},{value:"1991",label:"1991"},{value:"1992",label:"1992"},{value:"1993",label:"1993"},{value:"1994",label:"1994"},{value:"1995",label:"1995"},{value:"1996",label:"1996"},{value:"1997",label:"1997"},{value:"1998",label:"1998"},{value:"1999",label:"1999"},{value:"2000",label:"2000"},{value:"2001",label:"2001"},{value:"2002",label:"2002"},{value:"2003",label:"2003"},{value:"2004",label:"2004"},{value:"2005",label:"2005"},{value:"2006",label:"2006"},{value:"2007",label:"2007"},{value:"2008",label:"2008"},{value:"2009",label:"2009"},{value:"2010",label:"2010"},{value:"2011",label:"2011"},{value:"2012",label:"2012"},{value:"2013",label:"2013"},{value:"2014",label:"2014"},{value:"2015",label:"2015"},{value:"2016",label:"2016"},{value:"2017",label:"2017"},{value:"2018",label:"2018"},{value:"2019",label:"2019"},{value:"2020",label:"2020"},{value:"2021",label:"2021"},{value:"2022",label:"2022"},{value:"2023",label:"2023"},{value:"2024",label:"2024"},{value:"2025",label:"2025"}],is=[{value:"",label:"Any"},{value:"2025",label:"2025"},{value:"2024",label:"2024"},{value:"2023",label:"2023"},{value:"2022",label:"2022"},{value:"2021",label:"2021"},{value:"2020",label:"2020"},{value:"2019",label:"2019"},{value:"2018",label:"2018"},{value:"2017",label:"2017"},{value:"2016",label:"2016"},{value:"2015",label:"2015"},{value:"2014",label:"2014"},{value:"2013",label:"2013"},{value:"2012",label:"2012"},{value:"2011",label:"2011"},{value:"2010",label:"2010"},{value:"2009",label:"2009"},{value:"2008",label:"2008"},{value:"2007",label:"2007"},{value:"2006",label:"2006"},{value:"2005",label:"2005"},{value:"2004",label:"2004"},{value:"2003",label:"2003"},{value:"2002",label:"2002"},{value:"2001",label:"2001"},{value:"2000",label:"2000"},{value:"1999",label:"1999"},{value:"1998",label:"1998"},{value:"1997",label:"1997"},{value:"1996",label:"1996"},{value:"1995",label:"1995"},{value:"1994",label:"1994"},{value:"1993",label:"1993"},{value:"1992",label:"1992"},{value:"1991",label:"1991"},{value:"1990",label:"1990"},{value:"1989",label:"1989"},{value:"1988",label:"1988"},{value:"1987",label:"1987"},{value:"1986",label:"1986"},{value:"1985",label:"1985"},{value:"1984",label:"1984"},{value:"1983",label:"1983"},{value:"1982",label:"1982"},{value:"1981",label:"1981"},{value:"1980",label:"1980"},{value:"1979",label:"1979"},{value:"1978",label:"1978"},{value:"1977",label:"1977"},{value:"1976",label:"1976"},{value:"1975",label:"1975"},{value:"1974",label:"1974"},{value:"1973",label:"1973"},{value:"1972",label:"1972"},{value:"1971",label:"1971"},{value:"1970",label:"1970"},{value:"1969",label:"1969"},{value:"1968",label:"1968"},{value:"1967",label:"1967"},{value:"1966",label:"1966"},{value:"1965",label:"1965"},{value:"1964",label:"1964"},{value:"1963",label:"1963"},{value:"1962",label:"1962"},{value:"1961",label:"1961"},{value:"1960",label:"1960"},{value:"1959",label:"1959"},{value:"1958",label:"1958"},{value:"1957",label:"1957"},{value:"1956",label:"1956"},{value:"1955",label:"1955"},{value:"1954",label:"1954"},{value:"1953",label:"1953"},{value:"1952",label:"1952"},{value:"1951",label:"1951"},{value:"1950",label:"1950"},{value:"1949",label:"1949"},{value:"1948",label:"1948"},{value:"1947",label:"1947"},{value:"1946",label:"1946"},{value:"1945",label:"1945"},{value:"1944",label:"1944"},{value:"1943",label:"1943"},{value:"1942",label:"1942"},{value:"1941",label:"1941"},{value:"1940",label:"1940"},{value:"1939",label:"1939"},{value:"1938",label:"1938"},{value:"1937",label:"1937"},{value:"1936",label:"1936"},{value:"1935",label:"1935"},{value:"1934",label:"1934"},{value:"1933",label:"1933"},{value:"1932",label:"1932"},{value:"1931",label:"1931"},{value:"1930",label:"1930"},{value:"1929",label:"1929"},{value:"1928",label:"1928"},{value:"1927",label:"1927"},{value:"1926",label:"1926"},{value:"1925",label:"1925"},{value:"1924",label:"1924"},{value:"1923",label:"1923"},{value:"1922",label:"1922"},{value:"1921",label:"1921"},{value:"1920",label:"1920"},{value:"1919",label:"1919"},{value:"1918",label:"1918"},{value:"1917",label:"1917"},{value:"1916",label:"1916"},{value:"1915",label:"1915"},{value:"1914",label:"1914"},{value:"1913",label:"1913"},{value:"1912",label:"1912"},{value:"1911",label:"1911"},{value:"1910",label:"1910"},{value:"1909",label:"1909"},{value:"1908",label:"1908"},{value:"1907",label:"1907"},{value:"1906",label:"1906"},{value:"1905",label:"1905"},{value:"1904",label:"1904"},{value:"1903",label:"1903"},{value:"1902",label:"1902"},{value:"1901",label:"1901"},{value:"1900",label:"1900"}],Lt=[{value:"boat_dock",label:"Boat Dock"},{value:"foreclosure",label:"Foreclosures"},{value:"furnished",label:"Furnished"},{value:"gated_community",label:"Gated Community"},{value:"golf",label:"Golf Course"},{value:"penthouse",label:"Penthouse"},{value:"pets",label:"Pets"},{value:"short_sale",label:"Short sales"},{value:"pool",label:"Swimming Pool"},{value:"tennis",label:"Tennis Courts"},{value:"water_front",label:"Waterfront"}],rs=[{value:"",label:"Any"},{value:"1",label:"Today"},{value:"7",label:"7"},{value:"14",label:"14"},{value:"21",label:"21"},{value:"30",label:"30"}],$t=[{value:"",label:"Any"},{value:"bay",label:"Bay"},{value:"canal",label:"Canal"},{value:"fixed-bridge",label:"Fixed Bridge"},{value:"intracoastal",label:"Intracoastal"},{value:"lake",label:"Lake"},{value:"lake-front",label:"Lake Front"},{value:"ocean-access",label:"Ocean Access"},{value:"point-lot",label:"Point Lot"},{value:"river",label:"River"},{value:"river-front",label:"River Front"},{value:"river-frontage",label:"River Frontage"}],In=[["min_lotsize","max_lotsize"],["min_sqft","max_sqft"],["min_beds","max_beds"],["min_baths","max_baths"],["min_year","max_year"],["min_price","max_price"]],qs=["min_beds","max_beds","min_baths","max_baths","type","keyword","parking","min_sqft","max_sqft","min_lotsize","max_lotsize","min_year","max_year","wv","features","dom_max","min_price","max_price"],Rn={0:"love",1:"star",2:"square"},be={2:"homes",1:"condos",tw:"townhouse",mf:"multifamily",valand:"vacantland"};var ie=(e=>(e[e.MOBILE=480]="MOBILE",e[e.TABLET=768]="TABLET",e[e.DESKTOP=1025]="DESKTOP",e[e.EXTRA_LARGE=1201]="EXTRA_LARGE",e))(ie||{});const qn=Object.keys(be).reduce((e,t)=>{const s=be[t];return e[s]=isNaN(Number(t))?t:Number(t),e},{}),Tt=29,Se=5,Bn=window.__flex_g_settings?.boardId||"1",Dn="38",te=Bn===Dn,Bs=window.__flex_g_settings.propertyDetailPermalink||"",Qe=["att","baths","beds","built","cp","days_market","epl","features","for","hide_pending","keyword","kw_att","kw","lookup_previous_sold","lot","polygon_search","polygon","price","rect","size","sort","type","view","wf","zm","zoom","show"],Ds=["gad_source","gad_campaignid","gbraid","gclid"],Vn=["list_mls"],zn=!!window.paramsMapSearch?.params,B=window.idx_collections_settings?.client_type,k=window.idx_collections_settings?.collections_mode,Vs=zn||k==="edit";pe.extend(Na);pe.extend(Ca);function zs(e){return(getComputedStyle(document.documentElement).getPropertyValue(e)||document.body.style.getPropertyValue(e)||"").trim()}function Us(){window.scroll({top:0,behavior:"smooth"})}function ne(e){const t=Object.entries(e).filter(([s,a])=>!(a===void 0||a===""&&!Vn.includes(s)));return Object.fromEntries(t)}function pt(e,t){return e>1?`${t}s`:t}function Hs(e){return e?pe.unix(e).format("MM/DD/YYYY"):""}function Ys({listDate:e,onlyDifference:t,t:s}){if(!e)return;const a=window.idx_main_settings?.board_info?.tz_name||pe.tz.guess(),l=pe.unix(e).tz(a),i=pe.tz(pe(),a).valueOf()-l.valueOf(),c=Math.floor(i/(1e3*60*60*24)),m=Math.floor(i/(1e3*60*60)),u=Math.floor(i/(1e3*60));if(!(c>6)){if(c<1){if(m<1){const r=`${u} ${pt(u,s("minute"))}`;return t?r:`${s("New")} - ${r} ${s("ago")}`}const f=`${m} ${pt(m,s("hour"))}`;return t?f:`${s("New")} - ${f} ${s("ago")}`}if(c>=1&&c<=3){const f=`${c} ${pt(c,"day")}`;return t?f:`${s("New")} - ${f} ${s("ago")}`}if(c>3&&c<=6)return"New Listings"}}function it(e){const t=e/sn;if(t>=.5){const s=Number.isInteger(t)?0:2;return{value:(t.toFixed(s)||0).toLocaleString("en")||0,measurement:t===1?"Acre":"Acres"}}else return{value:(e||0).toLocaleString("en")||0,measurement:"Sq.Ft"}}function ve(e){return e?Intl.NumberFormat("en",{notation:"compact"}).format(Number(e)):"0"}function re(e){let t,s;const a=window.paramsMapSearch?.params,l=e===F.RENT?"rent":"sale",o=a?.[`min_${l}_price`]||void 0,i=a?.[`max_${l}_price`]||void 0,c=window.idx_main_settings?.search_settings,m=c?.price_rent_range||[];m.length&&e===F.RENT&&(t=a?o:`${m[0].value}`,s=a?i:`${m[m.length-1].value}`);const u=c?.price_sale_range||[];return u.length&&e===F.SALE&&(t=a?o:`${u[0].value}`,s=a?i:`${u[u.length-1].value}`),{min_price:t,max_price:s}}function Un(){const e={},t=window.idx_main_settings?.search_settings;if(!t)return e;const s=t.default_rental_type,a=s&&s==="1";s&&(e.for=a?F.RENT:F.SALE);const l=t.default_sort;l&&(e.sort=l);const o=t.idx_listings_type===1,i=t.hide_pending_content_options===1;o&&i&&(e.hide_pending="1");const c=t.property_types;if(c.length){const m=c.filter(({checked:u})=>u).map(({value:u})=>be[u]||u);m.length&&(e.type=m.sort().join(","))}return e}function Hn(){const e={},t=window.paramsMapSearch?.params;if(!t)return e;const s=t.rect;s&&(e.rect=s);const a=t.zm;a&&(e.zm=a);const l=t.polygon_search;l&&(e.polygon=l,e.rect=void 0,e.zm=void 0);const o=t.sale_type,i=o&&o==="1";o&&(e.for=i?F.RENT:F.SALE);const c=t.sort_type;c&&(e.sort=c);const m=t.property_types;if(m.length){const $=m.filter(({checked:j})=>j).map(({value:j})=>be[j]||j);$.length&&(e.type=$.sort().join(","))}const u=t.amenities;u?.length&&(e.features=u.sort().join(","));const f=t.min_beds;f&&(e.min_beds=f);const r=t.max_beds;r&&(e.max_beds=r);const d=t.min_baths;d&&(e.min_baths=d);const h=t.max_baths;h&&(e.max_baths=h);const p=t.min_living_size;p&&(e.min_sqft=p);const v=t.max_living_size;v&&(e.max_sqft=v);const b=t.min_lot_size;b&&(e.min_lotsize=b);const y=t.max_lot_size;y&&(e.max_lotsize=y);const _=t.min_year;_&&(e.min_year=_);const x=t.max_year;x&&(e.max_year=x);const w=t.parking_options;w&&(e.parking=w);const E=t.waterfront_options;E&&(e.wv=E);const C=t.days_on_market;C&&(e.dom_max=C);const L=t.keyword_search;return L&&(e.keyword=L),e}function ge(){const e={},t=window.paramsMapSearch?.params,s={...e,...Un(),...t?Hn():{}};return{...ne(s),isMapFilter:!!t}}function Ft(e=!1){const t=window.__flex_g_settings?.anonymous==="no";if(!e&&!t){console.log("<<LOGIN REQUIRED>>");const s=document.getElementById("modal_login");s&&(s.classList.add("active_modal"),Ls())}return t}function Yn(e,t){const a=window.paramsMapSearch,l=window.__flex_g_settings?.anonymous==="no";if(!l){const o=a&&a.params.is_individual_settings?a.params?.is_force_registration:window.idx_main_settings?.force_registration,i=a&&a.params.is_individual_settings?a.params?.force_registration_forced:window.idx_main_settings?.force_registration_forced;if((o||i)&&e<2){const m=e+1;t(m)}if(!i&&!o||o&&e<2||i&&e<2)return!0;console.log("<<LOGIN REQUIRED>>");const c=document.getElementById("modal_login");return c&&(c.classList.add("active_modal"),Ls()),t(0),o&&!i}return l}function Xe(e){return e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function Ii(e){if(!e||e==="0"||e==="0%")return;const t=parseFloat(`${e}`.replace("%",""));return t?`${parseFloat(t.toString())}%`:void 0}function Zn(e){return!Object.entries(e).length}const Ce=(e,t)=>e.filter(s=>t?.includes("+")||s.value===""||`${s.value}`.includes("+")&&!t||Number(s.value)<=Number(t||1/0)),je=(e,t)=>e.filter(s=>s.value===""||`${s.value}`.includes("+")||Number(s.value)>=Number(t||0));function Pt(e){if(!e)return;e.classList.remove("hovered"),e.classList.remove("selected");const t=e.parentElement?.parentElement;t&&(t.style.zIndex="0")}function Wn(e){if(!e)return;e.classList.add("hovered"),e.classList.add("selected");const t=e.parentElement?.parentElement;t&&(t.style.zIndex="1")}function wt(e){e.classList.remove("left"),e.classList.remove("right"),e.classList.remove("bottom"),e.classList.remove("top")}function Ri(e){const t=e.reduce((s,a)=>{const l=`${a.lat},${a.lng}`;return s[l]||(s[l]=[]),s[l].push(a),s},{});return Object.values(t)}function Jn({property:e,favoriteIcon:t,isFavorite:s,t:a}){const l=!!k,o=e?.bath+(e?.baths_half?.5:0),i=e.mls_status===2,c=i?`${a("Sold on")} ${Hs(e?.date_close)}`:Ys({listDate:e.list_date,t:a}),m=e?.reduced_price!==null&&!isNaN(e?.reduced_price)?e?.reduced_price:0,u=it(e.sqft),f=i?e.price_sold||0:e.price,r=!!e.is_commercial,d=r?e.class_id===Tt?a("Business"):a("Commercial"):"";return`
  <div class="ms-sf-property-card-dody" id="container-${e.mls_num}" title="${a("View Detail of")} ${e.full_address}">
    <div class="ms-sf-property-card-slider">
      <div class="ms-sf-property-card-image">
        <img id="img-${e.mls_num}" src="" style="display:none">
      </div>
      ${c?`<div class="ms-sf-property-card-label">${c}</div>`:""}
      <div class="-float_buttons">
      ${l?"":`<button id="share-${e.mls_num}" class="ms-sf-btn -share_float" data-id="#shareModal" aria-label="Share" type="button">
              <i class="sf-icon-shared"></i>
            </button>`}
      ${i||l?"":`<button id="favorite-${e.mls_num}" class="ms-sf-btn -favorite ${s?"active":""}" aria-label="Favorite" type="button">
                <i class="sf-icon-${t}"></i>
              </button>`}
            </div>
    </div>
    <div class="ms-sf-property-card-info">
      <div class="ms-sf-property-card-price">
        ${Te({amount:f})}
        ${e.is_rental?`<span class="ms-sf-property-card-price-suffix">/${a("month")}</span>`:""}
        ${m?`<span class="ms-sf-property-card-price-status ${m<0?"-down":"-up"}">${Math.abs(m)}%</span>`:""}
      </div>
      <div class="ms-sf-property-card-detail">
        ${r?`<div class="ms-sf-property-card-item">${d}</div>`:`
          <div class="ms-sf-property-card-item">
            <strong>${e.bed||"--"}</strong> ${e.bed===1?a("Bed"):a("Beds")}
          </div>
          <div class="ms-sf-property-card-item">
            <strong>${o||"--"}</strong> ${a(o===1?"Bath":"Baths")}
          </div>
          `}
        <div class="ms-sf-property-card-item">
          <strong>${!u.value||u.value==="0"?"--":u.value}</strong> ${u.measurement}
        </div>
      </div>
      <div class="ms-sf-property-card-address">
        ${e.full_address}
      </div>
    </div>
  </div>
`}function Gn({properties:e,favoriteIcon:t,favoriteCTA:s,shareCTA:a,handleClick:l,isFavorite:o,t:i}){if(!window.google||!window.google.maps)return;const c=document.querySelectorAll(".ms-sf-richmarker"),m=e.length,u=e[0],f=`${u.lat},${u.lng}`,r=u.subdivision||u.complex||"";c.forEach(b=>{b.id!==f&&(wt(b),Pt(b))});const d=document.getElementById(f);if(!d)return;const h=document.getElementById("property-info-box");if(Wn(d),h.getAttribute("data-position")===f)return;Et(!0),h.innerHTML=`
  <div class="ms-sf-info-box">
    <div class="ms-sf-wrapper-info-box -multiple">
      <div class="ms-sf-info-box-header">
        ${r?`<div class="ms-sf-address">
                <span class="ms-sf-ellipsis">${r}</span>
              </div>`:""}
        ${m>1?`<div class="ms-sf-units ${u.complex?"-separator":""}">
                <i class="sf-icon-properties-listings"></i>
                <span><strong>${m}</strong> ${i("Units")}</span>
              </div>`:""}
        <button id="close-button" aria-label="Close infobox" class="sf-icon-close"></button>
      </div>
      <div class="ms-sf-info-box-body">
        <div class="ms-sf-property-card">
          <div class="ms-sf-info-box-body">
            ${e.map(b=>`
                  <div class="ms-sf-property-card">
                    ${Jn({property:b,favoriteIcon:t,isFavorite:o,t:i})}
                  </div>
                `).join("")}
          </div>
        </div>
      </div>
    </div>
  </div>
`,h.setAttribute("data-position",f);const p=h.querySelector("#close-button");p&&p.addEventListener("click",()=>Zs(f)),e.forEach(b=>{const y=document.getElementById(`container-${b.mls_num}`);y&&y.addEventListener("click",()=>l?.(b));const _=document.getElementById(`favorite-${b.mls_num}`);_&&_.addEventListener("click",C=>{C.stopPropagation(),Ft()&&s(b.mls_num)});const x=document.getElementById(`share-${b.mls_num}`);x&&x.addEventListener("click",C=>{C.stopPropagation(),a?.(b)});const w=document.getElementById(`img-${b.mls_num}`),E=new Image;E.src=b.thumbnail_url||"",E.onload=()=>{w.src=b.thumbnail_url||"",w.alt=b.full_address,w.style.display="block"},E.onerror=()=>{w.src=At,w.style.display="block"}});const v=document.getElementById("property-info-box");ja(d,v,{middleware:[ka({boundary:document.getElementById("map")}),Aa({padding:8,boundary:document.getElementById("map")}),Ea({mainAxis:15,crossAxis:0})]}).then(({x:b,y,placement:_})=>{wt(d),d.classList.add(_);const x={left:0,right:0,top:4,bottom:-4};Object.assign(v.style,{top:`${y+x[_]}px`,left:`${b}px`})})}function Zs(e){if(!window.google||!window.google.maps)return;const t=document.getElementById(e),s=document.getElementById("property-info-box");if(s&&s.getAttribute("data-position")===e){Et(!1),wt(t),Pt(t),s.innerHTML="",s.removeAttribute("data-position");return}}function qi(){if(!window.google||!window.google.maps)return;const e=document.querySelector(".ms-sf-richmarker.selected");e&&Pt(e),Et(!1);const t=document.getElementById("property-info-box");t&&(t.innerHTML="",t.removeAttribute("data-position"))}const Ws=async(e,t)=>{const s=window.__flex_g_settings?.boardId||"1";return await(await fetch(`${oe.AUTOCOMPLETE}?board=${s}${t?`&scopes=${t}`:""}&term=${e}`)).json()},Kn=async e=>{if(typeof e>"u")return[];const s=JSON.parse(e).filter(({key:c})=>c==="city"||c==="district"||c==="zip").map(({label:c,key:m})=>Ws(c,m)),a=await Promise.all(s).then(c=>c.filter(m=>m[0].klm).map(m=>m[0].klm)),l=a.filter(c=>(c?.length||0)===1).map(c=>c?.[0]?.map(([m,u])=>({lat:Number(m),lng:Number(u)}))),o=a.filter(c=>(c?.length||0)>1).map(c=>c?.map(m=>m.map(([u,f])=>({lat:Number(u),lng:Number(f)}))));return[...l,...o.flat(1)]};let ht=null,He=null;const Qn=4;let et=0;const Js=[];function Xn(){let e=document.getElementById("ms-toast-host");return e||(e=document.createElement("div"),e.id="ms-toast-host",document.body.appendChild(e)),e}async function Ot(){if(He)return He;const e=Xn(),{Toast:t}=await J(()=>import("./toast.esm-BB62kO8l.js"),__vite__mapDeps([0,1,2]),import.meta.url);return new Promise(s=>{const a=()=>{et=Math.max(0,et-1);const o=Js.shift();o&&Gs(o)},l=()=>{const o=g.useRef(null);return g.useEffect(()=>{const i={show:c=>o.current?.show(c),clear:()=>o.current?.clear()};He=i,s(i)},[]),n.jsx(t,{ref:o,className:"ms-toast",position:"top-right",onRemove:a})};ht||(ht=Ma(e)),ht.render(n.jsx(l,{}))})}function el(e,t,s){const a={success:"sf-icon-checkmark",error:"sf-icon-close-circle",info:"sf-icon-info",warn:"sf-icon-warning"};return n.jsxs("div",{className:`ms-toast-card ms-${e}`,children:[n.jsx("i",{className:`ms-toast-icon ${a[e]}`}),n.jsxs("div",{className:"ms-toast-texts",children:[s&&n.jsx("div",{className:"ms-toast-summary",children:s}),n.jsx("div",{className:"ms-toast-detail",children:t})]}),n.jsx("button",{type:"button",className:"ms-toast-close","aria-label":"Close",onClick:()=>He?.clear(),children:n.jsx("i",{className:"sf-icon-close"})})]})}async function Gs({severity:e,detail:t,summary:s,life:a}){const l=await Ot();et++,l.show({life:a??3500,closable:!1,contentStyle:{justifyContent:"end"},content:el(e,t,s)})}async function De(e){if(await Ot(),et>=Qn){Js.push(e);return}Gs(e)}const le={success:(e,t="Success",s)=>De({severity:"success",detail:e,summary:t,life:s}),error:(e,t="Error",s)=>De({severity:"error",detail:e,summary:t,life:s}),info:(e,t="Info",s)=>De({severity:"info",detail:e,summary:t,life:s}),warn:(e,t="Warning",s)=>De({severity:"warn",detail:e,summary:t,life:s}),clearAll:async()=>(await Ot()).clear()},bt=new Map;function Ae(e,t){if(bt.has(e))return bt.get(e);const s=t();return bt.set(e,s),s}function tl(){return Ae("google-maps",async()=>{const e=window?.idx_main_settings?.agent_info?.google_maps_api_key,{Loader:t}=await J(()=>import("./gmaps-BDODJA70.js").then(a=>a.i),__vite__mapDeps([]),import.meta.url);return new t({apiKey:e,version:"weekly"}).load()})}async function Bi(){const e=await J(()=>import("./gmaps-BDODJA70.js").then(t=>t.a),__vite__mapDeps([]),import.meta.url);return{MarkerClusterer:e.MarkerClusterer,SuperClusterAlgorithm:e.SuperClusterAlgorithm}}async function Di(){const[{default:e},t,{default:s},{default:a}]=await Promise.all([J(()=>import("./index-XfXG2y6h.js"),__vite__mapDeps([3,4,5]),import.meta.url),J(()=>import("./index-ByNvCHXr.js"),__vite__mapDeps([]),import.meta.url),J(()=>import("./index-zIwQ1xhS.js"),__vite__mapDeps([6,4,7]),import.meta.url),J(()=>import("./index-BPOfsWe-.js"),__vite__mapDeps([8,7,4,5]),import.meta.url)]),{multiPoint:l,polygon:o,featureCollection:i}=t,c=u=>{if(u.length===0)return u;const[f,r]=u[0],[d,h]=u[u.length-1];return f!==d||r!==h?[...u,[f,r]]:u};return{cleanCoords:e,multiPoint:l,polygon:o,featureCollection:i,union:s,unkink:u=>{const f=c(u.map(d=>[d.lng(),d.lat()])),r=o([f]);return a(r)}}}function sl(){return Ae("carousel",async()=>{const e=await J(()=>import("./index-NVElIVEC.js").then(t=>t.i),__vite__mapDeps([9,2,1]),import.meta.url);return await J(()=>Promise.resolve({}),__vite__mapDeps([10]),import.meta.url),{default:e.Carousel}})}function Ks(){return Ae("prime-tabmenu",async()=>({default:(await J(()=>import("./tabmenu.esm-DeWSVEjs.js"),__vite__mapDeps([11,1,2]),import.meta.url)).TabMenu}))}function al(){Ks()}function Qs(){return Ae("prime-chips",async()=>({default:(await J(()=>import("./chips.esm-DCP3YKQE.js"),__vite__mapDeps([12,1,2]),import.meta.url)).Chips}))}function nl(){Qs()}function ll(){return Ae("prime-divider",async()=>({default:(await J(()=>import("./divider.esm-DavQwZZM.js"),__vite__mapDeps([13,1,2]),import.meta.url)).Divider}))}function Xs(){return Ae("prime-inputnumber",async()=>({default:(await J(()=>import("./inputnumber.esm-CAKCeCf2.js"),__vite__mapDeps([14,1,2]),import.meta.url)).InputNumber}))}function ol(){Xs()}function il(e){const t=window?.idx_main_settings?.agent_info?.google_maps_api_key;if(!t)return;const s=640,a=360,l=Math.min(640,Math.max(200,Math.floor(s))),o=Math.min(640,Math.max(200,Math.floor(a)));if(e)return`https://maps.googleapis.com/maps/api/staticmap?center=${e?.lat},${e?.lng}&zoom=${(e?.zoom||11)-1}&size=${l}x${o}&scale=2&maptype=roadmap&key=${encodeURIComponent(t)}`}function rl(){try{const e=navigator&&navigator.userAgent?navigator.userAgent:"",t=[/gtmetrix/i,/lighthouse/i,/chrome-lighthouse/i,/google\s*page\s*speed/i,/pagespeed/i,/headlesschrome/i,/puppeteer/i,/webpagetest|PTST/i,/speedcurve/i,/pingdom/i];return new URLSearchParams(location.search).get("perf")==="1"||window.__perf_test===!0||t.some(l=>l.test(e))||typeof navigator<"u"&&navigator.webdriver===!0}catch{return!1}}function ea({value:e,onlyReturn:t=!1,isAiActive:s=!1,handleUpdateAiFilters:a,aiFilters:l,handleUpdateRegularFilters:o,regularFilters:i,priceRentRangeOptions:c,priceSaleRangeOptions:m,handleDefaultMainSettings:u}){let f,r="",d="",h;e===F.SOLD&&(f=ot[0].value,h=i?.status?`${i.status},2`:"2"),e!==F.SOLD&&i?.status&&(h=i.status.split(",").filter(v=>v!=="2").join(",")),e===F.RENT&&(r=`${c[0].value}`,d=`${c[c.length-1].value}`),e===F.SALE&&(r=`${m[0].value}`,d=`${m[m.length-1].value}`);const p={for:e,lookup_previous_sold:f,min_price:r,max_price:d,status:h};if(t)return p;if(u?.({min_price:r,max_price:d}),s&&l?.for){a?.(p);return}o?.(p)}const ke=e=>{const t={},s=(a,l,o)=>{if(!a)return;const[i,c]=a.split("-");i&&l&&(t[l]=i),c&&o&&(t[o]=c)};for(const a in e){const l=e[a];if(!Ds.includes(a))switch(a){case"for":{let o=l;l==="rent"&&(o=F.RENT),l===F.SOLD&&(t.lookup_previous_sold=ot[0].value),t.for=o;break}case"price":s(l,"min_price","max_price");break;case"lot":s(l,"min_lotsize","max_lotsize");break;case"size":s(l,"min_sqft","max_sqft");break;case"beds":s(l,"min_beds","max_beds");break;case"baths":s(l,"min_baths","max_baths");break;case"built":s(l,"min_year","max_year");break;case"days_market":s(l,"","dom_max");break;case"cp":t.page=`${Number(l||0)+1}`;break;case"polygon_search":t.polygon=l;break;case"zoom":t.zm=l;break;case"type":{const i=l?.replace(/\bhouse\b/g,"homes")?.replace(/\bcondo\b/g,"condos")?.split(",").sort().join(",");t.type=i;break}case"att":{const o=l?.split(",").sort().join(",");t.features=o;break}case"wf":{t.wv=l;break}case"epl":{t.hide_pending=l==="yes"?"1":"0";break}case"kw_att":{const o=l?.split(",").slice(0,Se).join(",");t.keyword=o;break}case"keyword":{if(l){const[o,i]=l.split("_"),c=JSON.stringify([{label:o,key:i||"default"}]);t.keyword_main=c}break}case"kw":{if(l){const o=atob(l.replace(/-/g,"+").replace(/_/g,"/"));t.keyword_main=o}break}case"lookup_previous_sold":{const o=l?.split("-"),i={type:o?.[0],value:Number(o?.[1])};t.lookup_previous_sold=JSON.stringify(i);break}default:t[a]=l;break}}if(!t.type){const a=window.paramsMapSearch?.params,l=window.idx_main_settings?.search_settings,i=((a?a?.property_types:l?.property_types)||[]).filter(({checked:c})=>c).map(({value:c})=>be[c]||c).sort().join(",");t.type=i}return t},cl=(e,t)=>{const s=[],a=qs.filter(o=>o in e||o in t),l={};for(const o of a){const i=In.find(c=>c.includes(o));i?l[i.join()]||(e[i[0]]!==t[i[0]]||e[i[1]]!==t[i[1]])&&(s.push(i.join()),l[i.join()]=!0):e[o]!==t[o]&&s.push(o)}return s},It=e=>{const t={};for(const s in e){const a=e[s];switch(s){case"type":{if(a){const l=a.split(",").map(o=>qn[o]);t.property_type=l}break}case"for":{a===F.SALE&&(t.sale_type="0"),a===F.RENT&&(t.sale_type="1");break}case"min_price":{let l="_";e.for===F.SALE&&(l="_sale_"),e.for===F.RENT&&(l="_rent_"),t[`min${l}price`]=a;break}case"max_price":{let l="_";e.for===F.SALE&&(l="_sale_"),e.for===F.RENT&&(l="_rent_"),t[`max${l}price`]=a;break}case"page":{a&&(t.currentpage=Number(a));break}case"min_sqft":{a&&(t.min_living_size=a);break}case"max_sqft":{a&&(t.max_living_size=a);break}case"min_lotsize":{a&&(t.min_lot_size=a);break}case"max_lotsize":{a&&(t.max_lot_size=a);break}case"wv":{a&&(t.waterfront_options=a);break}case"parking":{a&&(t.parking_options=a);break}case"sort":{a&&(t.sort_type=a);break}case"hide_pending":{a&&(t.overwrite_show_hide_pending=a==="1"?"yes":"no");break}case"features":{if(a){const l=a.split(",");t.amenities=l}break}case"polygon":{a&&(t.polygon_search=a);break}default:t[s]=a;break}}return t};async function ul(e){const t=window.idx_main_settings?.search_settings,s=window.paramsMapSearch?.params,a={},l=(o,i,c)=>{if(!o||!o.length)return;const[m,u]=o;m!==void 0&&(a[i]=`${m}`),u!==void 0&&(a[c]=`${u}`)};for(const o of Object.keys(e)){const i=e[o];switch(o){case"property_type":{if(Array.isArray(i)&&i.length){const c=s?.property_types?.length?s.property_types:t?.property_types;if(c?.length){const m=i.filter(u=>c.some(f=>(be[f.value]||f.value)===u));a.type=m.sort().join(",")}}break}case"building_name":case"city":{if(i){const c=o==="city"?"city":void 0,u=(await Ws(`${i}`,c))?.[0],f=JSON.stringify([{label:u?.label||i,key:u?.type||"default",relation:u.state||void 0}]);a.keyword_main=f,a.rect=void 0,a.zm=void 0}break}case"price":{l(i,"min_price","max_price");break}case"rental_type":{if(i){const c=t?.price_rent_range||[],m=t?.price_sale_range||[],u=ea({value:`${i}`,onlyReturn:!0,priceRentRangeOptions:c,priceSaleRangeOptions:m});a.for=`${i}`,!a?.min_price&&!a?.max_price&&(a.min_price=u?.min_price,a.max_price=u?.max_price),a.status=u?.status,a.lookup_previous_sold=u?.lookup_previous_sold}break}case"year":{l(i,"min_year","max_year");break}case"bed":{l(i,"min_beds","max_beds");break}case"bath":{l(i,"min_baths","max_baths");break}case"land_size":{l(i,"min_lotsize","max_lotsize");break}case"living_size":{l(i,"min_sqft","max_sqft");break}case"features":{if(i&&Array.isArray(i)&&i.length){const c=i.filter(m=>Lt.some(u=>u.value===m));c.length&&(a.features=c.sort().join(","))}break}case"waterfront":{i&&$t.some(m=>m.value===i)&&(a.wv=`${i}`);break}case"parking":{if(i!==void 0){const c=$e[$e.length-1],u=$e.slice(1).map(f=>f.value).includes(`${i}`)?i:Number(c.value);a.parking=`${u}`}break}case"days_on_market":{l(i,"","dom_max");break}}}return a}function dl(e){const t=[];for(const s in e){const a=e[s];switch(s){case"for":{const l={label:a===F.SOLD?"Sold":`For ${a}`,key:s,value:a};t.push(l);break}case"type":{a?.split(",").sort()?.forEach(o=>{const c={label:Is.find(m=>m.value===o)?.label,key:s,value:o};t.push(c)});break}case"features":{a?.split(",").sort()?.forEach(o=>{const c={label:Lt.find(m=>m.value===o)?.label,key:s,value:o};t.push(c)});break}case"keyword_main":{const l=JSON.parse(a||"[]"),o=l[0].label,c={label:`${Xe(l[0].key)}: ${o}`,key:s,value:o};t.push(c);break}case"min_price":{const l={label:`From $${ve(a)}`,key:s,value:a};t.push(l);break}case"max_price":{const l={label:`To $${ve(a)}`,key:s,value:a};t.push(l);break}case"min_beds":{const l={label:`From ${a} Beds`,key:s,value:a};t.push(l);break}case"max_beds":{const l={label:`To ${a} Beds`,key:s,value:a};t.push(l);break}case"min_baths":{const l={label:`From ${a} Baths`,key:s,value:a};t.push(l);break}case"max_baths":{const l={label:`To ${a} Baths`,key:s,value:a};t.push(l);break}case"parking":{const l={label:`${a} Garage Spaces`,key:s,value:a};t.push(l);break}case"min_sqft":{const l={label:`From ${a} Sq.Ft`,key:s,value:a};t.push(l);break}case"max_sqft":{const l={label:`To ${a} Sq.Ft`,key:s,value:a};t.push(l);break}case"min_lotsize":{const l={label:`From ${a} Lot Size`,key:s,value:a};t.push(l);break}case"max_lotsize":{const l={label:`To ${a} Lot Size`,key:s,value:a};t.push(l);break}case"min_year":{const l={label:`From ${a} Year`,key:s,value:a};t.push(l);break}case"max_year":{const l={label:`To ${a} Year`,key:s,value:a};t.push(l);break}case"wv":{const o={label:`${$t.find(i=>i.value===a)?.label}`,key:s,value:a};t.push(o);break}case"dom_max":{const l={label:`${a} Days on Market`,key:s,value:a};t.push(l);break}}}return t}function Ee(){return new URLSearchParams(window.location.search)}function ml(e,t){if(e.toString()===t.toString())return!0;if(e.size!==t.size)return!1;for(const[s,a]of e.entries())if(t.get(s)!==a)return!1;return!0}function rt(e){const t=Ee(),s=new URLSearchParams;for(const[o,i]of t.entries())Qe.includes(o)||s.set(o,i);for(const[o,i]of e.entries())Qe.includes(o)&&s.set(o,i);const a=s.toString(),l=a?`?${a}`:window.location.pathname;ml(t,s)?window.history.replaceState(null,"",l):window.history.pushState(null,"",l)}function fl(e){const t=Ee();t.delete(e),rt(t)}function pl(e,t){const s=Ee();s.getAll(e).length&&s.delete(e),s.append(e,t),rt(s)}function tt(e){return Ee().get(e)}function hl(e){window.history.replaceState(null,"",e)}function Rt(e){let t=0;for(const s of e.keys())Qe.includes(s)&&!(s==="view"||s==="show")&&t++;return t}function ta(e){const t=["price","min_price","max_price"];for(const s of e.keys())if(t.includes(s))return!0;return!1}function me(){if(!k)return;const t=new URL(window.location.href).pathname.split("/").filter(Boolean);return t[t.length-1]||""}function sa(){const e=window.idx_collections_settings?.collections_path||"collections",t=e.startsWith("/")?e:`/${e}`;return`${window.location.origin}${t}`}function aa(e){const t=new URLSearchParams(window.location.search);e.forEach(a=>{t.delete(a)});const s=t.toString();return s?`?${s}`:""}function bl(e,t){const{baseDefaults:s,extraDefaults:a={}}=t;if(window.idx_main_settings?.skip_clean_defaults)return new URLSearchParams(e);const l=new URLSearchParams,o=ke(Object.fromEntries(e.entries())),i={...s,...a};for(const[c,m]of e.entries()){if(!Qe.includes(c)){l.set(c,m);continue}const u=ke({[c]:m});c!=="type"&&delete u.type,Object.keys(u).some(d=>{const h=o[d],p=i[d];return h!==p})&&l.set(c,m)}return l}function vl(){const e=new URLSearchParams(window.location.search),t=["formLogin","formRegister"],s=[];for(const a of Ds){const l=e.get(a);l&&s.push(`${a}=${l}`)}if(s.length)for(const a of t){const l=document.getElementById(a);if(!l)continue;const o=l.querySelector(`#${a}_ib_tags`);if(o){const i=o.getAttribute("value")?.trim()||"",c=i?`${i},${s.join(",")}`:s.join(",");o.setAttribute("value",c)}}}var qt=(e=>(e.AutomaticallyShare="automatically_share",e.ReviewNewListing="review_new_listing",e))(qt||{}),M=(e=>(e.Unshared="unshared",e.Shared="shared",e.Trash="trash",e.Matches="matches",e.Favorites="favorites",e.NotInterested="not_interested",e))(M||{}),de=(e=>(e.All="all",e.Favorites="favorites",e.Comments="comments",e.NotInterested="not_interested",e.TourRequested="tour_requested",e))(de||{}),Fe=(e=>(e.Lead="lead",e.Broker="broker",e))(Fe||{});const we={toFavorites:{iconClass:"sf-icon-star-active",labelSingle:"Favorite",labelBulk:e=>`Favorites (${e})`,dest:M.Favorites},toNotInterested:{iconClass:"sf-icon-eye-blocked",labelSingle:"Not Interested",labelBulk:e=>`Not Interested (${e})`,dest:M.NotInterested},toMatches:{iconClass:"sf-icon-eye",labelSingle:"Matches",labelBulk:e=>`Matches (${e})`,dest:M.Matches},toggleTourRequest:{iconClass:"",labelSingle:e=>e?.isTourRequested?"Cancel request":"Request a Tour"},toShared:{iconClass:"sf-icon-shared",labelSingle:"Share",labelBulk:e=>`Share with Client (${e})`,dest:M.Shared},toTrash:{iconClass:"sf-icon-trash",labelSingle:"Trash",labelBulk:e=>`Trash (${e})`,dest:M.Trash,hideWhenTrash:!0},comment:{iconClass:"sf-icon-comment-active",labelSingle:"Comment",labelBulk:e=>`Comment (${e})`},toUnshared:{iconClass:"sf-icon-trash",labelSingle:"Recover",labelBulk:e=>`Recover (${e})`,dest:M.Unshared}},gl={lead:{ALL:["toggleTourRequest","comment"]},broker:{[M.Unshared]:["toShared","toTrash"],[M.Shared]:["comment","toTrash"],[M.Trash]:["comment","toUnshared"]}},na=e=>{if(!e)return[];const s=gl[B]||{};return s[e]??s.ALL??[]},Ne=e=>!!e&&typeof e=="object"&&!Array.isArray(e);function la({slug:e,dispatch:t}){const s=new URLSearchParams(e||""),a=tt("show");a&&s.set("show",a),rt(s),t(Tl(e||""))}function _l(e,t=4){const s=[];for(let a=0;a<e.length&&s.length<t;a++){const l=e[a]?.thumbnail_url;l&&s.push(l)}return s}function yl(e){return B==="lead"?M.Matches:e===qt.AutomaticallyShare?M.Shared:M.Unshared}const xl=[{label:"Matches",code:M.Matches},{label:"Favorites",code:M.Favorites},{label:"Not Interested",code:M.NotInterested}],Sl=[{label:"Unshared",code:M.Unshared},{label:"Shared",code:M.Shared},{label:"Trash",code:M.Trash}],wl=(e,t)=>{let s=e===Fe.Broker?Sl:xl;return e===Fe.Broker&&t===qt.AutomaticallyShare&&(s=s.filter(a=>a.code!==M.Unshared)),s},Bt=Ee(),Nt=Object.fromEntries(Bt.entries()),{view:Nl,show:Vi,...Cl}=ke(Nt),{isMapFilter:jl,...st}=ge(),cs={...st,...Cl},kl=!Rt(Bt),us=ta(Bt),Ve=jl?{...kl?st:cs}:cs,ze=k==="edit",Al={viewOption:Nl,filters:ze?{}:ne({...Ve,...us?{}:re(Ve.for)}),tempFilters:{},loading:!0,count:0,query:{},params:{},searchRunning:!1,isFirstCenter:ze?!1:!!Ve.keyword_main&&!Nt.rect&&!Nt.zm,searchIsReset:!1,defaultMainSettings:st,favorites:{},defaultLocation:{},baseInitialFilters:ze?{}:ne({...st,...us?{}:re(Ve.for)}),awaitingBootstrapFromSlug:ze},oa=nt({name:"data",initialState:Al,reducers:{setViewOption:(e,{payload:t})=>{t!==Oe()?pl("view",t):fl("view"),e.viewOption=t},setFilters:(e,{payload:t})=>{e.filters=ne(t)},setDefaultLocation:(e,{payload:t})=>{e.defaultLocation=t},setDefaultCenterCoords:(e,{payload:t})=>{e.defaultCoords=t},setTempFilters:(e,{payload:t})=>{e.tempFilters=t},updateFilters:(e,{payload:t})=>{const{meta:s,...a}=t,l=s?.isPaginationUpdate,o=ne({...e.filters,...a,page:l?a.page:"1"}),i=({page:f,...r})=>r,c=i(e.filters),m=i(o);(JSON.stringify(c)!==JSON.stringify(m)||l)&&(e.filters=o)},updateTempFilters:(e,{payload:t})=>{const s=ne({...e.tempFilters,...t});e.tempFilters=s},setLoading:(e,{payload:t})=>{e.loading=t},updateCount:(e,{payload:t})=>{e.count=t},updateQuery:(e,{payload:t})=>{e.query=t},updateParams:(e,{payload:t})=>{e.params=t},setIsSearchRunning:(e,{payload:t})=>{e.searchRunning=t},setIsFirstCenter:(e,{payload:t})=>{e.isFirstCenter=t},setSearchIsReset:(e,{payload:t})=>{e.searchIsReset=t},setDefaultMainSettings:(e,{payload:t})=>{e.defaultMainSettings=t},updateDefaultMainSettings:(e,{payload:t})=>{e.defaultMainSettings=ne({...e.defaultMainSettings,...t})},setFavorites:(e,{payload:t})=>{e.favorites=t},updateFavorites:(e,{payload:t})=>{e.favorites=ne({...e.favorites,...t})},setAiFilters:(e,{payload:t})=>{e.aiFilters=t},updateAiFilters:(e,{payload:t})=>{const s=ne({...e.aiFilters,...t});e.aiFilters=s},bootstrapFromSlug:(e,{payload:t})=>{const s=new URLSearchParams(t||""),a=Object.fromEntries(s.entries()),{view:l,show:o,...i}=ke(a),{isMapFilter:c,...m}=ge(),u={...m,...i},f=!Rt(s),r=ta(s),d={...c?{...f?m:u}:u,list_mls:e.filters.list_mls},h=ne({...d,...r?{}:re(d.for)});e.viewOption=l||Oe(),e.filters=h,e.baseInitialFilters=ne({...m,...r?{}:re(d.for)}),e.isFirstCenter=!!d.keyword_main&&!a.rect&&!a.zm,e.awaitingBootstrapFromSlug=!1},setThumbnails:(e,{payload:t})=>{e.thumbnails=t}}}),{setViewOption:Dt,setFilters:Pe,setTempFilters:ia,setDefaultLocation:ra,updateFilters:T,updateTempFilters:ca,setLoading:El,updateCount:ua,updateQuery:da,updateParams:Ml,setIsSearchRunning:Vt,setIsFirstCenter:zi,setSearchIsReset:he,setDefaultMainSettings:ma,updateDefaultMainSettings:Ll,setFavorites:$l,updateFavorites:zt,setAiFilters:at,updateAiFilters:z,bootstrapFromSlug:Tl,setThumbnails:Fl,setDefaultCenterCoords:Pl}=oa.actions,Ol=e=>e.data,Il=oa.reducer,Rl={polygons:[],freeHandPolygons:{initial:!1,data:[]},drawing:!1,tempPolyons:[],polygonVisibility:!0},fa=nt({name:"map",initialState:Rl,reducers:{setMap:(e,{payload:t})=>{e.map=t},setPolygons:(e,{payload:t})=>{e.polygons=t},addPolygon:(e,t)=>{e.polygons.push(t.payload)},clearPolygons:e=>{e.polygons=[]},setPolygonVisibility:(e,{payload:t})=>{e.polygonVisibility=t},setFreeHandPolygons:(e,{payload:t})=>{e.freeHandPolygons=t},addFreeHandPolygons:(e,t)=>{e.freeHandPolygons.data.push(t.payload),e.freeHandPolygons.initial=!1},clearFreeHandPolygons:e=>{e.freeHandPolygons.data=[],e.freeHandPolygons.initial=!1},setTempPolygons:(e,{payload:t})=>{e.tempPolyons=t},addTempPolygon:(e,t)=>{e.tempPolyons.push(t.payload)},clearTempPolygons:e=>{e.tempPolyons=[]},setMarkerClusterer:(e,{payload:t})=>{e.markerClusterer=t},setDrawing:(e,{payload:t})=>{e.drawing=t}}}),{setMap:Ui,setPolygons:Hi,addPolygon:ql,clearPolygons:Bl,setPolygonVisibility:Ct,setFreeHandPolygons:Dl,addFreeHandPolygons:Vl,clearFreeHandPolygons:zl,setTempPolygons:Yi,addTempPolygon:Zi,clearTempPolygons:Wi,setDrawing:ds,setMarkerClusterer:Ji}=fa.actions,Ul=e=>e.map,Hl=fa.reducer,Yl={editingCriteria:!1,selectedSubcategoryId:de.All,commentsCounts:{}},pa=nt({name:"collection",initialState:Yl,reducers:{updateEditCategoryId:(e,{payload:t})=>{e.selectedEditCategoryId=t},updateEditingCriteria:(e,{payload:t})=>{e.editingCriteria=t},updateSubcategoryId:(e,{payload:t})=>{e.selectedSubcategoryId=t},setCommentsCount:(e,{payload:t})=>{e.commentsCounts=t}}}),{updateEditCategoryId:ms,updateEditingCriteria:vt,updateSubcategoryId:ha,setCommentsCount:Zl}=pa.actions,Wl=e=>e.collection,Jl=pa.reducer,H=()=>lt(xn),R=()=>lt(Ol),_e=()=>lt(Ul),ce=()=>lt(Wl),ye=()=>{const e=O(),[t,s]=g.useState(""),{freeHandPolygons:a}=_e(),{loading:l}=R(),o=g.useRef(null);g.useEffect(()=>{const r=zs("--ibc--idx-primary-color");s(r)},[]),g.useEffect(()=>{if(a.data.length&&!a.initial&&!l){const r=a.data.map(d=>kn(d)).join(",");e(T({polygon:r,rect:void 0,zm:void 0,keyword_main:void 0}))}},[a,e,l]);const i=g.useCallback((r,d)=>{const h=d.getZoom()||15,p=Mt(r),v=$n(h),b=Ln(p,v);return new google.maps.Polygon({map:d,paths:b,strokeColor:t,strokeOpacity:.8,strokeWeight:2,fillColor:t,fillOpacity:.2,clickable:!1})},[t]),c=r=>{const d=v=>v.preventDefault();document.body.addEventListener("touchmove",d,{passive:!1});let h=new google.maps.Polyline({map:r,clickable:!1,strokeColor:t,strokeOpacity:.8,strokeWeight:2});const p=google.maps.event.addListener(r,"mousemove",function(v){h.getPath().push(v.latLng)});google.maps.event.addListenerOnce(r,"mouseup",function(){google.maps.event.removeListener(p);const v=h.getPath(),b=v.getLength()>1;b&&(h.setMap(null),h=i(v,r),e(Vl(h))),google.maps.event.clearListeners(r.getDiv(),"mousedown"),google.maps.event.clearListeners(r.getDiv(),"touchstart"),f(r,!b),document.body.removeEventListener("touchmove",d),Ms("off")})},m=g.useCallback(r=>{if(a.data.forEach(d=>{d.setMap(null)}),e(zl()),r){const d=r.getCenter()?.lat()||0,h=r.getCenter()?.lng()||0,p=`${r.getZoom()||11}`,v=Ps({lat:d,lng:h},Number(p));e(T({rect:v,zm:p}))}e(T({polygon:void 0,keyword_main:void 0}))},[a,e]),u=r=>{e(ds(!0)),r.setOptions({draggable:!1}),Jt(),e(Ct(!1));const d=new MutationObserver(()=>Jt());d.observe(document.body,{childList:!0,subtree:!0}),o.current=d},f=(r,d)=>{e(ds(!1)),r.setOptions({draggable:!0}),o.current&&o.current.disconnect(),d&&(e(Ct(!0)),console.log("show markers..."),Nn())};return{draw:c,paint:i,disable:u,enable:f,clear:m}},Gl=()=>{const e=O(),{polygons:t,polygonVisibility:s}=_e(),[a,l]=g.useState("");g.useEffect(()=>{t.forEach(c=>c.setVisible(s))},[t,s]),g.useEffect(()=>{const c=zs("--ibc--idx-primary-color");l(c)},[]);const o=(c,...m)=>{c&&m.forEach(u=>{const f=new google.maps.Polygon({paths:u,strokeColor:a,strokeOpacity:.8,strokeWeight:2,fillColor:a,fillOpacity:.2});e(ql(f)),f.setMap(c)})},i=g.useCallback(()=>{t.forEach(c=>{c.setMap(null)}),e(Bl()),e(Ct(!0))},[t,e]);return{draw:o,clear:i}},jt="ib_lead_token",Ye=Ie({reducerPath:"activitiesApi",baseQuery:Re({baseUrl:""}),refetchOnMountOrArgChange:!0,endpoints:e=>({fetchActivities:e.mutation({query:t=>{const s={board_id:window.__flex_g_settings?.boardId||"1",access_token:window.idx_main_settings?.access_token||"",flex_credentials:xt.get(jt)||"",paging:t};return{url:`${oe.IDXBOOST}/leads/fetch_activities`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(s)}}}),trackFavoriteProperty:e.mutation({query:t=>{const s={board_id:window.__flex_g_settings?.boardId||"1",access_token:window.idx_main_settings?.access_token||"",flex_credentials:xt.get(jt)||"",url_origin:window.origin,user_agent:navigator.userAgent,veral:"2"};return{url:`${oe.IDXBOOST}/listings/${t}/track`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(s)}},onQueryStarted:async(t,{dispatch:s,queryFulfilled:a})=>{try{const{data:l}=await a,{success:o,type:i}=l;o&&(s(zt({[t]:i==="add"?{mls_num:t}:void 0})),wn("saved_listings"))}catch(l){console.error("Tracking favorite property failed",l)}}}),getDefaultLocation:e.mutation({query:()=>{const t={access_token:window.idx_main_settings?.access_token||""};return{url:`${oe.IDXBOOST}/account/location_coords`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(t)}},onQueryStarted:async(t,{dispatch:s,queryFulfilled:a,getState:l})=>{try{const{data:o}=await a,{status:i,message:c}=o;if(i&&typeof c=="object"){const{boundaries:m,zoom:u,coords:f}=c,r={rect:m,zm:`${u}`},h=l().data.filters;!h.rect&&!h.polygon&&!h.keyword_main&&s(T(r)),s(ra(r)),s(ca(r)),s(Pl({...f,zoom:u}))}}catch(o){console.error("Getting default location failed",o)}}})})}),{useFetchActivitiesMutation:Kl,useTrackFavoritePropertyMutation:ba,useGetDefaultLocationMutation:Ql}=Ye,Oe=()=>{const e=window.idx_main_settings?.search_settings?.default_view;if(window.innerWidth<768||k)return k==="new"?"map":"grid";if(e)return e==="nmap"?"map":e},Xl=()=>{const e=O(),{moreFilterOpen:t,aiFilterOpen:s}=H(),{filters:a,searchIsReset:l,awaitingBootstrapFromSlug:o}=R(),i=k!=="edit"||!o,[c]=Ql(),{map:m,freeHandPolygons:u}=_e(),{paint:f}=ye();g.useEffect(()=>{const r=document.querySelector("body"),d="open";r&&(t||s?r.classList.contains(d)||r.classList.add(d):r.classList.contains(d)&&r.classList.remove(d))},[t,s]),g.useEffect(()=>{const r=document.querySelector("footer");if(r&&r.style.setProperty("display","none","important"),B!=="broker")return;const d=document.querySelector(".rs-sidebar");d&&d.style.setProperty("display","none","important");const h=document.querySelector(".rs-content-wrapper");h&&(h.style.marginLeft="0px")},[]),g.useEffect(()=>{if(m&&a.polygon&&!u.data.length){const d=a.polygon.split(",").map(h=>{const p=Fs(h);return f(p,m)});e(Dl({initial:!0,data:d}))}},[m,a.polygon,l]),g.useEffect(()=>{const r=window.idx_main_settings?.search_settings,d=window.paramsMapSearch?.params;if(!r)return;tt("view")||e(Dt(Oe()));const p=r.price_rent_range;p.length&&e(fn(p));const v=r.price_sale_range;v.length&&e(pn(v));const b=r.default_view_icon;b&&e(un(Rn[b]));const y=r.idx_listings_type===1;e(mn(y));const _=d?.property_types?.length>0?d.property_types:r.property_types;if(_.length){const $=_.map(j=>({label:j.label,value:be[j.value]||j.value}));e(hn($))}const x=r.waterfront_options||[];if(x.length){const $=[{value:"",label:"Any"},...x.map(j=>({label:j.name,value:j.code})).sort((j,P)=>j.value.localeCompare(P.value))];e(bn($))}const w=r.amenities||[];if(w.length){const $=[{value:"",label:"Any"},...w.map(j=>({label:j.name,value:j.code})).sort((j,P)=>j.value.localeCompare(P.value))];e(vn($))}const E=r.default_view_grid;E&&e(dn(E==="0"));const C=r.markets_on_map;C&&e(gn(C==="group")),window.idx_main_settings?.active_ai==="1"&&e(_n(!0))},[e]),g.useEffect(()=>{if(!i)return;const r=window.paramsMapSearch?.params,d=JSON.parse(r?.gmap_coords_zoom||"{}");if(Zn(d))c();else{const{rect:y,zoom:_}=d,x={rect:y,zm:`${_}`};!a.rect&&!a.polygon&&!a.keyword_main&&e(T(x)),e(ra(x)),e(ca(x))}const h=document.getElementById("modal_login"),p=document.getElementById("formLogin_ib_tags"),v=document.getElementById("formRegister_ib_tags"),b=r?.name;h&&b&&(p&&p.setAttribute("value",b),v&&v.setAttribute("value",b))},[i])},Be=()=>{const[e,t]=g.useState({width:void 0,height:void 0});return g.useEffect(()=>{function s(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),e},eo="open-property-modal",fs="close-property-modal",to="open-share-modal",so="open-tutorial-ai-modal",ao="open-save-modal",ps="notify-changes-favorites",no="open-collection-modal",lo="close-collection-modal",hs="notify-call-save-collection",fe=window.__flex_g_settings.registration_key||"",gt=B==="lead"?{user_type:"lead",token_lead:xt.get(jt)||""}:{},Ze=Ie({reducerPath:"collectionsApi",baseQuery:Re({baseUrl:oe.COLLECTIONS,prepareHeaders:e=>(e.set("Content-Type","application/json"),e)}),tagTypes:["CategoriesCounts","Collections","CollectionMLS","TourRequestedMLS"],endpoints:e=>({getCollection:e.query({query:({collectionId:t})=>({url:`/collections/${t}`}),providesTags:(t,s,{collectionId:a})=>[{type:"Collections",id:a}]}),saveCollection:e.mutation({query:t=>({url:"/collections",method:"POST",body:JSON.stringify({registrationKey:fe,...t})}),invalidatesTags:[{type:"Collections",id:"LIST"}]}),updateCollection:e.mutation({query:({id:t,collection:s})=>({url:`/collections/${t}/detail_info`,method:"PUT",body:JSON.stringify({registrationKey:fe,id:t,...s})}),invalidatesTags:(t,s,{id:a})=>[{type:"Collections",id:a}]}),updateCriteriaCollection:e.mutation({query:t=>({url:"/collections/criterial",method:"PUT",body:JSON.stringify({registrationKey:fe,...t})}),invalidatesTags:(t,s,a)=>[{type:"CategoriesCounts",id:`${B}-${a.id}`},{type:"CollectionMLS",id:`COLL-${a.id}`}]}),getCategoriesCounts:e.query({query:({collectionId:t})=>({url:"/collections/status-counts",method:"POST",body:JSON.stringify({collection_id:t,type:B})}),providesTags:(t,s,{collectionId:a})=>[{type:"CategoriesCounts",id:`${B}-${a}`}]}),getMlsByStatus:e.query({query:({collectionId:t,status:s,sub_category:a})=>({url:"/collections/mls-for-status",method:"POST",body:JSON.stringify({type:B,collection_id:t,status:s,sub_category:s===M.Shared?a:void 0})}),providesTags:(t,s,{collectionId:a,status:l})=>[{type:"CollectionMLS",id:`${B}-${a}-${l}`},{type:"CollectionMLS",id:`COLL-${a}`}]}),updateMlsStatusBatch:e.mutation({query:({collectionId:t,mls:s,status:a})=>({url:"/collections/batch-change-status",method:"POST",body:JSON.stringify({id:t,mls:s,status:a,userId:fe,...gt})}),invalidatesTags:(t,s,{collectionId:a})=>[{type:"CategoriesCounts",id:`${B}-${a}`},{type:"CollectionMLS",id:`COLL-${a}`}]}),getCommentsCounts:e.query({query:({collectionId:t})=>({url:"/comments/count-comments",method:"POST",body:JSON.stringify({collectionId:t,userId:fe})}),transformResponse:t=>{const s=t?.data??[];return Object.fromEntries(s.map(({propertyId:a,totalComments:l})=>[a,l]))},async onQueryStarted(t,{dispatch:s,queryFulfilled:a}){try{const{data:l}=await a;s(Zl(l))}catch{}}}),getMlsTourRequested:e.query({query:({collectionId:t})=>({url:"/collections/mls-tour-requested",method:"POST",body:JSON.stringify({collection_id:t,registrationKey:fe,...gt})}),providesTags:(t,s,{collectionId:a})=>[{type:"TourRequestedMLS",id:a}]}),updateTourRequest:e.mutation({query:({collectionId:t,mls_num:s,action:a})=>({url:"/collections/tour_request",method:"POST",body:JSON.stringify({id:t,registrationKey:fe,mls_num:s,action:a,...gt})}),invalidatesTags:(t,s,{collectionId:a})=>[{type:"TourRequestedMLS",id:a}]})})}),{useGetCollectionQuery:ct,useSaveCollectionMutation:oo,useUpdateCollectionMutation:io,useUpdateCriteriaCollectionMutation:ro,useGetCategoriesCountsQuery:va,useUpdateMlsStatusBatchMutation:ga,useGetMlsByStatusQuery:co,useGetCommentsCountsQuery:uo,useGetMlsTourRequestedQuery:mo,useUpdateTourRequestMutation:fo}=Ze,Ut=({mlsNumber:e,isSold:t=!1})=>{window.dispatchEvent(new CustomEvent(eo,{detail:{mlsNumber:e,isSold:t}}))},po=({type:e,url:t,additionalText:s,image_url:a,full_address:l,buildingInfo:o,propertyInfo:i})=>{window.dispatchEvent(new CustomEvent(to,{detail:{type:e,url:t,additionalText:s,image_url:a,full_address:l,buildingInfo:o,propertyInfo:i}}))},ho=()=>{window.dispatchEvent(new CustomEvent(so))},_a=({count:e,filterParams:t,searchCondition:s})=>{window.dispatchEvent(new CustomEvent(ao,{detail:{count:e,filterParams:t,searchCondition:s}}))},bs=e=>{window.dispatchEvent(new CustomEvent(no,{detail:e}))},bo=()=>{window.dispatchEvent(new Event(lo))},vo=(e,t)=>{const s="property",a=e?.mls_status===2,l=a?e?.slug_sold:e?.slug,o=`${Bs}/${l}`,i=e.thumbnail_url||e.imagens[0],c=t(a?"Property Sold":`For ${e?.is_rental===1?"Rent":"Sale"}`),m=Te({amount:(a?e?.price_sold:e?.price)||0}),u=`${c} ${m} #${e?.mls_num} ${t("in")} ${e?.address_short} ${e?.address_large}`,r=!!e.is_commercial?e.class_id===Tt?"Business":"Commercial":void 0,d={mls_num:e.mls_num,address_short:e.address_short,address_large:e.address_large,price:m,baths:(e.bath||0)+(e.baths_half?.5:0),beds:e.bed,area:it(e.sqft||0),commercialType:r};return{type:s,url:o,image_url:i,additionalText:u,full_address:e.full_address,propertyInfo:d}},_t=k==="edit",go=()=>{const e=O(),{query:t,params:s,thumbnails:a}=R(),{selectedMlsCollections:l}=H(),[o]=oo(),[i]=io(),c=me(),{refetch:m}=uo({collectionId:c},{skip:!c});g.useEffect(()=>{const u=f=>{const d=f.detail;if(!d)return;const{mlsNumber:h,isFavorite:p}=d;e(zt({[h]:p?{mlsNumber:h}:void 0}))};return window.addEventListener(ps,u),()=>{window.removeEventListener(ps,u)}},[e]),g.useEffect(()=>{if(!c)return;const u=()=>{m()};return window.addEventListener(fs,u),()=>{window.removeEventListener(fs,u)}},[c,m]),g.useEffect(()=>{const u=async f=>{const d=f.detail,h={selectedMlsCollections:l,query:JSON.stringify(t||"{}"),_params:s,slug:aa(["view","show"])||"",thumbnail_images:a},p={listingStatus:"active",name:d.name,businessTracker:d.businessTracker,collaborators:d.collaborators,notificationSettings:{searchResults:{me:d.notification_me,client:d.notification_client},listingUpdates:{me:d.listing_me,client:d.listing_client,event:d.listing_updates},collectionActivity:{me:d.collection_me,client:d.collection_client,event:d.collection_activity}}};try{if(_t){if(!d.id)return;await i({collection:p,id:d.id}).unwrap(),le.success(`The ${d.name} collection was updated successfully.`),bo()}else{const{data:v}=await o({...h,...p,alertSchedule:d.alertSchedule}).unwrap();le.success(`The ${v.name} collection was created successfully.`);const b=window.idx_collections_settings?.detail_path||"collection";setTimeout(()=>{window.location.replace(`/${b}/edit/${v.id}`)},500)}}catch(v){console.error(`Error in ${_t?"EDIT":"SAVE"} COLLECTION METHOD`,v),le.error(`An error occurred while ${_t?"modifying":"creating"} the ${d.name} Collection.`)}};return window.addEventListener(hs,u),()=>{window.removeEventListener(hs,u)}},[t,s,a,l,i,o])};function _o({enabled:e,collectionId:t}){const{selectedEditCategoryId:s,selectedSubcategoryId:a,editingCriteria:l}=ce(),o=O(),i=e&&t&&s?{collectionId:t,status:s,sub_category:a}:Da,{data:c,isFetching:m,isLoading:u,isError:f,error:r}=co(i);return g.useEffect(()=>{if(!e)return;const d=l?void 0:c?.mls?.join(",")||"";o(T({list_mls:d}))},[c?.mls,l,e]),{status:s,data:c,loading:m||u,isError:f,error:r}}const yo=({buttonTitle:e,children:t,className:s="",title:a})=>{const{t:l}=U(),o=g.useRef(null),i=O(),{filters:c,defaultLocation:m,count:u,loading:f}=R(),{moreFilterOpen:r}=H(),[d,h]=g.useState([]),{width:p}=Be(),{clear:v}=ye(),b=g.useMemo(()=>{if(p)return p<ie.TABLET||p>1300},[p]),y=g.useMemo(()=>{if(p)return p<ie.TABLET||p>1400},[p]),_=g.useMemo(()=>{if(p)return p<ie.TABLET||p>1600},[p]);function x(){i(Ke(!1))}function w(){i(Ke(!r))}function E(){v();const{isMapFilter:C,...L}=ge();i(Pe({...L,...C?{}:m,...re(L.for)})),i(at({})),i(ma(L)),i(he(!0))}return qe(o,x),g.useEffect(()=>{const{isMapFilter:C,...L}=ge(),$={};qs.forEach(V=>{V in L&&($[V]=L[V])});let P=cl($,c);b&&(P=P.filter(V=>V!=="min_price,max_price")),y&&(P=P.filter(V=>V!=="min_beds,max_beds"&&V!=="min_baths,max_baths")),_&&(P=P.filter(V=>V!=="type")),h(P)},[c,b,y,_]),n.jsx("div",{className:`ms-sf-item -filters ${s}`,ref:o,children:n.jsxs("div",{className:"ms-sf-dropdown -modal",children:[n.jsxs("button",{className:`ms-sf-btn-dropdown ${r?"active show":""}`,type:"button","aria-expanded":"false",onClick:w,children:[n.jsxs("span",{className:"-mb",children:[n.jsx("i",{className:"sf-icon-filter"})," ",e]}),n.jsxs("span",{className:"-ds",children:[n.jsx("i",{className:"sf-icon-filter"})," ",a]}),d.length>0&&n.jsx("span",{className:"ms-sf-badge -black",children:d.length})]}),n.jsx("div",{className:"ms-sf-dropdown-menu",children:n.jsx("div",{className:"ms-sf-dropdown-item",children:n.jsxs("div",{className:"ms-sf-card",children:[n.jsxs("div",{className:"ms-sf-header-card -border-bottom -hidden-ds",children:[n.jsxs("button",{type:"button",className:"ms-sf-card-title -text-xl",onClick:x,children:[n.jsx("i",{className:"sf-icon-arrow-back"}),a]}),n.jsx("button",{type:"button",className:"ms-sf-card-close",onClick:E,children:l("Clear Filters")})]}),n.jsx("div",{className:"ms-sf-body-card ms-sf-scroll",children:n.jsx("div",{className:"ms-sf-accordion",children:t})}),n.jsxs("div",{className:"ms-sf-footer-card -flex -border-top",children:[n.jsx("button",{className:"ms-sf-btn -md -round -hidden-mb -standard",onClick:E,children:l("Clear Filters")}),n.jsx("button",{className:"ms-sf-btn -black -md -round -full-mb",onClick:x,disabled:f,children:f?l("Loading..."):`${l("View")} ${ve(u)} ${l("Properties")}`})]})]})})})]})})},We=Ie({reducerPath:"autocompleteApi",baseQuery:Re({baseUrl:""}),refetchOnMountOrArgChange:!0,endpoints:e=>({getAutocomplete:e.query({query:({term:t,isSold:s,includeCommercial:a})=>{const l=window.__flex_g_settings?.boardId||"1";return{url:`${oe.AUTOCOMPLETE}?board=${l}&term=${encodeURIComponent(t)}${s?"&sold=1":""}${a?"&include_commercial=1":""}`}}})})}),{useGetAutocompleteQuery:xo}=We,So={city:"sf-icon-properties-listings",district:"sf-icon-properties-listings",street:"sf-icon-location",complex:"sf-icon-department",subdivision:"sf-icon-department",project:"sf-icon-department",address:"sf-icon-map",mls:"sf-icon-map",zip:"sf-icon-map",island:"sf-icon-isle",location:"sf-icon-current-location"},vs=window.idx_main_settings?.search_settings.cities,wo=()=>{const{t:e}=U(),t=O(),{filters:s,defaultLocation:a}=R(),{clear:l}=ye(),{map:o}=_e(),i=g.useMemo(()=>JSON.parse(s.keyword_main||"[]"),[s]),[c,m]=g.useState(""),[u,f]=g.useState([]),[r,d]=g.useState(!1),h=g.useRef(null),p=g.useRef(null);qe(h,S=>{const N=document.querySelector(".p-autocomplete-panel");N&&N.contains(S.target)||(p.current?.hide(),d(!1))});const v=g.useMemo(()=>s.for===F.SOLD,[s.for]),b=g.useMemo(()=>(s.type?.split(",")||[]).some(S=>["com","bus"].includes(S)),[s.type]),y=As(c,500),{data:_,isLoading:x,isFetching:w,isSuccess:E}=xo({term:y,isSold:v,includeCommercial:b},{skip:!y});async function C(S){const N=S.length?JSON.stringify(S.map(({label:I,key:Q,relation:W})=>({label:I,key:Q,relation:W}))):void 0;N&&t(ia({rect:s.rect||a.rect,zm:s.zm||a.zm}));const q=N||s.polygon?void 0:a.rect,Y=N||s.polygon?void 0:a.zm;t(Vt(!0)),t(he(!N)),l(),t(T({rect:q,zm:Y,keyword_main:N}))}function L(){m(""),f([]),setTimeout(()=>{const S=p.current?.getInput();S&&(S.blur(),d(!1),p.current?.hide(),S.setAttribute("tabindex","-1"),setTimeout(()=>{S.removeAttribute("tabindex")},0))},0)}async function $(S){if(S.value?.key==="location"){if(o){const{findCurrentLocation:q}=await J(()=>import("./index-BfW9eQfF.js"),__vite__mapDeps([15,16,1,2,17,18]),import.meta.url);q(o)}L();return}L()}function j(S){const N=S.value?.filter(q=>q!==void 0);if(!N.find(q=>q.key==="location")&&(C(N),N.length>i.length)){L();return}}function P(S,N){if(S.keyCode!==13||!N)return;const q=N.toLowerCase();if(!i.find(({label:I})=>I?.toLowerCase()===q)){const I={key:"default",label:Xe(q)};C([...i,I])}L(),S.currentTarget.value=""}g.useEffect(()=>{if(_&&!x&&!w&&E){const S=_.map(N=>({key:N.type,label:N.label,listings:N.weight,relation:N.state}));f(S)}},[_,x,w,E]);function V(){return(document.getElementById("wpadminbar")?.offsetHeight||0)*-1}function G(){if(!p.current?.getInput().value&&vs?.length){const N=vs.map(q=>({label:q.name,key:"city"}));f(te?[]:N)}p.current?.show()}function ue(){d(!0),G()}g.useEffect(()=>{let S=null;const N=I=>{if(S){const{scrollTop:Q,scrollHeight:W,clientHeight:se}=S;(Q===0&&I.deltaY<0||Q+.5+se>=W&&I.deltaY>0)&&I.preventDefault()}},q=()=>{const I=document.querySelector(".p-autocomplete-items-wrapper");I&&I!==S&&(S&&S.removeEventListener("wheel",N),S=I,S.addEventListener("wheel",N,{passive:!1}))},Y=new MutationObserver(()=>{q()});return Y.observe(document.body,{childList:!0,subtree:!1}),q(),()=>{S&&S.removeEventListener("wheel",N),Y.disconnect()}},[]),g.useEffect(()=>{const S=()=>{if(p.current&&p.current.getOverlay()){p.current.hide();const N=p.current.getInput();N&&N.blur(),d(!1)}};return window.addEventListener("scroll",S,{passive:!0}),()=>{window.removeEventListener("scroll",S)}},[]);const A=e(te?"Enter Address, District, Zip Code, Subdivision":"Enter Address, City, Zip Code, Subdivision");return n.jsx("div",{className:"ms-sf-autocomplete",children:n.jsxs("div",{ref:h,className:`ms-sf-wrapper-autocomplete ${r?"active":""}`,children:[i.length>1&&n.jsxs("div",{className:"ms-sf-count-elements",onClick:ue,children:[n.jsx("span",{children:i.length-1}),e("more")]}),n.jsx(La,{"aria-label":"Search",multiple:!0,onUnselect:S=>{S.originalEvent.preventDefault(),S.originalEvent.stopPropagation()},ref:p,value:i,suggestions:[{label:e("Current Location"),key:"location"},...u.filter(S=>!i.some(N=>N.key===S.key&&N.label===S.label))],placeholder:A,completeMethod:({query:S})=>m(S),onChange:j,onSelect:$,onClear:G,onFocus:ue,onKeyUp:S=>P(S,c),panelStyle:{marginTop:V()},field:"label",itemTemplate:S=>n.jsxs(n.Fragment,{children:[!!S.key&&n.jsx("i",{className:`icon ${So[S.key]||""}`}),n.jsxs("div",{className:`p-autocomplete-item-label ${S.key?"":"-full"}`,children:[n.jsx("span",{className:"-label",children:S.label}),!!S.listings&&n.jsxs("span",{className:"listings",children:[Number(S.listings).toLocaleString("en")," ",e("listings")]})]}),!!S.key&&n.jsx("span",{className:"p-autocomplete-item-type",children:n.jsx("span",{children:e(S.key)})})]})})]})})},yt="Collection",No="Loading…",Co=()=>{if(!Vs)return null;const e=!!k,t=k==="edit",s=B==="broker",a=B==="lead",l=g.useMemo(()=>{if(t)return me()},[t]),o=!t||!l,{data:i,isFetching:c,isError:m}=ct({collectionId:l},{skip:o}),u=(()=>{if(c&&t)return No;const p=i?.data?.name;return p&&p.trim()?p:yt})(),f=g.useMemo(()=>e?{path:`/${window?.idx_collections_settings?.collections_path||"collections"}`,title:a?"Back to My Collections":"Collections"}:{path:window?.location?.origin||"/",title:"Home"},[e,a]),r=window?.paramsMapSearch?.params?.name??"",d=e?u:r||yt,h=!e||s;return n.jsx("nav",{className:"ms-sf-wrapper-breadcrumb","aria-label":"Breadcrumb",children:n.jsxs("ol",{className:"ms-sf-breadcrumb",children:[n.jsx("li",{children:n.jsxs("a",{href:f.path,title:f.title,children:[!h&&n.jsx("i",{className:"sf-icon-arrow-back",style:{marginRight:5}}),f.title]})}),h&&n.jsx("li",{"aria-current":"page",children:d})]})})},Ht=({url:e,fallback:t,className:s="",full:a=!1,eager:l=!1,threshold:o=200})=>{const[i,c]=g.useState(!1),[m,u]=g.useState(!1),f=t||At,r={width:"100%",height:a?"100%":void 0,objectFit:"cover",display:"block",backgroundColor:"white"};return!e||m?n.jsx("div",{className:`custom-image-wrapper ${s}`,children:n.jsx("img",{src:f,alt:"",loading:l?"eager":"lazy",style:r})}):l?n.jsxs("div",{className:`custom-image-wrapper ${s}`,children:[!i&&n.jsx("div",{className:"img-skeleton",style:{inset:0,position:"absolute",background:"#eee"}}),n.jsx("img",{src:e,alt:"",loading:"eager",...l?{fetchpriority:"high"}:{},onLoad:()=>c(!0),onError:()=>{u(!0),c(!0)},style:{...r,opacity:i?1:0,transition:"opacity .2s"}})]}):n.jsxs("div",{className:`custom-image-wrapper ${s}`,children:[!i&&n.jsx("div",{className:"img-skeleton",style:{inset:0,position:"absolute",background:"#eee"}}),n.jsx($a.LazyLoadImage,{src:e,placeholderSrc:f,effect:"opacity",threshold:o,afterLoad:()=>c(!0),onError:()=>{u(!0),c(!0)},style:{...r,opacity:i?1:0,transition:"opacity .2s"},alt:""})]})},jo=g.lazy(sl),ko=({images:e=[],thumbnail:t,modalType:s=!1,showControls:a=!1,handleClickItem:l,selectedItem:o=0,infiniteLoop:i,handleClickArrowButtons:c,eagerFirst:m=!1})=>{const{t:u}=U(),[f,r]=g.useState(0),[d,h]=g.useState([0]),{width:p}=Be(),v=g.useCallback(y=>{r(y),d.includes(y)||h(_=>[..._,y])},[d]);g.useEffect(()=>{s&&e&&e.length<=2&&e?.forEach((y,_)=>{v(_)})},[e,s,v]),g.useEffect(()=>{o&&v(o)},[o,v]);const b=g.useMemo(()=>{if(!s||!p||p<ie.TABLET)return 1;const y=e.length;return p<ie.DESKTOP?y>=2?2:y:y>=3?3:y},[p,s,e.length]);return g.useEffect(()=>{if(b>=2&&e.length>0){const y=f,_=(f-1+e.length)%e.length,x=(f+1)%e.length;h(w=>{const E=[...w];return[_,y,x].forEach(C=>{E.includes(C)||E.push(C)}),E})}},[b,f,e]),n.jsx(g.Suspense,{fallback:n.jsx("div",{className:"carousel-loading"}),children:n.jsx(jo,{preventMovementUntilSwipeScrollTolerance:!0,swipeScrollTolerance:20,onChange:y=>{v(y),c?.()},className:"carousel",infiniteLoop:i!==void 0?i:b>3,showThumbs:!1,autoPlay:!1,autoFocus:!1,showArrows:s?b>1:!0,showStatus:b===1,statusFormatter:(y,_)=>`${y} ${u("of")} ${_}`,showIndicators:!1,renderArrowPrev:(y,_,x)=>_&&n.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),y()},title:x,className:`arrow-buttons left-arrow ${a?"visible":""}`}),renderArrowNext:(y,_,x)=>_&&n.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),y()},title:x,className:`arrow-buttons right-arrow ${a?"visible":""}`}),centerMode:b>2,centerSlidePercentage:s?100/b:0,dynamicHeight:!0,onClickItem:y=>{!l||b===1||l(y)},swipeable:b===1,selectedItem:s&&b>2?1:o,children:(e?.length?[t,...e.slice(1)]:[At]).map((y,_)=>n.jsx(Ht,{url:d.includes(_)||_===f?y:void 0,full:!0,eager:_===0&&m},`${y}_${_}`))})})},Ao=()=>{const{compactFormatCards:e}=H();return n.jsx("li",{className:"ms-sf-pitem",children:n.jsx("div",{className:`ms-sf-property-card ${e?"-compact":""} -loading`,children:n.jsxs("div",{className:"ms-sf-property-card-dody",children:[n.jsx("div",{className:"ms-sf-property-card-slider"}),n.jsxs("div",{className:"ms-sf-property-card-info",children:[n.jsx("div",{className:"ms-sf-property-card-price"}),n.jsx("div",{className:"ms-sf-property-card-detail"}),n.jsx("div",{className:"ms-sf-property-card-address"})]})]})})})},gs=({data:e,showBord:t,simplified:s,show:a=!1})=>{const{t:l}=U();if(!a)return;const o=e.mls_status===2,i=e?.bath+(e?.baths_half?.5:0),c=e?.reduced_price!==null&&!isNaN(e?.reduced_price)?e?.reduced_price:0,m=it(e.sqft),u=o?e.price_sold||0:e.price,f=!!e.is_commercial,r=f?e.class_id===Tt?l("Business"):l("Commercial"):"";return n.jsxs("div",{className:"ms-sf-property-card-info",children:[n.jsxs("div",{className:"ms-sf-property-card-price",children:[Te({amount:u}),!!e.is_rental&&n.jsxs("span",{className:"ms-sf-property-card-price-suffix",children:["/",l("month")]}),c?n.jsxs("span",{className:`ms-sf-property-card-price-status ${c<0?"-down":"-up"}`,children:[Math.abs(c),"%"]}):n.jsx("span",{})]}),n.jsxs("div",{className:"ms-sf-property-card-detail",children:[f?n.jsx("div",{className:"ms-sf-property-card-item",children:r}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"ms-sf-property-card-item",children:[n.jsx("strong",{children:e.bed||"--"})," ",e.bed===1?l("Bed"):l("Beds")]}),n.jsxs("div",{className:"ms-sf-property-card-item",children:[n.jsx("strong",{children:i||"--"})," ",l(i===1?"Bath":"Baths")]})]}),n.jsxs("div",{className:"ms-sf-property-card-item",children:[n.jsx("strong",{children:!m.value||m.value==="0"?"--":m.value})," ",m.measurement]})]}),n.jsx("div",{className:"ms-sf-property-card-address",children:e.full_address}),t&&!s&&n.jsx("div",{className:"ms-sf-property-card-bord-active",children:"Listing Courtesy of Realty One of South Florida, LLC"})]})},ya=({data:e})=>{const s=e?.mls_status===2?e?.slug_sold:e?.slug,a={"@type":"SingleFamilyResidence","@context":"http://schema.org",name:e.full_address,floorSize:{"@type":"QuantitativeValue","@context":"http://schema.org",value:(e.sqft||0).toLocaleString("en")},address:{"@type":"PostalAddress","@context":"http://schema.org",streetAddress:e.address_short,addressLocality:e.more_info.city,addressRegion:e.more_info.state,postalCode:`${e.zip}`},geo:{"@type":"GeoCoordinates","@context":"http://schema.org",latitude:`${e.lat}`,longitude:`${e.lng}`},url:`${Bs}/${s}`};return n.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}})},Eo=({onMove:e,onComment:t,isTourRequested:s=!1,onToggleTourRequest:a,disabled:l=!1,commentCount:o=""})=>{const{selectedEditCategoryId:i}=ce(),{favoriteIcon:c}=H(),m=g.useMemo(()=>na(i),[i]);if(k!=="edit")return null;const u={isTourRequested:s};return n.jsx("div",{className:"ms-sf-group-buttons",children:m.filter(f=>!(we[f].hideWhenTrash&&i===M.Trash)).map(f=>{const r=we[f],d={toFavorites:`sf-icon-${c}-active`},h=typeof r.iconClass=="function"?r.iconClass(u):r.iconClass,p=d[f]??h,v=typeof r.labelSingle=="function"?r.labelSingle(u):r.labelSingle,b=f==="comment"&&typeof o=="number"?`${v} (${o})`:v,y=()=>{if(f==="toggleTourRequest"){a?.();return}r.dest?e(r.dest):t()};return n.jsxs("button",{className:"ms-sf-btn -transparent -round -full","aria-label":b,type:"button",onClick:y,disabled:l,children:[n.jsx("i",{className:p})," ",b]},f)})})},Mo=e=>{e.stopPropagation()},Yt=({show:e=!0,ariaLabel:t,iconClass:s,tooltip:a,onClick:l,active:o,className:i="",children:c})=>e?n.jsxs("button",{className:`ms-sf-btn ${i} ${o?"active":""}`,"aria-label":t,type:"button",onClick:m=>{Mo(m),l?.()},children:[n.jsx("i",{className:s}),c,a&&n.jsx("div",{className:"ms-sf-tooltip-temp bottom",children:a})]}):null,Lo=({iconClass:e="sf-icon-shared",tooltip:t="Share",...s})=>n.jsx(Yt,{iconClass:e,ariaLabel:"Share",tooltip:t,className:"-share_float",...s}),$o=({favoriteIcon:e="star",tooltip:t="Favorite",active:s,...a})=>n.jsx(Yt,{iconClass:`sf-icon-${e}`,ariaLabel:"Favorite",tooltip:t,className:"-favorite",active:!!s,...a}),kt=e=>{const t=O(),{t:s}=U(),{data:a,showBord:l=!1,simplified:o=!1,isTourRequested:i=!1,priority:c=!1}=e,m=me(),[u]=ba(),{favorites:f,viewOption:r}=R(),{drawing:d}=_e(),{selectedEditCategoryId:h,editingCriteria:p,commentsCounts:v}=ce(),[b]=ga(),[y]=fo(),{favoriteIcon:_,compactFormatCards:x,selectedMlsCollections:w,countClickAnonymous:E}=H(),C=a.mls_status===2,L=C?`${s("Sold on")} ${Hs(a?.date_close)}`:Ys({listDate:a?.list_date,t:s}),$=!!f[a.mls_num],j=w?.includes(a.mls_num),P=()=>{if(j){const D=w?.filter(ae=>ae!==a.mls_num);t(X(D));return}t(X([...w||[],a.mls_num]))};function V(){Ut({mlsNumber:a.mls_num,isSold:C})}function G(D){const ae=vo(D,s);po(ae)}function ue(){r!=="map"||d||o||Gn({properties:[{...a}],favoriteIcon:_,favoriteCTA:u,shareCTA:G,isFavorite:!!f[a.mls_num],t:s})}function A(){r!=="map"||d||o||Zs(`${a.lat},${a.lng}`)}function S(){return Yn(E,D=>t(yn(D)))}const Y=k==="edit"&&B==="lead",I=Y&&!o,Q=()=>{Ft()&&u(a.mls_num)};function W(D,ae){return D===ae?M.Matches:ae}const se=async D=>{try{await b({collectionId:m,mls:[a.mls_num],status:D}).unwrap(),le.success(`Property with MLS ${a.mls_num} was moved to ${D}`),t(X([]))}catch(ae){console.error("Error updating MLS status:",ae),le.error(`Failed to move property with MLS ${a.mls_num} to ${D}`)}},Z=async()=>{try{await y({mls_num:a.mls_num,collectionId:m,action:i?"remove":"add"}).unwrap(),le.success(`Tour ${i?"canceled":"requested"} for ${a.mls_num} property.`)}catch(D){console.error("Error updating MLS status:",D),le.error(`The tour ${i?"cancellation":"request"} has failed`)}},Me=async()=>{const D=W(h,M.Favorites);await se(D)},Le=async()=>{const D=W(h,M.NotInterested);await se(D)},dt=Y?Me:Q;return n.jsxs("li",{className:`${o?"ms-sf-item":"ms-sf-pitem"}`,children:[n.jsx(ya,{data:a}),n.jsx("div",{className:`ms-sf-property-card ${x&&!o?"-compact":""} ${l?"-board":""} ${k?"-actions-active":""}`,onClick:V,onMouseEnter:ue,onMouseLeave:A,children:n.jsxs("div",{className:"ms-sf-property-card-dody",title:`${s("View Detail of")} ${a.full_address}`,children:[n.jsxs("div",{className:"ms-sf-property-card-slider",children:[n.jsx(gs,{...e,show:x&&!o}),n.jsx("div",{className:"ms-sf-property-card-image",children:o||C?n.jsx(Ht,{url:a.imagens[0],eager:c}):n.jsx(ko,{thumbnail:a.thumbnail_url,images:a.imagens,handleClickArrowButtons:S,eagerFirst:c})}),l&&!o&&n.jsx("div",{className:"ms-sf-property-card-bord-logo-active",children:n.jsx("img",{src:"https://idxboost-spw-assets.idxboost.us/logos/NYCListingCompliance.jpg"})}),L&&!o&&n.jsx("div",{className:"ms-sf-property-card-label",children:L}),!!k&&B===Fe.Lead&&n.jsx("div",{className:`-property-banner ${x?"-float":""} ${i?"-in":"-out"}`,"aria-hidden":!i,children:"Tour requested"}),!o&&n.jsxs("div",{className:"-float_buttons",children:[B==="broker"&&k==="edit"&&!p&&n.jsxs("button",{className:`ms-sf-btn -favorite ${j?"active":""}`,"aria-label":"Select",type:"button",onClick:D=>{D.stopPropagation(),P()},children:[n.jsx("i",{className:"sf-icon-square"}),n.jsx("div",{className:"ms-sf-tooltip-temp bottom",children:s("Select")})]}),n.jsx(Lo,{show:!k,onClick:()=>G(a),tooltip:s("Share")}),n.jsx(Yt,{show:I,ariaLabel:s("Not Interested"),className:"-float_button",iconClass:h===M.NotInterested?"sf-icon-dislike-active":"sf-icon-dislike",active:h===M.NotInterested,onClick:Le,tooltip:s("Not Interested")}),n.jsx($o,{show:!k||I,onClick:dt,favoriteIcon:_,active:$||h===M.Favorites,tooltip:s("Favorite")})]})]}),n.jsx(gs,{...e,show:!x||o})]})}),n.jsx(Eo,{onMove:async D=>se(D),onComment:V,isTourRequested:i,commentCount:v[a.mls_num],onToggleTourRequest:Z,disabled:!!w.length})]})};kt.Skeleton=Ao;const To=({items:e=[]})=>{const{bordActive:t}=H(),s=1,[a,l]=g.useState(""),[o,i]=g.useState(!1),c=me(),{data:m}=mo({collectionId:c},{skip:!c});g.useEffect(()=>{const r=window.paramsMapSearch?.board?.hackbox;r&&l(r)},[]),g.useEffect(()=>{const r=setInterval(()=>{window.idxpages?.hackbox&&(console.log("idxpages and hackbox check!"),typeof window.idxpages.hackbox.bootstrap=="function"&&(console.log("bootstrap()..."),window.idxpages.hackbox.bootstrap()),typeof window.idxpages.hackbox.init=="function"&&(console.log("init()..."),window.idxpages.hackbox.init()),clearInterval(r))},500);return()=>{clearInterval(r)}},[]);const u=r=>{if(o)return;const d=document.createElement("div");d.innerHTML=r,d.querySelectorAll("script").forEach(p=>{const v=document.createElement("script");p.src?(v.src=p.src,v.async=!0):v.textContent=p.innerHTML,document.body.appendChild(v),document.body.removeChild(v)}),i(!0)},f=()=>e.map((r,d)=>d===s&&a?(u(a),n.jsxs(g.Fragment,{children:[n.jsx("li",{className:"ms-sf-pitem ib-pitem-marketing",style:{position:"relative"},children:Ta(a)},`hackbox_${d}`),n.jsx(kt,{data:r,showBord:t},r.mls_num)]},`fragment_${r.mls_num}`)):n.jsx(kt,{data:r,showBord:t,isTourRequested:m?.mls?.includes(r.mls_num),priority:d===0},r.mls_num));return n.jsx("ul",{className:"ms-sf-property-results",children:f()})},Zt=({checked:e,id:t,label:s,name:a,onChange:l,required:o=!1,onlyCheck:i=!1})=>n.jsxs("div",{className:"ms-sf-form-check",children:[n.jsx("input",{checked:e,className:"ms-sf-form-check-input",id:t,name:a,type:"checkbox",onChange:l,required:o}),n.jsx("label",{className:"ms-sf-form-check-label",htmlFor:t,"aria-label":s,children:i?"":s})]}),Wt=({className:e="",options:t=[],selectedValues:s=[],name:a,onChange:l,required:o=!1})=>{const i=c=>{const u=s.includes(c.value.toString())?s.filter(f=>f!==c.value.toString()):[...s,c.value.toString()];l(u)};return n.jsx("ul",{className:`${e}`,children:t?.map((c,m)=>{const{label:u,value:f}=c;return n.jsx("li",{className:`${e}-item`,children:n.jsx(Zt,{id:`${a}_${f}`,label:u,name:a,onChange:()=>i(c),checked:s.includes(f.toString()),required:o&&!s.length})},`${f}_${m}`)})})},Fo=({children:e,className:t="",title:s,valuesSelected:a,openDefault:l=!1,dropdownList:o=!1})=>{const[i,c]=g.useState(!1),{moreFilterOpen:m}=H(),{width:u}=Be(),f=g.useMemo(()=>{if(u&&u<ie.TABLET)return!0},[u]);return g.useEffect(()=>{m&&l&&c(!0)},[m,l]),n.jsxs("div",{className:`ms-sf-accordion-item ${o?"-ovf":""} ${t} ${i||f?"active":""}`,children:[n.jsx("div",{className:"ms-sf-accordion-header",children:n.jsxs("button",{className:"ms-sf-accordion-button",onClick:()=>c(r=>!r),children:[s,n.jsx("span",{className:"ms-sf-min-text",children:a})]})}),n.jsx("div",{className:"ms-sf-accordion-body",children:n.jsx("div",{className:"ms-sf-card",children:n.jsx("div",{className:"ms-sf-body-card",children:e})})})]})},Po=({valuesSelected:e="",children:t,className:s="",title:a="",resetCTA:l,helpCTA:o,numberBadges:i})=>{const{t:c}=U(),m=O(),u=g.useRef(null),{count:f,loading:r}=R(),{aiFilterOpen:d}=H();function h(){m(St(!1))}function p(){m(St(!d))}return qe(u,v=>{const b=document.querySelector("#modalTutorialAI");b&&b.contains(v.target)||h()}),n.jsx("div",{className:`ms-sf-item ${s}`,ref:u,children:n.jsxs("div",{className:"ms-sf-dropdown -modal",children:[n.jsxs("button",{className:`ms-sf-btn-dropdown -ai ${d?"active show":""}`,type:"button","aria-expanded":"false",onClick:p,"data-type":"modal",children:[n.jsx("i",{className:"sf-icon-ai"}),n.jsx("span",{children:e}),!!i&&n.jsx("span",{className:"ms-sf-badge -black",children:i})]}),n.jsx("div",{className:"ms-sf-dropdown-menu",children:n.jsx("div",{className:"ms-sf-dropdown-item",children:n.jsxs("div",{className:"ms-sf-card",children:[n.jsxs("div",{className:"ms-sf-header-card",children:[n.jsxs("span",{className:"ms-sf-card-title",children:[n.jsx("i",{className:"sf-icon-arrow-back",onClick:h}),a]}),n.jsx("button",{className:"ms-sf-link",onClick:o,children:c("Help?")}),n.jsx("button",{type:"button",className:"ms-sf-card-close -hidden-ds",onClick:l,children:c("Reset")})]}),n.jsx("div",{className:"ms-sf-body-card ms-sf-scroll",children:t}),n.jsxs("div",{className:"ms-sf-footer-card -flex -border-top",children:[l&&n.jsx("button",{className:"ms-sf-btn -md -hidden-mb -round -standard",onClick:l,children:c("Reset")}),n.jsx("button",{className:"ms-sf-btn -black -md -round -full-mb",onClick:h,disabled:r,children:r?c("Loading..."):`${c("View")} ${ve(f)} ${c("Properties")}`})]})]})})})]})})},_s=window.idx_main_settings?.search_settings.prompt_ai_search||[],Oo=()=>{const{t:e}=U(),t=O(),{isRecording:s,stopRecording:a,loading:l,transcriptionResult:o,startRecording:i,error:c}=ln(),[m]=an(),{filters:u,aiFilters:f}=R(),[r,d]=g.useState(!1),[h,p]=g.useState(""),v=l||r,[b,y]=g.useState([]);async function _(C){C&&(d(!0),await m(C).unwrap().then(async L=>{const $=await ul(L.filters);t(at($)),p(""),t(St(!1))}).catch(L=>{console.log("Error getting filters on text:",L)}).finally(()=>{d(!1)}))}const x=()=>{c||(s?a?.():(p(""),i?.()))};function w(){p(""),t(at({}))}function E(C,L){if(C==="type"||C==="features"){const $=u[C];if($){const P=$.split(",").filter(G=>G!==L),V=P.length?P.join(","):void 0;t(z({[C]:V}));return}}if(C==="for"){t(z({for:void 0,lookup_previous_sold:void 0,status:u.status?u.status.split(",").filter($=>$!=="2").join(","):void 0}));return}t(z({[C]:void 0}))}return g.useEffect(()=>{if(f){const C=dl(f);y(C)}},[f]),g.useEffect(()=>{c||o&&!s&&!l&&p(o)},[l,s,o,c]),n.jsxs(Po,{valuesSelected:e("AI Search"),className:"-ai-search",title:e("AI Property Search"),resetCTA:w,helpCTA:ho,numberBadges:b.length,children:[n.jsx("div",{className:"ms-sf-paragraph",children:n.jsx("p",{children:e("Welcome to your AI Search Helper!")})}),n.jsx("div",{className:`ms-sf-search-component ${s?"active":""}`,children:n.jsxs("ul",{className:"ms-sf-actions-ai-search",children:[n.jsxs("li",{children:[n.jsxs("button",{disabled:!!v,className:`ms-sf-btn -voice -circle ${s?"active":""}`,"aria-label":"Voice assistant",onClick:x,children:[n.jsx("i",{className:"sf-icon-voice"}),n.jsxs("span",{children:[n.jsx("span",{}),n.jsx("span",{}),n.jsx("span",{})]})]}),n.jsx("span",{className:"ms-sf-small-text",style:{opacity:c?"0.5":"1"},children:e(s?"Recording... Click the microphone again to stop":"Click on microphone and say something")})]}),n.jsxs("li",{children:[n.jsx("div",{className:"ms-sf-line",children:n.jsx("span",{children:e("Or")})}),n.jsx("div",{className:"ms-sf-bubble",children:e("Type something")}),n.jsxs("div",{className:"ms-sf-wrapper-ai-search",children:[n.jsx("input",{type:"search",placeholder:e("Type something"),id:"aiInputSearch",value:h,disabled:v,onChange:({target:C})=>p(C.value),onKeyDown:C=>{C.key==="Enter"&&_(h)}}),n.jsx("button",{disabled:v||!h,className:"ms-sf-btn -round -black -round -search","aria-label":"Search",onClick:()=>_(h),children:n.jsx("i",{className:"sf-icon-search-ligth"})})]})]})]})}),n.jsx("ul",{className:"ms-sf-tag-list",children:b.flatMap(({label:C,value:L,key:$})=>n.jsx("li",{children:n.jsxs("button",{className:"ms-sf-btn-tag",onClick:()=>{E($,L)},children:[C," ",n.jsx("span",{className:"sf-icon-close"})]})},`${$}_${L}`))}),!!_s.length&&n.jsxs("div",{className:"ms-sf-top-results",children:[n.jsx("h5",{className:"ms-sf-title",children:e("Recommended Prompts")}),n.jsx("div",{className:"ms-sf-wrapper-recomend-prompts",children:n.jsx("ul",{className:"ms-sf-recomend-prompts",children:_s.map((C,L)=>n.jsx("li",{children:n.jsxs("button",{className:"ms-sf-btn -prompt -round",onClick:()=>_(C),disabled:v,children:[n.jsx("span",{className:"ms-sf-ellipsis",children:C}),n.jsx("i",{className:"sf-icon-arrow-select"})]})},`recommended_prompt_${L}`))})})]})]})},K=({collapsable:e=!1,...t})=>e?n.jsx(Fo,{...t}):n.jsx(ni,{...t}),Je=({id:e,label:t,checked:s,name:a,onChange:l,children:o,className:i=""})=>{const c=()=>{l()};return n.jsxs("div",{className:`ms-sf-form-radio ${i}`,children:[n.jsx("input",{checked:s,className:"ms-sf-form-radio-input",id:e,name:a,type:"radio",onChange:c}),n.jsx("label",{className:"ms-sf-form-radio-label",htmlFor:e,style:{width:"100%"},children:t}),s&&n.jsx(n.Fragment,{children:o})]})},ut=({className:e="",options:t,name:s,selectedValue:a="",onChange:l,isHorizontal:o=!1,inputClassName:i=""})=>n.jsx("ul",{className:`${e} ${o?"-chkList":""}`,children:t?.map((c,m)=>{const{label:u,value:f}=c;return n.jsx("li",{className:`${e?`${e}-item`:""}`,children:n.jsx(Je,{id:`${s}_${f}`,label:u,name:s,checked:a===f,onChange:()=>l(`${f}`),className:i})},`${f}_${m}`)})}),Io=({collapsable:e=!1})=>{const{t}=U(),{isAiActive:s}=H(),{filters:a,defaultMainSettings:l,aiFilters:o}=R(),i=O();function c(u){if(s&&o?.dom_max){i(z({dom_max:u}));return}i(T({dom_max:u}))}function m(){if(a.dom_max!==l.dom_max){if(!a.dom_max)return"Any";const u=rs.find(({value:r})=>r===a.dom_max),f=u?.label||a.dom_max;return u?.value!=="1"?`${f} Days`:f}}return n.jsx(K,{valuesSelected:m(),title:t("Days On Market"),collapsable:e,children:n.jsx(ut,{name:"days_market-options",className:"ms-sf-inner-list",options:rs.map(({label:u,value:f})=>({label:t(u),value:f})),selectedValue:a.dom_max,onChange:c,isHorizontal:!0})})},Ro=window.idx_main_settings?.search_settings.districts,ys=({collapsable:e=!1})=>{const t=O(),{filters:s,defaultLocation:a}=R(),{clear:l}=ye();function o(){f([])}const i=Ro?.map(({name:r})=>({label:r,value:r}))||[],m=g.useMemo(()=>JSON.parse(s.keyword_main||"[]"),[s]).filter(r=>r.key==="district")||[];function u(){const r=m?.length,d=m[0]?.label,h=d;return e?r&&r>1?`${r} Selected`:d:!r||r>1?"Districts":h}function f(r){const d=s.keyword_main?JSON.parse(s.keyword_main):[],h=d.filter(x=>x.key!=="district"||r.includes(x.label)),p=r.filter(x=>!d.some(w=>w.label===x&&w.key==="district")).map(x=>({label:x,key:"district"})),v=[...h,...p],b=v.length?JSON.stringify(v):void 0;b&&t(ia({rect:s.rect||a.rect,zm:s.zm||a.zm}));const y=b||s.polygon?void 0:a.rect,_=b||s.polygon?void 0:a.zm;t(Vt(!0)),t(he(!b)),l(),t(T({rect:y,zm:_,keyword_main:b}))}return n.jsx(K,{valuesSelected:u(),className:"-district",iconClass:"sf-icon-department",title:"Districts",collapsable:e,resetCTA:o,withScrolling:!0,children:n.jsx(Wt,{name:"districts-options",className:"ms-sf-property-type-list",options:i,selectedValues:m?.map(({label:r})=>r),onChange:f})})},qo=({collapsable:e=!1})=>{const{t}=U(),s=O(),{isAiActive:a,amenitiesOptions:l}=H(),{filters:o,defaultMainSettings:i,aiFilters:c}=R(),m=l||Lt;function u(r){const d=r.sort().join(",");if(a&&c?.features){s(z({features:d}));return}s(T({features:d}))}function f(){if(o.features!==i.features){if(!o.features)return"Any";const r=o.features?.split(","),d=r.length||0;return d>1?`${d} Selected`:m.find(({value:p})=>p===r[0])?.label}}return n.jsx(K,{valuesSelected:f(),title:t("Features"),collapsable:e,children:n.jsx(Wt,{name:"features-options",className:"ms-sf-property-type-list",options:m.map(({label:r,value:d})=>({label:t(r),value:d})),selectedValues:o.features?.split(","),onChange:u})})},Bo=({collapsable:e=!1})=>{const{t}=U(),{filters:s,defaultMainSettings:a,aiFilters:l}=R(),{isAiActive:o}=H(),i=O();function c(u){if(o&&l?.parking){i(z({parking:u}));return}i(T({parking:u}))}function m(){if(s.parking!==a.parking)return s.parking?`${$e.find(({value:r})=>r===s.parking)?.label||s.parking} ${t("Parking")}`:t("Any")}return n.jsx(K,{valuesSelected:m(),title:t("Garage"),collapsable:e,children:n.jsx(ut,{name:"parking-options",className:"ms-sf-inner-list",options:$e.map(({label:u,value:f})=>({label:u==="Any"?t("Any"):u,value:f})),selectedValue:s.parking,onChange:c,isHorizontal:!0})})},Do=g.lazy(Qs),Vo=window.idx_main_settings?.search_settings.keywords_search||[],zo=({collapsable:e=!1})=>{const{t}=U(),s=O(),{filters:a,defaultMainSettings:l}=R(),o=a.keyword?.split(",").map(r=>Xe(r))||[];function i(r){return r.filter((d,h)=>{const p=d.toLowerCase();return r.findIndex(v=>v.toLowerCase()===p)===h})}function c(){s(T({keyword:""}))}function m(r){const d=a.keyword?.split(",")||[];if(r.length>d?.length&&d.length>=Se)return;const v=i(r).join(",").toLocaleLowerCase();s(T({keyword:v}))}function u(r){const d=a.keyword?.trim()?`${a.keyword},${r}`:r;m(d?.split(",").map(h=>h.toLocaleLowerCase())||[])}function f(){if(a.keyword!==l.keyword){const r=a.keyword?.split(","),d=r?.length||0;return d>1?`${d} Selected`:r?.[0]||"Empty"}}return n.jsx(K,{valuesSelected:f(),title:t("Keyword Search"),collapsable:e,openDefault:!0,children:n.jsx("div",{className:"ms-sf-wrapper-item-filter",onMouseEnter:nl,children:n.jsxs("div",{className:"ms-sf-flex-wp ms-sf-tag-content",children:[n.jsxs("div",{className:"ms-sf-wrapper-tag",children:[n.jsx("button",{className:"ms-sf-tag-clear",onClick:c,children:t("Clear")}),n.jsx(g.Suspense,{fallback:null,children:n.jsx(Do,{autoComplete:"off",placeholder:a.keyword?"":t("Select a keyword below or type here..."),type:"text","aria-autocomplete":"inline","aria-label":"Enter keywords",defaultValue:"",value:o,onChange:r=>m(r.value||[]),separator:",",className:"chips-container",pt:{input:{style:{display:o.length>=Se?"none":""}}}})})]}),o.length<Se&&n.jsx("ul",{className:"ms-sf-tag-list",children:Vo?.map(r=>({label:r,value:r})).map(({label:r,value:d})=>{const p=a.keyword?.toLocaleLowerCase().split(",")?.includes(d.toLocaleLowerCase());return n.jsx("li",{children:n.jsx("button",{className:"ms-sf-btn-tag",style:p?{backgroundColor:"black",color:"white"}:{},onClick:()=>u(d),children:t(Xe(r))})},`frequent-${d}`)})}),n.jsx("span",{className:"ms-sf-note",children:o.length<Se?t("Note: To increase accuracy, the keyword filter suggests the most commonly searched terms. Results may vary."):`${t("Remember! You can only choose up to")} ${Se} ${t("keywords. If you wish, you can delete one to add a new one.")}`})]})})})},Uo=g.lazy(Xs),ee=({options:e=[],currentValue:t,handleChange:s,id:a,description:l,isInputMoney:o=!1,placeholder:i="",suffix:c="",format:m=!0,limitToAny:u,minValue:f,maxValue:r})=>{const d=g.useRef(null),h=_=>_&&(f&&Number(f)&&f!==_?Number(_)<Number(f)?f:_:r&&Number(r)&&r!==_&&Number(_)>Number(r)?r:_),p=_=>{const x=h(_),w=e.find(E=>E.value===b);if(!o&&w)d.current.getInput().value=w.label;else{const E=d.current.getFormatter(),C=x?E.format(x):"";d.current.getInput().value=C}s(`${x}`)},v=ks(_=>p(_),1500);let b=h(t);const y=e.find(_=>_.value===b);return n.jsxs("div",{className:"ms-sf-flex-item",onMouseEnter:ol,children:[n.jsxs("div",{className:`ms-sf-wrapper-input ${o?"-money":""}`,children:[n.jsx(g.Suspense,{fallback:null,children:n.jsx(Uo,{ref:d,"aria-valuenow":!b||Number(b)===u?void 0:b,value:!b||Number(b)===u?void 0:!m&&y?y?.label:o?b:Number(b)||null,placeholder:i,inputId:a,onValueChange:({value:_})=>{if(!_&&!o){p(`${b||""}`);return}p(_?`${_}`:"")},onChange:({value:_})=>v(_||""),suffix:c,format:m})}),n.jsx("ul",{className:"ms-sf-float-card",children:e.map(({value:_,label:x},w)=>n.jsxs("li",{className:"ms-sf-float-card-item ms-sf-form-radio-hidden",children:[n.jsx("input",{className:"ms-sf-form-check-input",type:"radio",name:`${a}Item`,value:_,checked:b===_,id:`${a}_${w}`,onChange:()=>p(_?`${_}`:"")}),n.jsx("label",{className:"ms-sf-form-check-label",htmlFor:`${a}_${w}`,children:x})]},`${_}_${w}`))})]}),l&&n.jsx("span",{className:"ms-sf-label -small",children:l})]})},Ho=({collapsable:e=!1})=>{const{t}=U(),s=" Sq.Ft.",a=O(),{isAiActive:l}=H(),{filters:o,defaultMainSettings:i,aiFilters:c}=R();function m(r){if(l&&c?.min_lotsize){a(z({min_lotsize:r}));return}a(T({min_lotsize:r}))}function u(r){if(l&&c?.max_lotsize){a(z({max_lotsize:r}));return}a(T({max_lotsize:r}))}function f(){let r="";const{min_lotsize:d,max_lotsize:h}=o;if(d!==i.min_lotsize||h!==i.max_lotsize){if(d){const v=ns.find(({value:b})=>b===d)?.label||`${Number(d).toLocaleString("en")}${s}`;r+=`${v} - `}else r+="Any - ";if(h){const v=ls.find(({value:b})=>b===h)?.label||`${Number(h).toLocaleString("en")}${s}`;r+=v}else r+="Any";return r}}return n.jsx(K,{valuesSelected:f(),title:t("Land Size"),collapsable:e,dropdownList:!0,children:n.jsxs("div",{className:"ms-sf-flex",children:[n.jsx(ee,{options:Ce(ns,o.max_lotsize),handleChange:m,id:"lotSizeRangeMin",currentValue:o.min_lotsize,description:t("Minimum"),placeholder:t("Any"),suffix:s,maxValue:o.max_lotsize}),n.jsx("div",{className:"ms-sf-label",children:t("to")}),n.jsx(ee,{options:je(ls,o.min_lotsize),handleChange:u,id:"lotSizeRangeMax",currentValue:o.max_lotsize,description:t("Maximum"),placeholder:t("Any"),suffix:s,minValue:o.min_lotsize})]})})},Yo=({collapsable:e=!1})=>{const{t}=U(),s=" Sq.Ft.",a=O(),{isAiActive:l}=H(),{filters:o,defaultMainSettings:i,aiFilters:c}=R();function m(r){if(l&&c?.min_sqft){a(z({min_sqft:r}));return}a(T({min_sqft:r}))}function u(r){if(l&&c?.max_sqft){a(z({max_sqft:r}));return}a(T({max_sqft:r}))}function f(){let r="";const{min_sqft:d,max_sqft:h}=o;if(d!==i.min_sqft||h!==i.max_sqft){if(d){const v=ss.find(({value:b})=>b===d)?.label||`${Number(d).toLocaleString("en")}${s}`;r+=`${v} - `}else r+=`${t("Any")} - `;if(h){const v=as.find(({value:b})=>b===h)?.label||`${Number(h).toLocaleString("en")}${s}`;r+=v}else r+=t("Any");return r}}return n.jsx(K,{valuesSelected:f(),title:t("Living Size"),collapsable:e,dropdownList:!0,children:n.jsxs("div",{className:"ms-sf-flex",children:[n.jsx(ee,{options:Ce(ss,o.max_sqft),handleChange:m,id:"livingSizeRangeMin",currentValue:o.min_sqft,description:t("Minimum"),placeholder:t("Any"),suffix:s,maxValue:o.max_sqft}),n.jsx("div",{className:"ms-sf-label",children:t("to")}),n.jsx(ee,{options:je(as,o.min_sqft),handleChange:u,id:"livingSizeRangeMax",currentValue:o.max_sqft,description:t("Maximum"),placeholder:t("Any"),suffix:s,minValue:o.min_sqft})]})})},xs=({collapsable:e=!1})=>{const{t}=U(),s=O(),{priceRentRangeOptions:a,priceSaleRangeOptions:l,isAiActive:o}=H(),{filters:i,aiFilters:c}=R(),m=i.for===F.RENT?1e5:1e8,u=g.useMemo(()=>{const v=(i.for===F.RENT?a:l).map(b=>({...b,value:`${b.value}`}));return[{value:"",label:t("Any")},...v]},[i.for,a,l]);function f(p){if(o&&c?.min_price){s(z({min_price:p}));return}s(T({min_price:`${p}`}))}function r(p){if(o&&c?.max_price){s(z({max_price:p}));return}s(T({max_price:`${p}`}))}function d(){let p="";const{min_price:v,max_price:b}=i;if((!v||v==="0"||Number(v)===0)&&(!b||b==="0"||Number(b)===m))return e?"":t("Price");if(v){const y=ve(v);p+=Number(v)===0?"Any - ":`$${y} - `}else p+="$0 - ";if(b){const y=ve(b);p+=Number(b)===m?"Any Price":`$${y}`}else p+="Any Price";return p}function h(){const{min_price:p,max_price:v}=re(i.for);if(o&&(c?.min_price||c?.max_price)){s(z({...c?.min_price?{min_price:p}:{},...c?.max_price?{max_price:v}:{}}));return}s(T({min_price:p,max_price:v}))}return n.jsx(K,{valuesSelected:d(),className:"-price",iconClass:"sf-icon-dollar",title:t("Price"),collapsable:e,resetCTA:h,dropdownList:e,children:n.jsxs("div",{className:"ms-sf-flex",children:[n.jsx(ee,{options:Ce(u||Pn,i.max_price),handleChange:f,id:"priceRangeMin",currentValue:i.min_price,limitToAny:0,isInputMoney:!0,description:t("Minimum"),placeholder:t("Any"),maxValue:i.max_price}),n.jsx("div",{className:"ms-sf-label",children:"to"}),n.jsx(ee,{options:je(u||On,i.min_price),handleChange:r,id:"priceRangeMax",currentValue:i.max_price,limitToAny:m,isInputMoney:!0,description:t("Maximum"),placeholder:t("Any"),minValue:i.min_price})]})})},Ss=({collapsable:e=!1})=>{const{t}=U(),s=O(),{isAiActive:a}=H(),{filters:l,defaultMainSettings:o,aiFilters:i}=R();function c(h){if(a&&i?.min_beds){s(z({min_beds:h}));return}s(T({min_beds:h}))}function m(h){if(a&&i?.max_beds){s(z({max_beds:h}));return}s(T({max_beds:h}))}function u(h){if(a&&i?.min_baths){s(z({min_baths:h}));return}s(T({min_baths:h}))}function f(h){if(a&&i?.max_baths){s(z({max_baths:h}));return}s(T({max_baths:h}))}function r(){let h="";const{min_beds:p,max_beds:v,min_baths:b,max_baths:y}=l;if(e&&p===o.min_beds&&v===o.max_beds&&b===o.min_baths&&y===o.max_baths)return"";if(p){const _=Qt.find(({value:x})=>x===p);h+=`${_?.label||p} - `}if(v){const _=Xt.find(({value:x})=>x===v);h+=`${_?.label||v} `}if(h+=`${t("Bed")} / `,b){const _=es.find(({value:x})=>x===b);h+=`${_?.label||b} - `}if(y){const _=ts.find(({value:x})=>x===y);h+=`${_?.label||y} `}return h+=t("Bath"),h}function d(){const{min_beds:h,max_beds:p,min_baths:v,max_baths:b}=o;if(a&&(i?.min_beds||i?.max_beds||i?.min_baths||i?.max_baths)){s(z({...i?.min_beds?{min_beds:h}:{},...i?.max_beds?{max_beds:p}:{},...i?.min_baths?{min_baths:v}:{},...i?.max_baths?{max_baths:b}:{}}));return}s(T({min_beds:h,max_beds:p,min_baths:v,max_baths:b}))}return n.jsxs(K,{valuesSelected:r(),className:"-rooms",iconClass:"sf-icon-bed",title:t("Rooms"),collapsable:e,resetCTA:d,dropdownList:!0,children:[n.jsx("span",{className:"ms-sf-sub-title",children:t("Bedrooms")}),n.jsxs("div",{className:"ms-sf-flex",children:[n.jsx(ee,{options:Ce(Qt,l.max_beds),handleChange:c,id:"bedsRangeMin",currentValue:l.min_beds,description:t("Minimum"),placeholder:t("Any"),format:!1,maxValue:l.max_beds}),n.jsx("div",{className:"ms-sf-label",children:"to"}),n.jsx(ee,{options:je(Xt,l.min_beds),handleChange:m,id:"bedsRangeMax",currentValue:l.max_beds,description:t("Maximum"),placeholder:t("Any"),format:!1,minValue:l.min_beds})]}),n.jsx("div",{className:"ms-sf-separator-line"}),n.jsx("span",{className:"ms-sf-sub-title",children:t("Bathrooms")}),n.jsxs("div",{className:"ms-sf-flex",children:[n.jsx(ee,{options:Ce(es,l.max_baths),handleChange:u,id:"bathsRangeMin",currentValue:l.min_baths,description:t("Minimum"),placeholder:t("Any"),format:!1,maxValue:l.max_baths}),n.jsx("div",{className:"ms-sf-label",children:"to"}),n.jsx(ee,{options:je(ts,l.min_baths),handleChange:f,id:"bathsRangeMax",currentValue:l.max_baths,description:t("Maximum"),placeholder:t("Any"),format:!1,minValue:l.min_baths})]})]})},ws=({collapsable:e=!1})=>{const t=O(),{filters:s,aiFilters:a}=R(),{priceRentRangeOptions:l,priceSaleRangeOptions:o,isAiActive:i}=H();function c(d){const h=Os[d];if(d===F.SOLD&&!h.find(({value:p})=>p===s.sort)){const p=h[0].value;t(T({sort:p}))}}function m(d){c(d),ea({value:d,onlyReturn:!1,isAiActive:i,handleUpdateAiFilters:h=>t(z(h)),aiFilters:a,handleUpdateRegularFilters:h=>t(T(h)),regularFilters:s,priceRentRangeOptions:l,priceSaleRangeOptions:o,handleDefaultMainSettings:h=>t(Ll(h))})}function u(d){t(T({lookup_previous_sold:d}))}const f=`${e?"min_":""}propertySearchItem`,r=Rs.find(({value:d})=>d===s.for)?.label||"For Sale";return n.jsx(K,{valuesSelected:xe(r),className:"-property-search",iconClass:"sf-icon-house-sale",title:xe("Property Search"),collapsable:e,children:n.jsxs("ul",{className:"ms-sf-property-search-list",children:[n.jsx("li",{className:`ms-sf-property-search-list-item ${e?"collapsed":""}`,children:n.jsx(Je,{id:F.SALE,name:f,label:xe("For Sale"),onChange:()=>m(F.SALE),checked:s.for===F.SALE})}),!te&&n.jsx("li",{className:`ms-sf-property-search-list-item ${e?"collapsed":""}`,children:n.jsx(Je,{id:F.RENT,name:f,label:xe("For Rent"),onChange:()=>m(F.RENT),checked:s.for===F.RENT})}),n.jsx("li",{className:`ms-sf-property-search-list-item ${e?"collapsed":""}`,children:n.jsx(Je,{id:F.SOLD,name:f,label:xe("Sold"),onChange:()=>m(F.SOLD),checked:s.for===F.SOLD,children:n.jsx(ut,{name:`${f}_sold`,className:"ms-sf-inner-list",options:ot.map(({label:d,value:h})=>({label:xe(d),value:h})),selectedValue:s.lookup_previous_sold,onChange:u})})})]})})},Ns=({collapsable:e=!1})=>{const{t}=U(),s=O(),{filters:a,defaultMainSettings:l,aiFilters:o}=R(),{includePendingContingent:i,propertyTypesOptions:c,isAiActive:m}=H(),u=c||Is;function f(v){const b=v.sort().join(",");if(m&&o?.type){s(z({type:b}));return}s(T({type:b}))}function r(){const v=a.hide_pending==="1"?void 0:"1";s(T({hide_pending:v}))}const d=t(te?"Realty Type":"Any Type"),h=t(te?"Realty Type":"Property Type");function p(){const v=a.type?.split(","),b=v?.length,y=u.find(({value:x})=>x===v?.[0])?.label||"",_=y?.length>15?y.split(" ").pop():y;return e?a.type===l.type?"":b&&b>1?`${b} Selected`:y:!a.type||!b||b>1?d:_}return n.jsxs(K,{valuesSelected:p(),className:"-property-type",iconClass:"sf-icon-houses",title:h,collapsable:e,children:[n.jsx(Wt,{name:`${e?"min-":""}property-type`,className:"ms-sf-property-type-list",options:u.map(({label:v,value:b})=>({label:t(v),value:b})),selectedValues:a.type?.split(","),onChange:f}),i&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"ms-sf-separator-line"}),n.jsx(Zt,{id:"property-contingent_active",label:t("Hide Pending / Contingent"),name:"contingent-property-status",onChange:r,checked:a.hide_pending==="1"})]})]})},Zo=({collapsable:e=!1})=>{const{t}=U(),{filters:s,defaultMainSettings:a,aiFilters:l}=R(),{isAiActive:o,waterfrontOptions:i}=H(),c=O(),m=i||$t;function u(r){if(o&&l?.wv){c(z({wv:r}));return}c(T({wv:r}))}function f(){if(s.wv!==a.wv)return s.wv?m.find(({value:d})=>d===s.wv)?.label:"Any"}return n.jsx(K,{valuesSelected:f(),title:t(te?"View Type":"Waterfront Description"),collapsable:e,children:n.jsx(ut,{name:"waterfront-options",className:"ms-sf-inner-list",options:m.map(({label:r,value:d})=>({label:t(r),value:d})),selectedValue:s.wv,onChange:u})})},Wo=({collapsable:e=!1})=>{const{t}=U(),s=O(),{filters:a,defaultMainSettings:l,aiFilters:o}=R(),{isAiActive:i}=H();function c(f){if(i&&o?.min_year){s(z({min_year:`${f}`}));return}s(T({min_year:`${f}`}))}function m(f){if(i&&o?.max_year){s(z({max_year:`${f}`}));return}s(T({max_year:`${f}`}))}function u(){let f="";const{min_year:r,max_year:d}=a;if(r!==l.min_year||d!==l.max_year){if(r&&r!=="0"){const p=os.find(({value:v})=>v===r)?.label||r;f+=`${p} - `}else f+="Any - ";if(d){const p=is.find(({value:v})=>v===d)?.label||d;f+=p}else f+="Any";return f}}return n.jsx(K,{valuesSelected:u(),title:t("Year Built"),collapsable:e,dropdownList:!0,children:n.jsxs("div",{className:"ms-sf-flex",children:[n.jsx(ee,{options:Ce(os,a.max_year),handleChange:c,id:"yearRangeMin",currentValue:a.min_year,description:t(te?"From":"Minimum"),placeholder:t("Any"),format:!1,maxValue:a.max_year}),n.jsx("div",{className:"ms-sf-label",children:te?"-":"to"}),n.jsx(ee,{options:je(is,a.min_year),handleChange:m,id:"yearRangeMax",currentValue:a.max_year,description:t(te?"To":"Maximum"),placeholder:t("Any"),format:!1,minValue:a.min_year})]})})},Cs=[{value:"grid",label:"Grid"},{value:"map",label:"Map"},{value:"list",label:"List"}],Jo=()=>{const{t:e}=U(),t=O(),{viewOption:s}=R(),a=g.useRef(null),[l,o]=g.useState(!1);function i(){o(!1)}qe(a,i);function c(u){t(Dt(u?.value))}const m=Cs.find(({value:u})=>u===s);return n.jsxs("div",{className:`ms-sf-wrapper -parent-view-type ${s}`,ref:a,children:[n.jsx("button",{className:`ms-sf-btn-action ${l?"active":""}`,onClick:()=>o(u=>!u),children:e(m?.label||"")}),n.jsx("ul",{className:"ms-sf-list",children:Cs.map(u=>{const f=u.value===s;return n.jsx("li",{children:n.jsx("button",{className:`ms-sf-btn-view ${f?"active":""}`,"data-view":u.value,onClick:()=>{c(u),i()},children:e(u.label)})},u.value)})})]})},Go=g.lazy(Ks),Ko=()=>{const{selectedEditCategoryId:e,editingCriteria:t}=ce(),s=me(),a=O();if(!B)return null;const{data:l,isFetching:o,isLoading:i}=ct({collectionId:s},{skip:k!=="edit"||!s}),c=o||i,m=l?.data?.name??(c?"Loading…":"Collection"),{data:u,isFetching:f}=va({collectionId:s},{skip:!s}),r=g.useMemo(()=>{const b={[M.Matches]:0,[M.Favorites]:0,[M.NotInterested]:0,[M.Unshared]:0,[M.Shared]:0,[M.Trash]:0};if(!u)return b;if(B==="lead"){const y=u?.matches,_=y?.subcategory;return{...b,[M.Matches]:y?.count??0,[M.Favorites]:Ne(_)?_.favorites??0:0,[M.NotInterested]:Ne(_)?_.not_interested??0:0}}return{...b,[M.Unshared]:u.unshared?.count??0,[M.Shared]:u.shared?.count??0,[M.Trash]:u.trash?.count??0}},[u]);function d(b){const y=yl(b);return wl(B,b).map(x=>{const w=r[x.code]??0,E=t&&x.code===M.Unshared;return{...x,count:w,label:f?`${x.label} (…)`:`${x.label} ${E?"":`(${w})`}`,disabled:t&&x.code!==y}})}const h=g.useMemo(()=>c||!l?.data.alertSchedule?[]:d(l?.data.alertSchedule),[c,l?.data.alertSchedule,r,f,t]);g.useEffect(()=>{h.length>0&&!e&&a(ms(h[0].code))},[h,e,a]);const p=g.useMemo(()=>h.findIndex(b=>b.code===e),[h,e]),v=()=>{if(k!=="edit"){bs();return}if(l?.data){const{notification:b,...y}=l.data;bs({...y,...b})}};return n.jsx("div",{className:"ms-collections-header",children:n.jsxs("div",{className:"ms-sf-wrapper-header",style:{justifyContent:k==="edit"?"space-between":"flex-end"},children:[k==="edit"&&n.jsxs("div",{className:"ms-categories",onMouseEnter:al,children:[n.jsx("span",{className:"ms-title",children:m}),n.jsx(g.Suspense,{fallback:null,children:n.jsx(Go,{model:h,className:"custom-tabmenu",activeIndex:p<0?0:p,onTabChange:b=>{a(ms(h[b.index].code)),a(ha(de.All)),a(X([]))},style:{height:60}})})]}),n.jsxs("div",{className:"ms-wrapper-buttons",children:[n.jsx("button",{className:"ms-btn-cpanel",onClick:()=>{const b=sa();window.location.replace(b)},children:n.jsx("span",{children:"Back to Collections"})}),B===Fe.Broker&&n.jsx("button",{className:"ms-btn-cpanel -primary","aria-label":"Save Collection",onClick:v,children:n.jsx("span",{children:k==="new"?"Save as Collection":"Save Collection"})})]})]})})},Qo=({selectedEditCategoryId:e,quantitySelected:t=0,onMove:s,disabled:a=!1})=>{const l=g.useMemo(()=>na(e),[e]);return B!=="broker"||k!=="edit"||!t?null:n.jsx(n.Fragment,{children:l.filter(o=>!(we[o].hideWhenTrash&&e===M.Trash)).filter(o=>!!we[o].dest).filter(o=>!!we[o].labelBulk).map(o=>{const i=we[o],c=typeof i.iconClass=="function"?i.iconClass():i.iconClass,m=i.labelBulk(t),u=()=>{i.dest&&s(i.dest)};return n.jsx("button",{className:"ms-sf-item ms-sf-btn -white",type:"button","aria-label":m,onClick:u,disabled:a,"aria-disabled":a,children:n.jsxs("span",{children:[n.jsx("i",{className:c})," ",m]})},o)})})},Xo=()=>{const{editingCriteria:e,selectedEditCategoryId:t,selectedSubcategoryId:s}=ce(),a=me(),l=O(),o=B==="broker"&&k==="edit"&&!e&&t===M.Shared,{data:i}=va({collectionId:a},{skip:!a});if(!o)return null;const c=i?.shared,m=c?.subcategory,u={all:c?.count??0,favorites:Ne(m)?m.favorites??0:0,comments:Ne(m)?m.comments??0:0,not_interested:Ne(m)?m.not_interested??0:0,tour_requested:Ne(m)?m.tour_requested??0:0},f=[{code:de.All,label:"All",count:u.all},{code:de.Favorites,label:"Favorites",count:u.favorites},{code:de.Comments,label:"Comments",count:u.comments},{code:de.NotInterested,label:"Not Interested",count:u.not_interested},{code:de.TourRequested,label:"Tour Requested",count:u.tour_requested}];function r(d){l(ha(d))}return n.jsx("div",{className:"chip-filter ms-flex",children:f.map(d=>n.jsxs("button",{onClick:()=>r(d.code),className:`chip ${d.code===s?"active":""}`,children:[!!d.accent&&n.jsx("span",{className:"dot",style:{backgroundColor:d.accent}}),d.label," (",d.count??0,")"]},d.code))})},ei=({placeholder:e="Search...",className:t=""})=>n.jsxs("div",{className:`ms-coll-search ${t}`,role:"search",children:[n.jsx("i",{className:"ms-coll-search__icon sf-icon-search-flat","aria-hidden":"true"}),n.jsx("input",{name:"CollectionsSearchInput",type:"text",className:"ms-coll-search__input",placeholder:e,"aria-label":e})]}),ti=g.lazy(ll),si=({data:e})=>{const t=O(),{t:s}=U(),{filters:a,count:l,query:o,params:i,thumbnails:c,viewOption:m}=R(),{isAiActive:u,selectedMlsCollections:f}=H(),{selectedEditCategoryId:r,editingCriteria:d}=ce(),h=e?.items||[],p=me(),[v]=ro(),{data:b}=ct({collectionId:p},{skip:k!=="edit"||!p}),[y,_]=g.useState(!1),x=()=>{if(h){if(y)t(X([]));else{const A=h.map(S=>S.mls_num);t(X(A))}_(A=>!A)}};g.useEffect(()=>{if(!h)return;const A=new Set(h.map(N=>N.mls_num)),S=f.filter(N=>A.has(N));S.length!==f.length&&t(X(S)),_(S.length>0&&S.length===h.length)},[h,f,t]),g.useEffect(()=>{d&&t(X([]))},[d]);const w=f?.length,{width:E}=Be(),[C,L]=g.useState(!1),[$,{isLoading:j}]=ga(),P=a?.for!=="sold"&&!k;function V(){_a({filterParams:JSON.stringify(It(a)),count:`${l||0}`,searchCondition:JSON.stringify(o)})}g.useEffect(()=>{const A=()=>{const S=document.querySelector(".ms-sf-filter-header");S&&L(window.scrollY>S.offsetHeight)};return window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)}},[]);const G=ks(A=>{const S=document.querySelector(".ms-sf-filter-header"),N=mt("headers");S&&(S.style.top=`${N}px`);const q=mt("components"),Y=document.querySelector(".ms-sf-property-header-list");Y&&(Y.style.transition="top 0.2s ease",Y.style.top=`${N+q}px`);const I=document.querySelector(".ms-sf-filter-body");if(I){I.style.transition="padding 0.2s ease";const Q=mt("all"),W=B==="broker";I.style.paddingTop=(A||0)<768?"0":`${W?Q:q}px`}},400);g.useEffect(()=>{G(E)},[E,r]);const ue=g.useCallback(async A=>{if(!(!p||!f?.length))try{await $({collectionId:p,mls:f,status:A}).unwrap(),le.success(`${f.length} properties were moved to ${A}`),t(X([]))}catch(S){console.error("Bulk move failed:",S),le.error(`Failed to move ${f.length} properties to ${A}`)}},[p,f,$,t]);return g.useEffect(()=>{m&&(Us(),L(!1))},[m]),n.jsxs("div",{className:`ms-sf-filter-header ${C||m==="map"?"fixedHeader":""}`,style:k?{backgroundColor:"#F6F6F6"}:{},children:[n.jsx(Co,{}),n.jsx(Ko,{}),n.jsx(Xo,{}),n.jsxs("div",{className:`ms-flex ${te?"-district-wrapper":""}${u?"-ai-wrapper":""}`,children:[B==="broker"&&k==="edit"&&!d&&n.jsx(Zt,{id:"all_collections_check",name:"all_collections_check",label:"Select All",onlyCheck:!0,onChange:x,checked:y}),n.jsx("div",{className:"ms-sf-item -search",children:k!=="edit"||d?n.jsx(wo,{}):n.jsx(ei,{placeholder:s("Search by address")})}),!!k&&!!w&&n.jsx(g.Suspense,{fallback:null,children:n.jsx(ti,{layout:"vertical"})}),n.jsxs("div",{className:"ms-sf-item -touch-scroll",children:[!k||k==="new"?n.jsxs(n.Fragment,{children:[u&&n.jsx(Oo,{}),te&&n.jsx(ys,{}),n.jsx(ws,{}),n.jsx(xs,{}),n.jsx(Ss,{}),n.jsx(Ns,{})]}):n.jsx(n.Fragment,{}),(k!=="edit"||d)&&n.jsxs(yo,{buttonTitle:s("More"),title:s("Filters"),children:[te&&n.jsx(ys,{collapsable:!0}),n.jsx(ws,{collapsable:!0}),n.jsx(xs,{collapsable:!0}),n.jsx(Ss,{collapsable:!0}),n.jsx(Ns,{collapsable:!0}),n.jsx(zo,{collapsable:!0}),n.jsx(Bo,{collapsable:!0}),n.jsx(Yo,{collapsable:!0}),n.jsx(Ho,{collapsable:!0}),n.jsx(Wo,{collapsable:!0}),n.jsx(Zo,{collapsable:!0}),n.jsx(qo,{collapsable:!0}),n.jsx(Io,{collapsable:!0})]}),!!r&&n.jsx(Qo,{selectedEditCategoryId:r,quantitySelected:w,onMove:ue,disabled:j||!w}),P&&n.jsx("div",{className:"ms-sf-item -save",children:n.jsx("button",{className:"ms-sf-btn -xl -black -round","data-id":"#saveSearch",onClick:V,children:s("Save Search")})})]}),n.jsxs("div",{className:"ms-sf-switch-list",style:{display:"flex",gap:10,alignItems:"center"},children:[B==="broker"&&k==="edit"&&r===M.Unshared&&n.jsxs(n.Fragment,{children:[d&&n.jsx("button",{className:"ms-btn-cpanel",onClick:()=>{t(X([]));const A=b?.data.slug||"";t(vt(!1)),la({slug:A,dispatch:t})},children:n.jsx("span",{children:"CANCEL"})}),n.jsx("button",{className:"ms-btn-cpanel -primary","aria-label":"Save Criteria",onClick:async()=>{if(!d){t(vt(!0));return}try{await v({id:p,query:JSON.stringify(o||"{}"),_params:i,slug:aa(["view","show"])||"",thumbnail_images:c}).unwrap(),le.success("The search criteria for the collection has been updated."),t(vt(!1))}catch(A){console.log("An error occurred while trying to update the search criteria:",A),le.error("An error occurred while trying to update the search criteria.")}},children:n.jsx("span",{children:d?"SAVE CRITERIA":"EDIT CRITERIA"})})]}),n.jsx(Jo,{})]})]})]})};function ai({children:e,enabled:t=!0}){const a=g.useRef(rl()?"onInteraction":"idle").current,[l,o]=g.useState(!1),[i,c]=g.useState(a!=="onInteraction"),{defaultCoords:m}=R(),u=a==="onInteraction",f=u&&!l,r=!u&&!l,d=g.useMemo(()=>f?il(m):null,[f,m]);return g.useEffect(()=>{if(!t||!u||i)return;const h=()=>c(!0),p=["pointerdown","touchstart","keydown","wheel","scroll","pointerover"],v={passive:!0,once:!0};return p.forEach(b=>window.addEventListener(b,h,v)),()=>{p.forEach(b=>window.removeEventListener(b,h))}},[t,u,i]),g.useEffect(()=>{if(!t||u&&!i)return;let h=!1;const p=()=>tl().then(()=>!h&&o(!0));return a==="immediate"?p():a==="idle"?"requestIdleCallback"in window?window.requestIdleCallback(p):setTimeout(p,0):p(),()=>{h=!0}},[t,u,a,i]),t?l?n.jsx(n.Fragment,{children:e}):n.jsx("div",{className:"ms-sf-filter-map -loading",children:n.jsx("div",{className:"ms-sf-map-loading-layout",style:d?{backgroundImage:`url("${d}")`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:r&&n.jsx("div",{className:"sf-icon-map"})})}):null}const ni=({valuesSelected:e="",children:t,className:s="",title:a="",resetCTA:l,numberBadges:o,iconClass:i="",withScrolling:c=!1})=>{const{t:m}=U(),u=g.useRef(null),[f,r]=g.useState(!1),{count:d,loading:h}=R();function p(){r(!1)}return qe(u,p),g.useEffect(()=>{const v=document.querySelector("body"),b="open";v&&(f?v.classList.contains(b)||v.classList.add(b):v.classList.contains(b)&&v.classList.remove(b))},[f]),n.jsx("div",{className:`ms-sf-item ${s}`,ref:u,children:n.jsxs("div",{className:"ms-sf-dropdown -modal",children:[n.jsxs("button",{className:`ms-sf-btn-dropdown ${f?"active show":""}`,type:"button","aria-expanded":"false",onClick:()=>r(v=>!v),"data-type":"modal",children:[i&&n.jsx("i",{className:i}),n.jsx("span",{children:e}),!!o&&n.jsx("span",{className:"ms-sf-badge -black",children:o})]}),n.jsx("div",{className:"ms-sf-dropdown-menu",children:n.jsx("div",{className:"ms-sf-dropdown-item",children:n.jsxs("div",{className:"ms-sf-card",children:[n.jsxs("div",{className:"ms-sf-header-card",children:[n.jsx("span",{className:"ms-sf-card-title",children:a}),n.jsx("button",{type:"button",className:"ms-sf-card-close",onClick:p,children:m("Done")})]}),n.jsx("div",{className:`ms-sf-body-card ${c?"ms-sf-scroll":""}`,children:t}),n.jsxs("div",{className:`ms-sf-footer-card -no-padding-top ${l?"-flex":""}`,children:[l&&n.jsx("button",{className:"ms-sf-btn -md -round -standard",onClick:l,children:m("Reset")}),n.jsx("button",{className:`ms-sf-btn -black -md -round ${l?"":"-full"}`,onClick:p,disabled:h,children:h?m("Loading..."):`${m("View")} ${ve(d)} ${m("Properties")}`})]})]})})})]})})},js=()=>{const{t:e}=U(),t=O(),{defaultLocation:s}=R(),{editingCriteria:a}=ce(),l=!k||!!a,{clear:o}=ye();function i(){t(Ke(!0))}function c(){o();const{isMapFilter:m,...u}=ge();t(Pe({...u,...m?{}:s,...re(u.for)})),t(at({})),t(ma(u)),t(he(!0)),t(Ke(!1))}return n.jsx("div",{className:"ms-sf-search-message",children:n.jsxs("div",{className:"ms-sf-wrapper",children:[n.jsxs("div",{className:"ms-item",children:[n.jsx("img",{src:`${window.idx_main_settings?.paths||"/"}images/search.png`,alt:"No matching results",className:"ms-sf-img"}),n.jsxs("div",{className:"ms-message",children:[n.jsx("div",{className:"ms-message-title",children:e("No matching results...")}),l?n.jsxs("p",{children:[e("Modify your")," ",n.jsx("a",{onClick:i,children:e("filter")})," ",e("preferences to get new results or")," ",n.jsx("a",{onClick:c,children:e("clear")})," ",e("your search"),"."]}):n.jsx("p",{children:e("Update the status of properties according to your interest.")})]})]}),l&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"ms-message-subtitle",children:e("Search Tips")}),n.jsxs("div",{className:"ms-item -mgb",children:[n.jsx("span",{className:"sf-icon-filter"}),n.jsxs("div",{className:"ms-message",children:[n.jsx("strong",{children:e("Decrease the number of filters")}),n.jsx("p",{children:e("Adjust your criteria to be less restrictive, or remove very specific ones.")})]})]}),n.jsxs("div",{className:"ms-item -mgb",children:[n.jsx("span",{className:"sf-icon-guide"}),n.jsxs("div",{className:"ms-message",children:[n.jsx("strong",{children:e("Increase the scope of your search")}),n.jsx("p",{children:e("Search in a wider area (e.g., ZIP code to city), or move or zoom out on the map.")})]})]})]})]})})},li=({disabled:e=!1,pageSize:t=24})=>{const s=O(),{width:a}=Be(),{count:l=0,loading:o,filters:i,viewOption:c}=R(),m=Number(i.page)||1,u=g.useMemo(()=>a?c==="map"&&a<ie.EXTRA_LARGE?5:a<ie.MOBILE?3:7:1,[a,c]),f=Math.ceil(l/t)||1;if(g.useEffect(()=>{m>f&&s(T({page:String(f),meta:{isPaginationUpdate:!0}}))},[m,f,s]),o||l===0||f===1)return null;function r(p){e||p<1||p>f||s(T({page:String(p),meta:{isPaginationUpdate:!0}}))}function d(){const p=Math.floor(u/2);let v,b;f<=u?(v=1,b=f):m<=p?(v=1,b=u):m+p>=f?(v=f-u+1,b=f):(v=m-p,b=m+p);const y=[];for(let _=v;_<=b;_++)y.push(_);return y}const h=d();return n.jsx("div",{className:"ms-sf-property-list-pagination",children:n.jsxs("div",{className:"ms-sf-pagination",children:[n.jsx("button",{className:"ms-sf-btn -white -prev","aria-label":"Previous Page",type:"button",onClick:()=>r(m-1),disabled:e||m===1}),h.map(p=>n.jsx("button",{className:`ms-sf-btn -white ${m===p?"active":""}`,"aria-label":`Go to page ${p}`,type:"button",onClick:()=>r(p),disabled:e,children:p},p)),n.jsx("button",{className:"ms-sf-btn -white -next","aria-label":"Next Page",type:"button",onClick:()=>r(m+1),disabled:e||m===f})]})})},oi=g.lazy(()=>J(()=>import("./index-b4-w_cy3.js"),__vite__mapDeps([19,1,2,17,16,18]),import.meta.url)),ii=({data:e})=>{const{t}=U(),s=O(),{maxNumberMarkers:a,clusterMarkersActive:l}=H(),{viewOption:o,filters:i,loading:c,count:m,query:u}=R(),{map:f,freeHandPolygons:r}=_e(),{clear:d}=ye(),{editingCriteria:h}=ce(),[p,v]=g.useState(!1);g.useEffect(()=>{o==="map"&&v(!0)},[o]);const b=c,y=m,_=g.useMemo(()=>{const j=e?.map_items||[];return l?j:j.slice(0,a)},[e?.map_items,l,a]),x=e?.items||[],w=i?.for!=="sold"&&!k,E=r.data.length>0&&(!k||h&&k==="new"),C=j=>s(T({sort:j})),L=()=>_a({filterParams:JSON.stringify(It(i)),count:`${y||0}`,searchCondition:JSON.stringify(u)}),$=async()=>{f&&d(f)};return n.jsxs("div",{className:`ms-sf-filter-body ${o}`,children:[n.jsxs("div",{className:"ms-sf-wrapper-sorter",children:[n.jsx("div",{className:"ms-sf-flex-item",children:!!(b||y)&&n.jsx("div",{className:"ms-sf-label",children:`${b?t("Loading"):y?.toLocaleString("en")||0} ${t("Properties")}`})}),n.jsx("div",{className:"ms-sf-flex-item",children:!!y&&n.jsx(ri,{options:Os[`${i.for}`]?.map(({label:j,value:P})=>({label:t(j),value:P})),inline:!0,prevText:t("Sort by:"),value:i.sort,onChange:C})})]}),p&&n.jsx(g.Suspense,{fallback:null,children:n.jsx(ai,{enabled:p,children:n.jsx("div",{style:{display:o==="map"?"block":"none"},children:n.jsx(oi,{data:_,isLoading:b})})})}),["map","grid"].includes(`${o}`)&&n.jsx("div",{className:"ms-sf-filter-grid",children:n.jsx("div",{className:"ms-sf-property-list -grid",children:b||y?n.jsx(To,{items:x,loading:b}):n.jsx(js,{})})}),o==="list"&&n.jsx("div",{className:"ms-sf-filter-list",children:b||y?n.jsx("div",{className:"ms-sf-wrapper-table",children:n.jsxs("table",{className:"ms-sf-table",children:[n.jsx("thead",{className:"ms-sf-property-header-list",children:n.jsxs("tr",{children:[n.jsx("th",{className:"-address",children:n.jsx("div",{children:t("Address")})}),n.jsx("th",{className:"-price",children:n.jsxs("div",{children:[t("Price")," ",i.for===F.RENT&&`(${t("month")})`]})}),n.jsx("th",{className:"-price-status",children:n.jsx("div",{children:"% / $"})}),n.jsx("th",{className:"-bed",children:n.jsx("div",{children:t("Beds")})}),n.jsx("th",{className:"-bath",children:n.jsx("div",{children:t("Baths")})}),n.jsx("th",{className:"-living-size",children:n.jsx("div",{children:t("Living Size")})}),n.jsx("th",{className:"-price-sqft",children:n.jsxs("div",{children:[t("Price")," / Sq.Ft."]})}),n.jsx("th",{className:"-development",children:n.jsxs("div",{children:[t("Development")," / ",t("Subdivision")]})})]})}),n.jsx("tbody",{children:x.map((j,P)=>n.jsx(xa,{data:j,priority:P===0},j.mls_num))})]})}):n.jsx(js,{})}),n.jsx(li,{disabled:b}),(w||E)&&n.jsx("div",{className:"ms-sf-wrapper-float-view",children:n.jsxs("div",{className:"ms-sf-float-view",children:[w&&n.jsxs("button",{className:"ms-sf-btn -white -save","data-id":"#saveSearch",onClick:L,children:[n.jsx("i",{className:"sf-icon-diskette"})," ",t("Save Search")]}),E&&n.jsx("button",{className:"ms-sf-btn -remove -white",onClick:$,children:t("Clear Map")})]})})]})},ri=({options:e,value:t,prevText:s,inline:a,onChange:l,className:o=""})=>{const[i,c]=g.useState(t||e?.[0].value);g.useEffect(()=>{c(t||"")},[t]);function m(u){const f=u.target.value;c(f),l&&l(f)}return n.jsxs("div",{className:`${a?"ms-sf-sortBy-select":"ms-sf-wrapper-select"} ${o}`,children:[a&&s&&n.jsxs("label",{className:"ms-sf-label",children:[s," ",n.jsx("strong",{children:e?.find(u=>u.value===i)?.label})]}),n.jsx("select",{className:"ms-sf-select",value:i,onChange:m,children:e?.map(({value:u,label:f},r)=>n.jsx("option",{value:u,children:f},`${u}_${r}`))})]})},ci=()=>n.jsxs("tr",{className:"-loading",children:[n.jsx("td",{className:"-image",children:n.jsx("div",{className:"ms-sf-property-card-image"})}),n.jsx("td",{className:"-address",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-text-center -price",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-text-center -price-status",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-text-center -bed",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-text-center -bath",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-text-center -living-size",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-text-center -price-sqft",children:n.jsx("div",{className:"ms-sf-layout-loading"})}),n.jsx("td",{className:"-development",children:n.jsx("div",{className:"ms-sf-layout-loading"})})]}),xa=({data:e,priority:t=!1})=>{const s=O(),{favorites:a}=R(),[l]=ba(),{favoriteIcon:o,selectedMlsCollections:i}=H(),c=e.mls_status===2,m=e?.bath+(e?.baths_half?.5:0),u=e?.reduced_price!==null&&!isNaN(e?.reduced_price)?e?.reduced_price:0,f=it(e.sqft),r=c?e.price_sold||0:e.price,d=!!a[e.mls_num],h=i?.includes(e.mls_num),p=()=>{if(h){const b=i?.filter(y=>y!==e.mls_num);s(X(b));return}s(X([...i||[],e.mls_num]))};function v(){Ut({mlsNumber:e.mls_num,isSold:c})}return n.jsxs("tr",{style:{cursor:"pointer"},onClick:v,children:[n.jsx(ya,{data:e}),n.jsx("td",{className:"-image",children:n.jsx("div",{className:"ms-sf-property-card-image",children:n.jsx(Ht,{url:e.thumbnail_url,eager:t})})}),n.jsx("td",{className:"-address",children:n.jsxs("div",{className:"ms-sf-flex",children:[B==="broker"&&k==="edit"&&n.jsx("button",{className:`ms-sf-btn -favorite -sm ${h?"active":""}`,"aria-label":"Select",type:"button",onClick:b=>{b.stopPropagation(),p()},children:n.jsx("i",{className:"sf-icon-square"})}),!c&&!k&&n.jsx("button",{className:`ms-sf-btn -favorite -sm ${d?"active":""}`,"aria-label":"Favorite",type:"button",onClick:b=>{b.stopPropagation(),Ft()&&l(e.mls_num)},children:n.jsx("i",{className:`sf-icon-${o}`})}),n.jsx("div",{className:"ms-sf-ellipsis",children:e.full_address})]})}),n.jsx("td",{className:"-text-center -price",children:n.jsxs("strong",{children:[Te({amount:r}),!!e.is_rental&&n.jsx("span",{className:"ms-sf-property-card-price-suffix",children:"/month"}),u?n.jsxs("span",{className:`ms-sf-property-card-price-status ${u<0?"-down":"-up"}`,children:[Math.abs(u),"%"]}):n.jsx("span",{})]})}),n.jsx("td",{className:"-text-center -price-status",children:u!==0&&n.jsxs("div",{className:`ms-sf-property-card-price-status ${u<0?"-down":"-up"}`,children:[Math.abs(u),"%"]})}),n.jsx("td",{className:"-text-center -bed",children:n.jsxs("div",{children:[e.bed," ",n.jsx("span",{children:"Beds"})]})}),n.jsx("td",{className:"-text-center -bath",children:n.jsxs("div",{children:[m," ",n.jsx("span",{children:"Baths"})]})}),n.jsx("td",{className:"-text-center -living-size",children:n.jsxs("div",{children:[f.value," ",n.jsx("span",{children:f.measurement})]})}),n.jsx("td",{className:"-text-center -price-sqft",children:n.jsxs("div",{children:[Te({amount:e.price_sqft})," ",n.jsx("span",{children:"/Sq.Ft"})]})}),n.jsx("td",{className:"-development",children:n.jsx("div",{className:"ms-sf-ellipsis",children:e.development||e.subdivision||""})})]})};xa.Skeleton=ci;const ui=typeof window.dataLayer<"u"&&window.__flex_g_settings.hasOwnProperty("has_dynamic_remarketing")&&window.__flex_g_settings.has_dynamic_remarketing=="1",Ge=Ie({reducerPath:"propertiesApi",baseQuery:Re({baseUrl:""}),refetchOnMountOrArgChange:!0,endpoints:e=>({getPropertiesByES:e.query({query:({showAllItems:t,...s})=>{const a=!t&&!!window.paramsMapSearch?.board?.hackbox,l={board_id:window.__flex_g_settings?.boardId||"1",...s,page:(Number(s.page||1)-1).toString(),...a&&{limit:"23"}};return{url:`${oe.IDXBOOST_SEARCH}/search`,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:tn},body:new URLSearchParams(l)}},onQueryStarted:async(t,{queryFulfilled:s})=>{try{const{data:a}=await s,{items:l}=a;if(ui&&l&&l.length){const o=l.map(i=>({id:i.mls_num,google_business_vertical:"real_estate"}));o.length&&window.dataLayer?.push({event:"view_item_list",items:o})}}catch(a){console.error("DataLayer Tracking Collection was failed",a)}}})})}),{useGetPropertiesByESQuery:di}=Ge,mi=()=>{Xl();const e=O(),t=me(),{data:s,isLoading:a,isFetching:l,isSuccess:o,isError:i}=ct({collectionId:t},{skip:k!=="edit"||!t});g.useEffect(()=>{if(k!=="edit")return;const A=sa();if(!t||i){window.location.replace(A);return}if(!a&&!l&&o){const S=s?.data?.slug||"";la({slug:S,dispatch:e})}},[t,a,l,o,i,s,e]);const[c]=Kl();_o({enabled:k==="edit",collectionId:t}),rn(async()=>{const A=await c("saved_listings");if("data"in A){const S=A.data.lead_info.saved_listings;if(S){const N=S.reduce((q,Y)=>(q[Y.mls_num]=Y,q),{});e($l(N))}}}),on(A=>{e(zt({[A]:void 0}))}),go();const{editingCriteria:m}=ce(),{filters:u,isFirstCenter:f,searchRunning:r,searchIsReset:d,viewOption:h,defaultLocation:p,aiFilters:v,baseInitialFilters:b,awaitingBootstrapFromSlug:y}=R(),_=k!=="edit"||!y,{map:x,freeHandPolygons:w}=_e(),{clear:E,draw:C}=Gl(),{clear:L}=ye(),$=As(u,500),{data:j,isLoading:P,isFetching:V,isSuccess:G}=di({...$,showAllItems:h==="list"},{skip:!_||!$.rect&&!$.polygon&&!$.keyword_main}),ue=g.useMemo(()=>j?.map_items.filter(A=>A.lat&&A.lng).map(A=>({lat:parseFloat(A.lat),lng:parseFloat(A.lng)}))||[],[j?.map_items]);return g.useEffect(()=>{if(_&&(e(El(P||V||!G)),!P&&!V&&G)){const A=tt("show"),S=tt("view")||h;if(e(ua(j._count)),e(da(j._query)),e(Ml(j._params)),k){const Z=_l(j.items??[]);e(Fl(Z))}const N=new URLSearchParams(j.slug);S&&N.append("view",S),A&&N.append("show",A);const q=bl(N,{baseDefaults:b,extraDefaults:{...p,page:"1",view:Oe()}});if(N.delete("view"),N.delete("show"),!k||k==="new"||k==="edit"&&m)rt(q);else{const Z=new URLSearchParams;A&&Z.set("show",A),hl(`${window.location.pathname}${Z.toString()?"?"+Z:""}`)}const Y=Object.fromEntries(N.entries()),I=ke(Y);if(e(T(I)),d){if(E(),w.data.length){const Z=w.data.flatMap(Me=>{const Le=Me.getPath();return Mt(Le)});ft(Z,x)}else En(p,x);e(he(!1));return}const Q=JSON.parse(I.keyword_main||"[]"),W=!!I.keyword_main&&!!Q.find(({key:Z})=>Z==="city"||Z==="district"||Z==="zip"),se=!!I.keyword_main&&!I.rect&&!I.zm;if(se&&!W){ft(ue,x),E();return}W&&Kn(I.keyword_main).then(Z=>{E(),C(x,...Z);const Me=w.data.flatMap(Le=>{const dt=Le.getPath(),D=[];return dt.forEach(ae=>D.push({lat:ae.lat(),lng:ae.lng()})),D});se&&(r||f)&&ft([...Z.flat(),...Me],x)}),Us()}},[_,j,P,V,G,e,x]),g.useEffect(()=>{if(!_)return;const A=()=>{const S=Ee(),N=Object.fromEntries(S.entries());if(!Object.entries(N).length){window.history.back();return}const{show:q,view:Y,...I}=ke(N),{isMapFilter:Q,...W}=ge(),se={...W,...I},Z=Q?{...Rt(S)?se:{...W,...re(W.for)}}:se;e(Dt(Y||Oe())),q&&Ut({mlsNumber:q}),e(Pe(Z))};return window.addEventListener("popstate",A),()=>{window.removeEventListener("popstate",A)}},[_,e]),g.useEffect(()=>{if(!_||!v)return;Object.entries(v).length&&e(he(!v.keyword_main));const{isMapFilter:A,...S}=ge(),N={...S,...A?{}:p,...re(v?.for||S.for),...v,...v.keyword_main?{polygon:void 0}:{}};e(Vt(!0)),e(he(!N.keyword_main)),(v?.keyword_main!==u.keyword_main||!v.keyword_main)&&(L(),E()),e(Pe(N))},[_,v]),n.jsxs("div",{className:`ms-sf-filter${Vs?" -breadcrumb":""}`,children:[n.jsx(si,{data:j}),n.jsx(ii,{data:j})]})};function fi(){const e=window.location.pathname;return g.useEffect(()=>{vl()},[]),n.jsx(n.Fragment,{children:n.jsx(Fa,{basename:e,children:n.jsx(Pa,{children:n.jsx(Oa,{index:!0,path:"/",element:n.jsx(mi,{})})})})})}const Sa=Va();Sa.startListening({matcher:za(T,Pe,ua,da),effect:async(e,t)=>{const s=t.getState();window.paramsMapSearch?.params&&(window.idx_data_filter_alert={count:`${s.data.count||0}`,condition:JSON.stringify(s.data.query||"{}"),params:JSON.stringify(It(s.data.filters))})}});var pi={VITE_APP_API_IDXBOOST:"https://api.idxboost.dev",VITE_APP_API_IDXBOOST_SEARCH:"https://api-idx-search.idxboost.dev",VITE_APP_API_AUTOCOMPLETE:"https://autocomplete.idxboost.dev",VITE_APP_ACCESS_TOKEN_SSO:"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJWcDdPdHNtNGktNUxuNktpSlRVT0dGZXEzNkl1SDFUZDA5MG9sS29WU2o0In0.eyJleHAiOjE3MzcxNDM5ODcsImlhdCI6MTczNDU1MTk4NywianRpIjoiNDQ2ZTVhMDMtY2QxMC00MTU0LThhMjQtYTk3ZTlkNzViN2VkIiwiaXNzIjoiaHR0cHM6Ly9zc28uaWR4Ym9vc3QuY29tL3JlYWxtcy9tY2kiLCJzdWIiOiI1YTdkY2QzNy05ZTNkLTRmMDctODllMC1lYWRiMGYwMDQ2MzUiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJMUUpiZHo4NHJlWWo1blp3OVBoWTVLcUI5WkEyVTlidCIsInNjb3BlIjoiaWR4IiwiY2xpZW50X2lkIjoiTFFKYmR6ODRyZVlqNW5adzlQaFk1S3FCOVpBMlU5YnQifQ.PCZ88QB-GZ5uGaw9NeU8R7S6DbvRWLdOKPvAJom7jgx4F77msDbvWPGxCv4B3fEdpGtAjUOupXriqlgapKqFddWAQIDRY8jNJcihLyJOTVKJhU3AocV2QSJnQn9Hdd6ypQbBgKUQdfvAxr2aw5eZIhILZzk8iRZDnjdyZ3J3GuMaQ8VZK53okxNh6H-hrRL_B1g8LbeE_NPzeiFRqAMeT-fh2VV68eMMzSDagupFTIhwqeZgm_NPCQZYwGYs2J5oZttVpnBxc2L2psC87eBJbaSmBL1eUkATYfq66BzTbQjQ3H1H9Pk5Ivpfzau1ZZ5DoDsHAX6qFEOmFiJl6YsZIg",VITE_APP_AI_SEARCH:"https://api-ia.idxboost.dev/api/search",VITE_APP_API_COLLECTIONS:"https://api-collections.idxboost.dev/api",VITE_GOOGLE_MAPS_LOCAL_KEY:"AIzaSyBU6VY2oHfII-RPAcZZu9qq843bpE3pLNo",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const hi=Ua({reducer:{ui:Sn,data:Il,map:Hl,collection:Jl,[Ge.reducerPath]:Ge.reducer,[We.reducerPath]:We.reducer,[Ye.reducerPath]:Ye.reducer,[Ue.reducerPath]:Ue.reducer,[Ze.reducerPath]:Ze.reducer},middleware:e=>e({serializableCheck:!1}).concat(Ge.middleware,We.middleware,Ye.middleware,Ue.middleware,Ze.middleware).prepend(Sa.middleware),devTools:pi.NODE_ENV!=="production"}),bi=window.idx_main_settings?.paths?.replace(/\/[^/]+\/?$/,"/")||"/";Ya.use(Ia).use(Za).use(Ra).init({returnObjects:!0,fallbackLng:"en",debug:!0,detection:{order:["htmlTag"],convertDetectedLanguage:e=>e.split("-")?.[0]||e},backend:{loadPath:`${bi}locales/{{lng}}/{{ns}}.json`}});qa.createRoot(document.getElementById("root-search")).render(n.jsx(Ha,{store:hi,children:n.jsx(Ba,{children:n.jsx(fi,{})})}));export{tt as $,cl as A,It as B,ul as C,dl as D,zs as E,Us as F,ne as G,Hs as H,Ys as I,it as J,ve as K,re as L,ge as M,Ft as N,Yn as O,Xe as P,Ii as Q,Ln as R,Zn as S,Ce as T,Oi as U,je as V,Ws as W,Ee as X,rt as Y,fl as Z,pl as _,Ps as a,hl as a0,Rt as a1,ta as a2,me as a3,sa as a4,aa as a5,bl as a6,vl as a7,na as a8,Ne as a9,Ni as aA,Vt as aB,zi as aC,T as aD,vo as aE,po as aF,Bi as aG,la as aa,_l as ab,yl as ac,wl as ad,Be as ae,qe as af,ba as ag,_e as ah,H as ai,R as aj,ce as ak,ye as al,ks as am,k as an,Ji as ao,ki as ap,ji as aq,Ci as ar,mt as as,Di as at,Dl as au,Ms as av,Ui as aw,Ut as ax,Si as ay,wi as az,Mi as b,Ei as c,Li as d,$i as e,Ti as f,An as g,Fi as h,Mt as i,ft as j,En as k,Pi as l,Mn as m,$n as n,kn as o,Ai as p,Fs as q,Wn as r,Ri as s,Pt as t,Gn as u,Zs as v,qi as w,Kn as x,Te as y,ke as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./toast.esm-BB62kO8l.js","./vendor-B1il49z_.js","./gmaps-BDODJA70.js","./index-XfXG2y6h.js","./index-ByNvCHXr.js","./index-4Bb7E7wr.js","./index-zIwQ1xhS.js","./index-Dds9rs_F.js","./index-BPOfsWe-.js","./index-NVElIVEC.js","./carousel-Cxy6evux.css","./tabmenu.esm-DeWSVEjs.js","./chips.esm-DCP3YKQE.js","./divider.esm-DavQwZZM.js","./inputnumber.esm-CAKCeCf2.js","./index-BfW9eQfF.js","./PropertyMarkerElement-DWdqjnfb.js","./state-MsRYJGzt.js","./i18n-Cmvy_zuU.js","./index-b4-w_cy3.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
