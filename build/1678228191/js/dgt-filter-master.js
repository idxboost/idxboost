var initial_title,initial_href,dataAlert,myLazyLoad,arraytest,arrayother,baths_slider,beds_slider,sqft_slider,lotsize_slider,price_sale_slider,price_rent_slider,year_built_slider,flex_filter_sort,flex_pagination,flex_search_rental_switch,flex_waterfront_switch,flex_parking_switch,flex_autocomplete,flex_autocomplete_inner,ib_min_price,ib_max_price,ib_min_rent_price,ib_max_rent_price,ib_min_beds,ib_max_beds,ib_min_baths,ib_max_baths,ib_m_types,ib_m_parking,ib_min_living,ib_max_living,ib_min_land,ib_max_land,ib_min_year,ib_max_year,ib_waterfront_switch,ib_m_features,IB_IS_REGULAR_FILTER_PAGE=!0,countClickAnonymous=0,textprueba="",inifil_default=4,idxboost_filter_countacti=!1,idxboostcondition="",current_year=(new Date).getFullYear(),ib_event_mobile=(filter_metadata.hasOwnProperty("condition")&&(idxboostcondition=filter_metadata.condition),filter_metadata.hasOwnProperty("params")&&(dataAlert=filter_metadata.params),!function(a){var t;a(function(){var e;t=a(".idxboost-filter-form"),!1===[1,2,3].includes(parseFloat(flex_idx_filter_params.boardId))&&(e=flex_idx_filter_params.params.amenities.map(function(e){return e.code}).indexOf("hopa"),flex_idx_filter_params.params.amenities.splice(e,1)),t.length&&t.each(function(){var e=a(this).find("input");e.length&&e.on("change",function(){var e=a(this).parent().serialize();console.log("change value form filter form #"+a(this).parent().data("filter-form-id")),console.log(e)})})})}(jQuery),!0),search_params=flex_idx_filter_params.params,baths_slider_values=_.pluck(search_params.baths_range,"value"),beds_slider_values=_.pluck(search_params.beds_range,"value"),sqft_slider_values=_.pluck(search_params.living_size_range,"value"),lotsize_slider_values=_.pluck(search_params.lot_size_range,"value"),price_rent_slider_values=_.pluck(search_params.price_rent_range,"value"),price_sale_slider_values=_.pluck(search_params.price_sale_range,"value"),year_built_slider_values=_.pluck(search_params.year_built_range,"value"),property_type_values=_.pluck(search_params.property_types,"value"),flex_ui_loaded=!1,$cuerpo=jQuery("body"),$ventana=jQuery(window),arraytest_pryueba="",currentfiltemid="",xDown=null,yDown=null,IB_SEARCH_FILTER_FORM=$("#flex-idx-filter-form"),$ibAdvanced=$(".ib-oadbanced"),IB_RG_PRICE_SALE=$("#range-price"),IB_RG_YEARBUILT=$("#range-year"),IB_RG_BEDROOMS=$("#range-beds"),IB_RG_BATHROOMS=$("#range-baths"),IB_RG_LIVINGSIZE=$("#range-living"),IB_RG_LANDSIZE=$("#range-land"),IB_RG_PARKING=$("#flex_parking_switch"),IB_RG_WATERFRONT=$("#flex_waterfront_switch"),IB_RG_AMENITIES=$(".amenities_checkbox"),IB_RG_PROPERTY_TYPE=$(".property_type_checkbox"),ib_moreFilter={},moreFilterHidden={};!function(L){L(function(){L("#filter-save-search").on("click",function(){var e,a=L(this).data("count");"yes"===__flex_g_settings.anonymous?(L("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),L("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),L("#modal_login").find(".item_tab").removeClass("active"),L("#tabRegister").addClass("active"),L("button.close-modal").addClass("ib-close-mproperty"),L(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),L("#modal_login h2").html(L("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=L(".header-tab a[data-tab='tabRegister']").attr("data-text"),L("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):"no"===__flex_g_settings.anonymous&&500<a?sweetAlert(word_translate.oops,word_translate.you_cannot_save_search_with_more_than_500_properties,"error"):(Z(L("#modal_save_search")),setTimeout(function(){L("#modal_properties_send").find(".close").click()},2e3))}),L("body").on("touchstart",".slider-generator .propertie",function(e){e.stopPropagation(),xDown=e.originalEvent.touches[0].clientX,yDown=e.originalEvent.touches[0].clientY}),L("body").on("touchmove",".slider-generator .propertie",function(e){var a,t;xDown&&yDown&&(a=e.originalEvent.touches[0].clientX,t=e.originalEvent.touches[0].clientY,a=xDown-a,t=yDown-t,Math.abs(a)>Math.abs(t)&&(e.preventDefault(),(0<a?L(this).find(".next"):L(this).find(".prev")).click()),yDown=xDown=null)}),L("#result-search").scroll(function(){new LazyLoad({callback_error:function(e){L(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),L(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})});var i,l,n,s=L("#mini-filters"),r=(s.length&&s.find("h4").on("click",function(){L(this).parents("li").toggleClass("expanded").siblings().removeClass("expanded")}),L("#filters"));r.length&&(i=L("#all-filters"),l=L("#wrap-filters"),r.on("click","button",function(){L("#mini-filters .price").addClass("expanded");var e=L(this).parent(),a=e.attr("class").split(" ")[0],t=s.find("li."+a);!t.length&&"all"!==a||(e.toggleClass("active").siblings().removeClass("active"),"all"===a?(i.hasClass("visible")?i.hasClass("individual")&&i.hasClass("visible")?i.removeClass("individual"):!i.hasClass("individual")&&i.hasClass("visible")&&i.removeClass("visible"):i.addClass("visible"),l.width(),l.width()<=640?i.css({top:l.outerHeight()+l.position().top+"px",left:"0px",height:"calc(100vh - "+(l.outerHeight()+r.find("li.save").outerHeight())+"px)"}):640<l.width()&&l.width()<=959?i.hasClass("neighborhood")?(i.removeAttr("style"),console.log("Widt all filter: "+i.width()+" | position left clicked: "+e.position().left+" | Li clicked widht: "+e.width()),i.css({top:l.outerHeight()+"px",right:"0",left:"auto",transform:"none"})):i.css({left:"0px",top:l.outerHeight()+"px",height:"calc(100vh - "+(l.outerHeight()+n.outerHeight())+"px)"}):(i.removeAttr("style"),i.css("top",l.outerHeight()+"px"))):(L("html").hasClass("fixed")&&L("html").removeClass("fixed"),e.hasClass("active")?(t.addClass("visible").siblings().removeClass("visible"),i.hasClass("individual")||(i.addClass("individual"),i.css("height","auto")),i.hasClass("visible")||i.addClass("visible"),i.css({top:l.outerHeight()+"px",left:e.position().left+e.outerWidth()/2-150+"px"})):(i.removeClass("visible"),t.removeClass("visible"),e.removeClass("active"),setTimeout(function(){i.removeClass("individual")},1e3*Number(i.css("transition-duration").replace("s",""))))))}),n=L("#apply-filters"),r=L("#filters"),n.length&&n.on("click",function(){r.find(".active button").trigger("click")}),L(document).on("mouseup",function(e){!i.hasClass("visible")||l.is(e.target)||0!==l.has(e.target).length||r.find(".active button").trigger("click")}),r.find(".mini-search, .save").on("click",function(){i.hasClass("visible")&&r.find(".active button").trigger("click")}))});var e,k,a=L("body"),t=L(window),l=(L("html, body"),t.on("load",function(){a.removeClass("loading")}),L(".filter-views"));function n(e){var a,t;e?l.find("ul").length||(e=l.find("option:selected").val(),l.find("option").each(function(){L(this).replaceWith('<li class="'+L(this).val()+'">'+L(this).text()+"</li>")}),(a=l.find("select")).replaceWith("<ul>"+a.html()+"</ul>"),l.find("."+e).addClass("active"),l.removeClass(e)):l.find("select").length||(a=l.find(".active").index(),e=l.find(".active").attr("class").split(" ")[0],l.find("li").each(function(){L(this).replaceWith('<option value="'+L(this).attr("class").split(" ")[0]+'">'+L(this).text()+"</option>")}),(t=l.find("ul")).replaceWith("<select>"+t.html()+"</select>"),l.find("option").eq(a).prop("selected",!0).siblings().prop("selected",!1),l.addClass(e))}l.length&&(e=L(".wrap-result"),l.on("change","select",function(){switch(console.log(l),L(this).find("option:selected").val()){case"grid":l.removeClass("list map").addClass("grid"),e.removeClass("view-list view-map").addClass("view-grid"),a.removeClass("view-list view-map"),L("#idx_view").val("grid");break;case"list":l.removeClass("grid map").addClass("list"),e.removeClass("view-grid view-map").addClass("view-list"),a.addClass("view-list").removeClass("view-map"),L("#idx_view").val("list");break;case"map":Q(),l.removeClass("list grid").addClass("map"),e.removeClass("view-list view-grid").addClass("view-map"),a.removeClass("view-list").addClass("view-map"),L("#idx_view").val("map"),setTimeout(function(){var e=c.getCenter(),a=c.getZoom();if(google.maps.event.trigger(c,"resize"),!1===m){for(var t=new google.maps.LatLngBounds,i=0,l=P.length;i<l;i++)t.extend(P[i].position);c.fitBounds(t)}else c.setCenter(e),c.setZoom(a)},100)}new LazyLoad({callback_error:function(e){L(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),L(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),l.on("click","li",function(){switch(currentfiltemid=L(this).parent("ul").parent("li").attr("filtemid"),L(this).addClass("active").siblings().removeClass("active"),L(this).attr("class").split(" ")[0]){case"grid":L(".idxboost-content-filter-"+currentfiltemid+" ").find(e).removeClass("view-list view-map").addClass("view-grid"),a.removeClass("view-list view-map");break;case"list":L(".idxboost-content-filter-"+currentfiltemid+" ").find(e).removeClass("view-grid view-map").addClass("view-list"),a.addClass("view-list").removeClass("view-map");break;case"map":L(".idxboost-content-filter-"+currentfiltemid+" ").find(e).removeClass("view-list view-grid").addClass("view-map"),a.removeClass("view-list").addClass("view-map")}new LazyLoad({callback_error:function(e){L(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),L(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),k=L("#wrap-list-result"),768<=t.width()&&n(!0),t.on("resize",function(){var e=t.width();768<=e?n(!0):e<768&&n(!1)}));var F,s=L("#result-search");s.length&&(s=L("#apply-filters"),F=L("#filters"),s.length&&s.on("click",function(){F.find(".active button").trigger("click")}));L("#neighborhood").length&&1280<=t.width()&&L("#neighborhood").perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"});var r,c,P,A,o,d,p,m,S,T,B,u,h,M,q,z,H,j,D,f,v,g,x,b,E,O,$,w,G,y,C=L("#neighborhood-menu"),s=(C.length&&C.on("click","li",function(){C.toggleClass("active"),L(this).addClass("active").siblings().removeClass("active")}),L("#map-actions")),N=(s.length&&s.on("click","button",function(){k.toggleClass("closed"),L(this).addClass("hide").siblings().removeClass("hide"),setTimeout(function(){google.maps.event.trigger(c,"resize"),setTimeout(function(){google.maps.event.trigger(c,"resize")},200)},100)}),700<=C.width()&&setTimeout(function(){var e,a,t,i,l,n,s=C.find("li"),r=s.length;r&&(e=0,s.each(function(){e+=L(this).outerWidth()}),a=e+Number(s.eq(0).css("margin-right").replace("px",""))*(r-1),t=C.find("ul"),i=Number(C.find(".gwr").width()),a<C.width()?(C.find("button").addClass("hide"),65<=Math.floor(100*a/i)&&t.addClass("flex")):(t.css("width",a+"px"),l=C.find(".next-item"),n=C.find(".prev-item"),l.on("click",function(){var e=s.eq(r-1);t.css("margin-left","-"+(i-e.position().left+e.width())+"px"),L(this).addClass("hide"),n.removeClass("hide")}),n.on("click",function(){t.css("margin-left","0"),L(this).addClass("hide"),l.removeClass("hide")})))},0),W(),t.resize(function(){W()}),L(".map-actions button")),s=(void 0!==N&&N.on("click",function(){N.removeClass("no-show"),L(this).addClass("no-show"),L("#wrap-list-result").toggleClass("hidden-results")}),L(".show-modal")),R=(void 0!==s&&s.on("click",function(){var e=L(this).attr("data-modal"),a=(L(this).attr("data-position"),L("#"+e).find(".lazy-img").attr("data-src"));void 0!==a&&L("#"+e).find(".lazy-img").attr("src",a).removeAttr("data-src"),Z(e)}),L(".modal_cm"),L("html"));function Z(e,a){var t=L("#"+e);t.hasClass("active_modal")?L(".overlay_modal").removeClass("active_modal"):(t.addClass("active_modal"),0==a?R.addClass("modal_fmobile"):R.addClass("modal_mobile")),Y(e)}function Y(e,a){var t,i=0==a?(t=L("#"+e).find(".close-btn"),"modal_fmobile"):(t=L("#"+e).find(".close"),"modal_mobile");t.click(function(){t.closest(".active_modal").removeClass("active_modal"),R.removeClass(i)}),L("#"+e).find(".overlay_modal_closer").click(function(){L("#"+e).removeClass("active_modal"),R.removeClass("modal_mobile")})}function W(){var e,a=L("#md-title");void 0!==a&&(e=L("#md-body").width(),a.css({width:e+"px"}))}function Z(e){e.hasClass("active_modal")?L(".overlay_modal").removeClass("active_modal"):(e.addClass("active_modal"),e.find("form").find("input").eq(0).focus(),L("html").addClass("modal_mobile")),Y(e)}function Y(e){var a=e.find(".close");a.click(function(){a.closest(".active_modal").removeClass("active_modal"),L("html").removeClass("modal_mobile")})}function Q(){null!=style_map_idxboost&&""!=style_map_idxboost&&(style_map=JSON.parse(style_map_idxboost)),c=new google.maps.Map(document.getElementById("code-map"),{center:new google.maps.LatLng(25.76168,-80.19179),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:18,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,disableDefaultUI:!0,clickableIcons:!1,styles:style_map,gestureHandling:"1"==__flex_g_settings.is_mobile?"greedy":"cooperative",streetViewControl:!0}),google.maps.event.addListenerOnce(c,"tilesloaded",ee),ie(filter_metadata.map_items)}function U(e){e.stopPropagation(),e.preventDefault(),c.setZoom(c.getZoom()+1)}function V(e){e.stopPropagation(),e.preventDefault(),c.setZoom(c.getZoom()-1)}function X(e){e.stopPropagation(),e.preventDefault(),c.setMapTypeId(google.maps.MapTypeId.HYBRID),L(this).hasClass("is-active")?(L(this).removeClass("is-active"),c.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(L(this).addClass("is-active"),c.setMapTypeId(google.maps.MapTypeId.HYBRID))}function U(e){e.stopPropagation(),e.preventDefault(),c.setZoom(c.getZoom()+1)}function V(e){e.stopPropagation(),e.preventDefault(),c.setZoom(c.getZoom()-1)}function J(){var e,a=c.getDiv().firstChild;K(a)?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():(e=a).requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen(),document.onwebkitfullscreenchange=document.onmsfullscreenchange=document.onmozfullscreenchange=document.onfullscreenchange=function(){K(a)?fullscreenControl.classList.add("is-fullscreen"):fullscreenControl.classList.remove("is-fullscreen")}}function K(e){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)==e}function ee(){(o=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),o.appendChild(fullscreenControl),(d=document.createElement("div")).classList.add("flex-map-zoomIn"),o.appendChild(d),(p=document.createElement("div")).classList.add("flex-map-zoomOut"),o.appendChild(p),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),o.appendChild(satelliteMapButton),google.maps.event.addDomListener(d,"click",U),google.maps.event.addDomListener(p,"click",V),google.maps.event.addDomListener(fullscreenControl,"click",J),google.maps.event.addDomListener(satelliteMapButton,"click",X),c.controls[google.maps.ControlPosition.TOP_RIGHT].push(o)}function ae(e,a=!0){var t=e.params,e=e.info,a=(ib_event_mobile=a,t.min_price),a=(null!=t.min_price&&("--"==t.min_price&&(a=0),ib_min_price.val(a)),t.max_price),i=(null!=t.max_price&&("100000000"==t.max_price&&(a="--"),console.log(ib_max_price),ib_max_price.val(a)),null!=t.min_rent_price&&ib_min_rent_price.val(t.min_rent_price),null!=t.max_rent_price&&ib_max_rent_price.val(t.max_rent_price),null!=t.min_beds&&ib_min_beds.val(t.min_beds),null!=t.max_beds&&ib_max_beds.val(t.max_beds),null!=t.min_baths&&ib_min_baths.val(t.min_baths),null!=t.max_baths&&ib_max_baths.val(t.max_baths),[]),a=(0==(i=null!=t.tab&&null!=t.tab&&""!=t.tab?t.tab:i).length&&(i=e.property_type.split("|")),console.log(i),ib_m_types.find(":input").each(function(e,a){a.checked=!1,Array.isArray(i)&&0<i.length&&-1===L.inArray(a.value,i)||L(a).click()}),null!=t.parking?ib_m_parking.find(":input").each(function(e,a){a.value==t.parking&&L(a).click()}):L(ib_m_parking.find(":input")[0]).click(),null!=t.min_sqft&&ib_min_living.val(t.min_sqft),t.max_sqft),e=(null!=t.max_sqft&&("80000"==t.max_sqft&&(a="--"),console.log(a),ib_max_living.val(a)),null!=t.min_lotsize&&ib_min_land.val(t.min_lotsize),t.max_lotsize),l=(null!=t.max_lotsize&&("80000"==t.max_lotsize&&(e="--"),console.log(e),ib_max_land.val(e)),null!=t.min_year&&ib_min_year.val(t.min_year),null!=t.max_year&&ib_max_year.val(t.max_year),null!=t.waterfront&&ib_waterfront_switch.val(t.waterfront),[]);null!=t.features&&null!=t.features&&""!=t.features&&(l=t.features),ib_m_features.find(":input").each(function(e,a){a.checked=!1,-1!==L.inArray(a.value,l)&&L(a).click()}),L("#ib-apply-filters-btn span").html(_.formatShortPrice(ib_filter_metadata.counter)+" "),ib_event_mobile=!0}function I(e){var R,I,k,F,E,O=parseInt(e,10);0<O||(O=0),!1!==flex_ui_loaded&&0!=idxboost_filter_countacti&&0!=ib_event_mobile&&(R=L(".flex-idx-filter-form:eq(0)").attr("filtemid"),e=L(".flex-idx-filter-form-"+R),I=e.attr("class"),I=".flex-idx-filter-form-"+R,k=".idxboost-content-filter-"+R+" #nav-results",F=".idxboost-content-filter-"+R+" #result-search",E=L("input[name='idx[oh]']").val(),e.length&&(e=e.serialize(),"undefined"!=typeof ajax_request_filter&&ajax_request_filter.abort(),ajax_request_filter=L.ajax({url:flex_idx_filter_params.ajaxUrl,type:"POST",data:e,dataType:"json",beforeSend:function(){L("#ib-apply-filters-btn").html(word_translate.searching+"...")},success:function(e){"yes"===__flex_g_settings.anonymous&&(a={search_url:location.href,search_count:e.counter,name:e.title,search_query:e.condition},localStorage.setItem("IB_SAVE_FILTER_PAYLOAD",JSON.stringify(a)));var a={sale_type:e.info.rental_type,min_beds:e.info.min_bedrooms,max_beds:e.info.max_bedrooms,min_baths:e.info.min_baths,max_baths:e.info.max_baths,min_living_size:e.info.min_living_size,max_living_size:e.info.max_living_size};if("undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&e.items.length){for(var t=_.pluck(e.items,"mls_num"),i=[],l=0,n=t.length;l<n;l++)i.push({id:t[l],google_business_vertical:"real_estate"});i.length&&dataLayer.push({event:"view_item_list",items:i})}var s,r,o=Math.min.apply(null,e.items.map(function(e){return parseInt(e.price)})),d=Math.max.apply(null,e.items.map(function(e){return parseInt(e.price)})),c=("undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&0!=e.items.length&&filter_metadata.hasOwnProperty("events")&&filter_metadata.events.hasOwnProperty("view_search_results")&&dataLayer.push({event:"view_display_filter",country:e.events.view_search_results.country,region:e.events.view_search_results.region,preferred_baths_range:[e.info.min_baths,e.info.max_baths],preferred_beds_range:[e.info.min_bedrooms,e.info.max_bedrooms],preferred_price_range:[o,d],property_type:e.info.rental_type}),L("#idx_filter_condition").val(e.condition),L(".filter_params_alert").val(JSON.stringify(a)),ae(e,!1),e.params),d=(console.log(c),ib_event_mobile=!1,IB_RG_PRICE_SALE.slider("option","values",(o=c.min_price,d=c.max_price,[null==o||"--"==o?0:D.indexOf(parseInt(o,10)),null==d||"--"==d?D.length-1:D.indexOf(parseInt(d,10))])),IB_RG_YEARBUILT.slider("option","values",(a=c.min_year,o=c.max_year,[null==a||"--"==a?0:j.indexOf(parseInt(a,10)),null==o||"--"==o?j.length-1:j.indexOf(parseInt(o,10))])),IB_RG_BEDROOMS.slider("option","values",(d=c.min_beds,o=c.max_beds,[null==d||"--"==d?0:q.indexOf(parseInt(d,10)),null==o||"--"==o?q.length-1:q.indexOf(parseInt(o,10))])),IB_RG_BATHROOMS.slider("option","values",(d=c.min_baths,o=c.max_baths,[null==d||"--"==d?0:M.indexOf(parseInt(d,10)),null==o||"--"==o?M.length-1:M.indexOf(parseInt(o,10))])),IB_RG_LIVINGSIZE.slider("option","values",(d=c.min_sqft,o=c.max_sqft,[null==d||"--"==d?0:z.indexOf(parseInt(d,10)),null==o||"--"==o?z.length-1:z.indexOf(parseInt(o,10))])),IB_RG_LANDSIZE.slider("option","values",(d=c.min_lotsize,o=c.max_lotsize,[null==d||"--"==d?0:H.indexOf(parseInt(d,10)),null==o||"--"==o?H.length-1:H.indexOf(parseInt(o,10))])),c.parking),o=(null!=c.parking&&""!=c.parking||(d="--"),IB_RG_PARKING.val(d),IB_RG_WATERFRONT.val(c.waterfront),IB_RG_AMENITIES.each(function(e,a){a.checked=!1,s=c.features,-1!==L.inArray(a.value,s)&&L(a).click()}),IB_RG_PROPERTY_TYPE.each(function(e,a){a.checked=!1,r=c.tab,-1!==L.inArray(a.value,r)&&L(a).click()}),ib_event_mobile=!0,e.items),p=[],m=[],u=e.pagination;L("#filter-save-search").data("count",e.counter),L("#properties-found-2").html(_.formatShortPrice(e.counter)),L("#ib-apply-filters-btn").html(word_translate.view+" <span>"+_.formatShortPrice(e.counter)+"</span> "+word_translate.properties),L("#fs_inner_c").html(_.formatShortPrice(e.counter)),L("#info-subfilters").html(word_translate.showing+" "+u.offset.start+" "+word_translate.to+" "+u.offset.end+" "+word_translate.of+" "+_.formatPrice(e.counter)+" "+word_translate.properties+"."),L("#title-subfilters").html("<span>"+e.heading+"</span>");for(l=0,n=o.length;l<n;l++){var h=e.items[l],f=(h.address_short=h.address_short.replace(/# /,"#"),h.address_large=h.address_large.replace(/ , /,", "),""),v=("1"==h.is_rental&&(f="/"+word_translate.month),h.address_large.split(", ")),v=(h.address_short,v[0],v[1],h.address_short.replace(/# /,"#"),v[0],v[1],p.push('<li data-geocode="'+h.lat+":"+h.lng+'" data-class-id="'+h.class_id+'" data-mls="'+h.mls_num+'" data-address="'+h.address_short+'" class="propertie">'),"5"==h.status?p.push('<div class="flex-property-new-listing">'+word_translate.rented+"</div>"):"2"==h.status?p.push('<div class="flex-property-new-listing">'+word_translate.sold+"</div>"):"1"!=h.status?p.push('<div class="flex-property-new-listing">'+h.status_name+"</div>"):"yes"!==h.recently_listed&&""==h.min_ago_txt||(0<h.min_ago&&""!=h.min_ago_txt?p.push('<div class="flex-property-new-listing">'+h.min_ago_txt+"</div>"):p.push('<div class="flex-property-new-listing">'+word_translate.new_listing+"</div>")),p.push('<h2 title="'+h.full_address+'" class="ms-property-address"><div class="ms-title-address -address-top">'+h.full_address_top+'</div><div class="ms-br-line">,</div><div class="ms-title-address -address-bottom">'+h.full_address_bottom+"</div></h2>"),p.push('<ul class="features">'),p.push('<li class="address">'+h.full_address+"</li>"),p.push('<li class="price">$'+_.formatPrice(h.price)+f+"</li>"),""==h.reduced?p.push('<li class="pr">'+h.reduced+"</li>"):h.reduced<0?p.push('<li class="pr down">'+h.reduced+"%</li>"):p.push('<li class="pr up">'+h.reduced+"%</li>"),word_translate.bed),v=1<h.bed?word_translate.beds:word_translate.bed,f=(p.push('<li class="beds">'+h.bed+" <span>"+v+" </span></li>"),word_translate.bath),f=1<h.bath?word_translate.baths:word_translate.bath,v=(0<h.baths_half?p.push('<li class="baths">'+h.bath+".5 <span>"+f+" </span></li>"):p.push('<li class="baths">'+h.bath+" <span>"+f+" </span></li>"),p.push('<li class="living-size"> <span>'+_.formatPrice(h.sqft)+"</span>"+word_translate.sqft+" </li>"),p.push('<li class="price-sf"><span>$'+h.price_sqft+" </span>/ "+word_translate.sqft+"</li>"),""!==h.development?p.push('<li class="development"><span>'+h.development+"</span></li>"):""!==h.complex?p.push('<li class="development"><span>'+h.complex+"</span></li>"):p.push('<li class="development"><span>'+h.subdivision+"</span></li>"),filter_metadata.hasOwnProperty("board_info")&&filter_metadata.board_info.hasOwnProperty("board_logo_url")&&""!=filter_metadata.board_info.board_logo_url&&null!=filter_metadata.board_info.board_logo_url&&p.push('<li class="ms-logo-board"><img src="'+filter_metadata.board_info.board_logo_url+'"></li>'),p.push("</ul>"),"");h.gallery.length<=1&&(v="no-zoom"),p.push('<div class="wrap-slider '+v+'">'),p.push("<ul>");for(var g=0,x=h.gallery.length;g<x;g++)p.push(g<=0?'<li class="flex-slider-current"><img class="flex-lazy-image" data-original="'+h.gallery[g]+'"></li>':'<li class="flex-slider-item-hidden"><img class="flex-lazy-image" data-original="'+h.gallery[g]+'"></li>');p.push("</ul>"),1<h.gallery.length&&(p.push('<button class="prev flex-slider-prev"><span class="clidxboost-icon-arrow-select"></span></button>'),p.push('<button class="next flex-slider-next"><span class="clidxboost-icon-arrow-select"></span></button>')),h.hasOwnProperty("status")&&(h.is_favorite?p.push('<button class="clidxboost-btn-check flex-favorite-btn"><span class="clidxboost-icon-check active"></span></button>'):p.push('<button class="clidxboost-btn-check flex-favorite-btn"><span class="clidxboost-icon-check"></span></button>')),p.push("</div>"),p.push('<a href="'+flex_idx_filter_params.propertyDetailPermalink+"/"+h.slug+'" class="view-detail">'+h.full_address+"</a>"),p.push('<a class="view-map-detail" data-geocode="'+h.lat+":"+h.lng+'">View Map</a>'),"1"!=E||!h.hasOwnProperty("oh_info")||"object"==typeof(f=JSON.parse(h.oh_info))&&f.hasOwnProperty("date")&&f.hasOwnProperty("timer")&&p.push('<div class="ms-open"><span class="ms-wrap-open"><span class="ms-open-title">Open House</span><span class="ms-open-date">'+f.date+'</span><span class="ms-open-time">'+f.timer+"</span></span></div>"),p.push("</li>")}if(L(F).html(p.join("")).ready(function(){idxboostTypeIcon(),"function"==typeof ppchack&&ppchack(),te()}),1<u.total_pages_count){m.push('<span id="indicator">Pag '+u.current_page_number+" "+word_translate.of+" "+_.formatPrice(u.total_pages_count)+"</span>"),u.has_prev_page&&1<u.total_pages_count&&(m.push('<a href="#" data-page="1" title="First Page" id="firstp" class="ad visible">'),m.push('<span class="clidxboost-icon-arrow-select"></span>'),m.push('<span class="clidxboost-icon-arrow-select"></span>'),m.push("<span>First page</span>"),m.push("</a>")),u.has_prev_page&&(m.push('<a href="#" data-page="'+(u.current_page_number-1)+'" title="Prev Page" id="prevn" class="arrow clidxboost-icon-arrow-select prevn visible">'),m.push("<span>Previous page</span>"),m.push("</a>")),m.push('<ul id="principal-nav">');for(l=0,n=u.range.length;l<n;l++){var b=u.range[l];u.current_page_number===b?m.push('<li class="active"><a href="#" data-page="'+b+'">'+b+"</a></li>"):m.push('<li><a href="#" data-page="'+b+'">'+b+"</a></li>")}m.push("</ul>"),u.has_next_page&&(m.push('<a href="#" data-page="'+(u.current_page_number+1)+'" title="Prev Page" id="nextn" class="arrow clidxboost-icon-arrow-select nextn visible">'),m.push("<span>Next page</span>"),m.push("</a>")),u.has_next_page&&1<u.total_pages_count&&(m.push('<a href="#" data-page="'+u.total_pages_count+'" title="First Page" id="lastp" class="ad visible">'),m.push('<span class="clidxboost-icon-arrow-select"></span>'),m.push('<span class="clidxboost-icon-arrow-select"></span>'),m.push("<span>Last page</span>"),m.push("</a>"))}L(k).html(m.join("")),L(".flex-loading-ct").fadeIn();var w,d=[],o=(0==filter_metadata.info.rental_type?(console.log(!(null==L("#idx_min_price").val()&&null==L("#idx_max_price").val()||"--"==L("#idx_min_price").val()&&"--"==L("#idx_max_price").val()||"0"==L("#idx_min_price").val()&&"100000000"==L("#idx_max_price").val())),console.log(L("#idx_min_price").val()),console.log(L("#idx_max_price").val()),null==L("#idx_min_price").val()&&null==L("#idx_max_price").val()||"--"==L("#idx_min_price").val()&&"--"==L("#idx_max_price").val()||"0"==L("#idx_min_price").val()&&"100000000"==L("#idx_max_price").val()||d.push("price="+L("#idx_min_price").val()+"~"+L("#idx_max_price").val())):null==L("#idx_min_rent_price").val()&&null==L("#idx_max_rent_price").val()||"--"==L("#idx_min_rent_price").val()&&"--"==L("#idx_max_rent_price").val()||"0"==L("#idx_min_rent_price").val()&&"100000"==L("#idx_max_rent_price").val()||d.push("price_rent="+L("#idx_min_rent_price").val()+"~"+L("#idx_max_rent_price").val()),null==L("#idx_min_beds").val()&&null==L("#idx_max_beds").val()||"--"==L("#idx_min_beds").val()&&"--"==L("#idx_max_beds").val()||d.push("bed="+L("#idx_min_beds").val()+"~"+L("#idx_max_beds").val()),null==L("#idx_min_baths").val()&&null==L("#idx_max_baths").val()||"--"==L("#idx_min_baths").val()&&"--"==L("#idx_max_baths").val()||d.push("bath="+L("#idx_min_baths").val()+"~"+L("#idx_max_baths").val()),null==L("#idx_min_year").val()&&null==L("#idx_max_year").val()||"--"==L("#idx_min_year").val()&&"--"==L("#idx_max_year").val()||"1900"==L("#idx_min_year").val()&&L("#idx_max_year").val()==current_year||d.push("yearbuilt="+L("#idx_min_year").val()+"~"+L("#idx_max_year").val()),null==L("#idx_min_sqft").val()&&null==L("#idx_max_sqft").val()||"--"==L("#idx_min_sqft").val()&&"--"==L("#idx_max_sqft").val()||"0"==L("#idx_min_sqft").val()&&"80000"==L("#idx_max_sqft").val()||d.push("sqft="+L("#idx_min_sqft").val()+"~"+L("#idx_max_sqft").val()),null==L("#idx_min_lotsize").val()&&null==L("#idx_max_lotsize").val()||"--"==L("#idx_min_lotsize").val()&&"--"==L("#idx_max_lotsize").val()||"0"==L("#idx_min_lotsize").val()&&"80000"==L("#idx_max_lotsize").val()||d.push("lotsize="+L("#idx_min_lotsize").val()+"~"+L("#idx_max_lotsize").val()),null!=L("#idx_parking").val()&&"--"!=L("#idx_parking").val()&&""!=L("#idx_parking").val()&&d.push("parking="+L("#idx_parking").val()),null!=L("#idx_water_desc").val()&&"--"!=L("#idx_water_desc").val()&&d.push("waterdesc="+L("#idx_water_desc").val()),null!=L("#idx_features").val()&&""!=L("#idx_features").val()&&d.push("fea="+L("#idx_features").val()),null!=L("#idx_property_type").val()&&""!=L("#idx_property_type").val()&&d.push("type="+L("#idx_property_type").val()),null!=L("#idx_sort").val()&&"--"!=L("#idx_sort").val()&&d.push("sort="+L("#idx_sort").val()),null!=L("#idx_view").val()&&"--"!=L("#idx_view").val()&&d.push("view="+L("#idx_view").val()),null!=L("#idx_page").val()&&"--"!=L("#idx_page").val()&&d.push("pagenum="+L("#idx_page").val()),e.hasOwnProperty("only_count")&&!0===e.only_count&&(w=(w=(w=(o=L("#flex-idx-filter-heading_"+R)).data("heading")).replace(/\{\{count\}\}/,_.formatPrice(e.counter))).replace(/\{\{rental\}\}/,1==e.info.rental_type?" For Rent ":" For Sale "),o.find("h4").html(w)),flex_idx_filter_params.sitewp+"?"+d.join("&"));if(L("#idx-filter-min-btn_"+R).data("permalink",o),history.pushState(null,"",o),L("#search_count").val(e.counter),idxboostcondition=e.condition,dataAlert=e.params,L(I+" #flex-idx-search-form").data("save_count",e.counter),L(I+" #flex-idx-search-form").data("next_page",e.pagination.has_next_page),L(I+" #flex-idx-search-form").data("current_page",e.pagination.current_page_number),void 0!==A&&A.isOpen()&&A.close(),L("#paginator-cnt").show(),jQuery("#form-save .list-check .flex-save-type-options").removeAttr("disabled"),L(".wrap-result").hasClass("view-map")&&L("#wrap-list-result").scrollTop(0),S.length&&(S.length=0),T.length&&(T.length=0),B.length&&(B.length=0),P.length){for(var y=0,C=P.length;y<C;y++)P[y].setMap(null);P.length=0}L("html, body").animate({scrollTop:O},0),ie(e.map_items),myLazyLoad.update(),L("#wrap-result").find(".wrap-slider > ul li:first").each(function(){L(this).addClass("flex-slider-current")}),inifil_default=5}})))}function te(){var e=jQuery("#result-search li.propertie, .result-search li.propertie");idxboost_hackbox_filter.status&&""!=idxboost_hackbox_filter.result.content&&(e.length<3?e.eq(e.length-1):e.eq(2)).after('<li class="propertie button_properties"><div class="ppc-content ppc-video-box">'+idxboost_hackbox_filter.result.content+"</div></li>")}function ie(e){arrayother=e;var a,t,i,l=new google.maps.LatLngBounds;(A=new InfoBubble({map:c,disableAutoPan:!0,shadowStyle:0,padding:0,borderRadius:0,borderWidth:0,disableAnimation:!0,maxWidth:380})).addListener("domready",function(){L(".ib-load-property-iw").on("click",function(e){e.preventDefault(),e.stopPropagation();e=L(this).data("mls");console.log(e),originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),loadPropertyInModal(e)})});for(var n=0,s=e.length;n<s;n++)i=e[n],h=i.lat+":"+i.lng,-1===_.indexOf(S,h)&&(S.push(h),T.push(i));for(n=0,s=T.length;n<s;n++){i=T[n],h=[i.lat,i.lng];for(var r=[],o=0,d=e.length;o<d;o++)(inner=e[o]).lat==h[0]&&inner.lng==h[1]&&r.push(inner);B.push({item:i,group:r})}for(n=0;n<B.length;n++)t=B[n],(a=new RichMarker({position:new google.maps.LatLng(parseFloat(t.item.lat),parseFloat(t.item.lng)),map:c,flat:!0,draggable:!1,content:1<t.group.length?'<div class="dgt-richmarker-group"><strong>'+t.group.length+"</strong><span>Units</span></div>":'<div class="dgt-richmarker-single"><strong>$'+_.formatShortPrice(t.item.price)+"</strong></div>",anchor:RichMarkerPosition.TOP})).geocode=t.item.lat+":"+t.item.lng,l.extend(a.position),P.push(a),google.maps.event.addListener(a,"click",function(r,o,d){return function(){if(1<o.group.length){u.push('<div class="mapview-container">'),u.push('<div class="mapviwe-header">'),u.push("<h2>"+o.item.heading+"</h2>"),u.push('<span class="build">'+o.group.length+"</span>"),u.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),u.push("</div>"),u.push('<div class="mapviwe-body">');for(var e=0,a=o.group.length;e<a;e++){var t=o.group[e],i=(u.push('<div class="mapviwe-item">'),u.push('<h2 title="'+t.address_short.replace(/# /,"#")+'"><span>'+t.address_short.replace(/# /,"#")+"</span></h2>"),u.push("<ul>"),u.push('<li class="address"><span>'+t.address_large.replace(/ , /,", ")+"</span></li>"),u.push('<li class="price">$'+_.formatPrice(t.price)+"</li>"),word_translate.beds),l=word_translate.baths,i=1<t.bed?word_translate.beds:word_translate.bed,l=1<t.bath?word_translate.baths:word_translate.bath;u.push('<li class="beds"><b>'+t.bed+"</b> <span> "+i+"</span></li>"),u.push('<li class="baths"><b>'+t.bath+"</b> <span> "+l+"</span></li>"),u.push('<li class="living-size"> <span>'+_.formatPrice(t.sqft)+"</span> Sq.Ft.</li>"),u.push('<li class="price-sf"><span>$'+t.price_sqft+" </span>/ Sq.Ft.</li>"),u.push("</ul>"),u.push('<div class="mapviwe-img">'),__flex_g_settings.hasOwnProperty("board_info")&&__flex_g_settings.board_info.hasOwnProperty("board_logo_url")&&!["",null,void 0,"undefined","null"].includes(__flex_g_settings.board_info.board_logo_url)?u.push('<img title="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'" alt="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'" src="'+t.gallery[0]+'"><img src="'+__flex_g_settings.board_info.board_logo_url+'" style="position: absolute;bottom: 10px;z-index: 2;width: 80px;right: 10px;height:auto">'):u.push('<img title="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'" alt="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'" src="'+t.gallery[0]+'">'),u.push("</div>"),u.push('<a class="ib-load-property-iw" data-mls="'+t.mls_num+'" href="'+flex_idx_filter_params.propertyDetailPermalink+"/"+t.slug+'" title="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'">'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+"</a>"),u.push("</div>")}}else{var n="",n=("1"==o.item.is_rental&&(n="/"+word_translate.month),u.push('<div class="mapview-container">'),u.push('<div class="mapviwe-header">'),u.push("<h2>"+o.item.heading+"</h2>"),u.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),u.push("</div>"),u.push('<div class="mapviwe-body">'),u.push('<div class="mapviwe-item">'),u.push('<h2 title="'+o.item.address_short.replace(/# /,"#")+'"><span>'+o.item.address_short.replace(/# /,"#")+"</span></h2>"),u.push("<ul>"),u.push('<li class="address"><span>'+o.item.address_large.replace(/ , /,", ")+"</span></li>"),u.push('<li class="price">$'+_.formatPrice(o.item.price)+n+"</li>"),word_translate.beds),s=word_translate.baths,n=1<o.item.bed?word_translate.beds:word_translate.bed,s=1<o.item.bath?word_translate.baths:word_translate.bath;u.push('<li class="beds"><b>'+o.item.bed+"</b> <span> "+n+"</span></li>"),u.push('<li class="baths"><b>'+o.item.bath+"</b> <span> "+s+"</span></li>"),u.push('<li class="living-size"> <span>'+_.formatPrice(o.item.sqft)+"</span> Sq.Ft.</li>"),u.push('<li class="price-sf"><span>$'+o.item.price_sqft+" </span>/ Sq.Ft. </li>"),u.push("</ul>"),u.push('<div class="mapviwe-img">'),__flex_g_settings.hasOwnProperty("board_info")&&__flex_g_settings.board_info.hasOwnProperty("board_logo_url")&&!["",null,void 0,"undefined","null"].includes(__flex_g_settings.board_info.board_logo_url)?u.push('<img title="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'" alt="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'" src="'+o.item.gallery[0]+'"><img src="'+__flex_g_settings.board_info.board_logo_url+'" style="position: absolute;bottom: 10px;z-index: 2;width: 80px;right: 10px;height:auto">'):u.push('<img title="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'" alt="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'" src="'+o.item.gallery[0]+'">'),u.push("</div>"),u.push('<a class="ib-load-property-iw" data-mls="'+o.item.mls_num+'" href="'+flex_idx_filter_params.propertyDetailPermalink+"/"+o.item.slug+'" title="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'">'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+"</a>"),u.push("</div>")}u.push("</div>"),u.push("</div>"),u.length&&(A.setContent(u.join("")),A.open(d,r),u.length=0)}}(a,t,c)),!1===/webOS|iPhone|iPad/i.test(navigator.userAgent)&&(google.maps.event.addListener(a,"mouseover",function(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX+1)}}(a)),google.maps.event.addListener(a,"mouseout",function(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX-1)}}(a)));void 0!==c&&c.fitBounds(l)}(r=jQuery).extend(!0,r.ui.slider.prototype,{pips:function(e){options={first:"number",last:"number",rest:"pip"},r.extend(options,e),this.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();var a=this.options.max-this.options.min;for(i=0;i<=a;i++){var t=r('<span class="ui-slider-pip"><span class="ui-slider-line"></span><span class="ui-slider-number">'+i+"</span></span>");0==i?(t.addClass("ui-slider-pip-first"),"number"==options.first&&t.addClass("ui-slider-pip-number"),0==options.first&&t.addClass("ui-slider-pip-hide")):a==i?(t.addClass("ui-slider-pip-last"),"number"==options.last&&t.addClass("ui-slider-pip-number"),0==options.last&&t.addClass("ui-slider-pip-hide")):("number"==options.rest&&t.addClass("ui-slider-pip-number"),0==options.rest&&t.addClass("ui-slider-pip-hide")),"horizontal"==this.options.orientation?t.css({left:100/a*i+"%"}):t.css({top:100/a*i+"%"}),this.element.append(t)}}}),L(function(){L("#wrap-list-result").on("scroll",function(){myLazyLoad.update()}),$ibAdvanced.length&&($ibAdvanced.on("click",function(){var e;window.innerWidth<990&&(Object.keys(ib_moreFilter).length<=0&&(L("#flex-idx-filter-form").find("input:hidden").each(function(){moreFilterHidden[L(this).attr("name")]=L(this).val()}),e=L(".ib-wrap-collapse"),L(e).find("input:radio, input:checkbox, select").each(function(){var e=L(this).attr("id"),a=L(this).val();-1!==L.inArray(L(this).attr("type"),["checkbox","radio"])?L(this).is(":checked")&&(ib_moreFilter[e]=a):"--"!=a&&""!=a&&(ib_moreFilter[e]=a)})),L(".ib-modal-filters-mobile").show())}),L(".ib-close-modal-filters-mobile").on("click",function(){L(".ib-modal-filters-mobile").hide(),L("body").removeClass("only-mobile")}),L("#ib-apply-clear").on("click",function(){var e;/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)?(IB_SEARCH_FILTER_FORM=L("#flex-idx-filter-form"),L.each(moreFilterHidden,function(e,a){IB_SEARCH_FILTER_FORM.find('[name="'+e+'"]').val(a)}),e=L(".ib-wrap-collapse"),L(e).find("input:radio, input:checkbox, select").each(function(){var e=L(this).attr("id");-1!==L.inArray(L(this).attr("type"),["checkbox","radio"])?L(this).prop("checked",null!=ib_moreFilter[e]):null!=ib_moreFilter[e]?L(this).attr("value",ib_moreFilter[e]).attr("selected","selected"):L(this).prop("selectedIndex",0)}),setTimeout(function(){IB_SEARCH_FILTER_FORM.trigger("submit")},250)):location.href=__flex_idx_search_filter_v2.searchFilterPermalink}),L("#ib-apply-filters-btn").on("click",function(){L(".ib-modal-filters-mobile").hide(),window.scrollTo(0,0)})),L("#result-search, .result-search").on("click",".view-detail",function(e){e.preventDefault();e=L(this).parent("li").data("mls");originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),loadPropertyInModal(e)}),0<document.getElementsByClassName("view-detail-no-link").length&&document.getElementsByClassName("view-detail-no-link")[0].addEventListener("click",function(e){e.preventDefault()}),L(".property_type_checkbox").change(function(e){var a=[],t=[];L(".property_type_checkbox:checked").each(function(){a.push(L(this).val())}),-1!=a.indexOf("2")&&t.push(word_translate.homes),-1!=a.indexOf("1")&&t.push(word_translate.condominiums),-1!=a.indexOf("tw")&&t.push(word_translate.townhouses),-1!=a.indexOf("mf")&&t.push(word_translate.multi_family),-1!=a.indexOf("valand")&&t.push(word_translate.vacant_land),5!=t.length&&0<a.length?L("#text-type").text(t.join(", ")):L("#text-type").text(word_translate.any_type)}),L("#result-search, .result-search").on("click",".flex-favorite-btn",function(e){e.stopPropagation(),e.preventDefault();var a,t,i,l=L(this);"yes"===__flex_g_settings.anonymous?(L("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),L("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),L("#modal_login").find(".item_tab").removeClass("active"),L("#tabRegister").addClass("active"),L("button.close-modal").addClass("ib-close-mproperty"),L(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),L("#modal_login h2").html(L("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=L(".header-tab a[data-tab='tabRegister']").attr("data-text"),L("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):(e=L(this).parents(".propertie").data("class-id"),a=L(this).parents(".propertie").data("mls"),t=L(this).parents(".propertie").data("address"),L(this).find(".clidxboost-icon-check").hasClass("active")?(L(this).find(".clidxboost-icon-check").removeClass("active"),i=L(this).attr("data-alert-token"),L.ajax({url:flex_idx_filter_params.ajaxUrl,method:"POST",data:{action:"flex_favorite",class_id:e,mls_num:a,type_action:"remove",token_alert:i},dataType:"json",success:function(e){L(l).attr("data-alert-token","")}})):(L(this).find(".clidxboost-icon-check").addClass("active"),L.ajax({url:flex_idx_filter_params.ajaxUrl,method:"POST",data:{action:"flex_favorite",class_id:e,mls_num:a,subject:t,search_url:window.location.href,type_action:"add"},dataType:"json",success:function(e){L(l).attr("data-alert-token",e.token_alert)}})))})}),null!==document.getElementById("code-map")&&(m=!(P=[]),S=[],T=[],B=[],u=[],google.maps.event.addDomListener(window,"load",function(){myLazyLoad=new LazyLoad({elements_selector:".flex-lazy-image",callback_load:function(){},callback_error:function(e){L(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),L(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}});var e=0,a=0;if(0<filter_metadata.items.length){if("undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&0<filter_metadata.items.length){for(var t=_.pluck(filter_metadata.items,"mls_num"),i=[],l=0,n=t.length;l<n;l++)i.push({id:t[l],google_business_vertical:"real_estate"});0<i.length&&dataLayer.push({event:"view_item_list",items:i})}e=Math.min.apply(null,filter_metadata.items.map(function(e){return parseInt(e.price)})),a=Math.max.apply(null,filter_metadata.items.map(function(e){return parseInt(e.price)}))}"undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&0!=filter_metadata.items.length&&filter_metadata.hasOwnProperty("events")&&dataLayer.push({event:"view_display_filter",country:filter_metadata.events.view_search_results.country,region:filter_metadata.events.view_search_results.region,preferred_baths_range:[filter_metadata.info.min_baths,filter_metadata.info.max_baths],preferred_beds_range:[filter_metadata.info.min_bedrooms,filter_metadata.info.max_bedrooms],preferred_price_range:[e,a],property_type:filter_metadata.info.rental_type})}),L(function(){L("#filter-views").on("click","li",function(){L(this).hasClass("map")?(Q(),setTimeout(function(){var e=c.getCenter(),a=c.getZoom();if(google.maps.event.trigger(c,"resize"),!1===m){for(var t=new google.maps.LatLngBounds,i=0,l=P.length;i<l;i++)t.extend(P[i].position);c.fitBounds(t)}else c.setCenter(e),c.setZoom(a)},100)):0,new LazyLoad({callback_error:function(e){L(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),L(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),(flex_pagination=L(".nav-results")).length&&flex_pagination.on("click","a",function(e){e.preventDefault();e=L(this).data("page"),currentfiltemid=L(this).parent("li").parent("ul").parent("nav").attr("filtemid"),"nextn"!=L(this).attr("id")&&"lastp"!=L(this).attr("id")&&"firstp"!=L(this).attr("id")&&"prevn"!=L(this).attr("id")||(currentfiltemid=L(this).parent("nav").attr("filtemid")),L(".nav-results-"+currentfiltemid+" ul#principal-nav li").removeClass("active"),L(".nav-results-"+currentfiltemid+" ul#principal-nav #page_"+e).addClass("active"),L(".flex-idx-filter-form-"+currentfiltemid+" #idx_page").val(e),e=L(".clidxboost-sc-filters");I(e=e.length?+L(".clidxboost-sc-filters").offset().top-100:0)}),L("#result-search").on("mouseover",">li",function(e){if(L(this).hasClass("propertie")){if(/webOS|iPhone|iPad/i.test(navigator.userAgent))return!1;var a=L(this).data("geocode");if(void 0!==a&&a.length)for(var t=0,i=P.length;t<i;t++)if(a==P[t].geocode){new google.maps.event.trigger(P[t],"click");break}}}),L("#result-search").on("mouseleave",">li",function(e){void 0!==A&&A.isOpen()&&A.close()}),L("#wrap-list-result").on("ps-y-reach-end",_.debounce(function(){var e=filter_metadata.pagination.has_next_page;filter_metadata.pagination.current_page_number;L("#filter-views").find(".map:eq(0)").hasClass("active")&&1==e&&console.log("map next page")},800))}),"undefined"!=typeof search_metadata&&(M=_.pluck(search_metadata.baths_range,"value"),q=_.pluck(search_metadata.beds_range,"value"),z=_.pluck(search_metadata.living_size_range,"value"),H=_.pluck(search_metadata.lot_size_range,"value"),j=_.pluck(search_metadata.year_built_range,"value"),D=_.pluck(search_metadata.price_sale_range,"value"),f=_.pluck(search_metadata.price_rent_range,"value"),L(function(){L(document).on("click",".ib-close-mproperty",function(e){e.preventDefault(),__flex_g_settings.hasOwnProperty("force_registration_forced")&&"yes"==__flex_g_settings.force_registration_forced&&L(".ib-pbtnclose").click()}),L(document).ready(function(){var e=window.location.search.split("&"),a=new URLSearchParams(window.location.search),e=(e.forEach(function(e){-1!=e.split("=")[0].indexOf("savesearch")&&"yes"!=flex_idx_filter_params.anonymous&&Z(L("#modal_login"))}),idxboost_filter_countacti=!0,flex_idx_filter_params.params),t=[];if(ib_min_price=L("#ib-min-price"),ib_max_price=L("#ib-max-price"),ib_min_rent_price=L("#ib-min-rent-price"),ib_max_rent_price=L("#ib-max-rent-price"),ib_min_beds=L("#ib-min-beds"),ib_max_beds=L("#ib-max-beds"),ib_min_baths=L("#ib-min-baths"),ib_max_baths=L("#ib-max-baths"),ib_m_types=L("#ib-flex-m-types"),ib_m_parking=L("#ib-flex-m-parking"),ib_min_living=L("#ib-min-living"),ib_max_living=L("#ib-max-living"),ib_min_land=L("#ib-min-land"),ib_max_land=L("#ib-max-land"),ib_min_year=L("#ib-min-year"),ib_max_year=L("#ib-max-year"),ib_waterfront_switch=L("#ib-flex-waterfront-switch"),ib_m_features=L("#ib-flex-m-features"),ib_min_price.length){(s=e.price_sale_range).splice(-1,1);for(var i=0,l=s.length;i<l;i++)"--"!=(n=s[i]).value&&0!=n.value||(n.label=word_translate.any),t.push('<option value="'+n.value+'">'+n.label+"</option>");t.length&&(ib_min_price.html(t.join("")),t.length=0)}if(ib_max_price.length){(s=e.price_sale_range).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++)"--"!=(n=s[i]).value&&0!=n.value||(n.label=word_translate.any),t.push('<option value="'+n.value+'">'+n.label+"</option>");t.length&&(ib_max_price.html(t.join("")),t.length=0)}if(ib_min_rent_price.length){(s=e.price_rent_range).splice(-1,1);for(i=0,l=s.length;i<l;i++)"--"!=(n=s[i]).value&&0!=n.value||(n.label=word_translate.any),t.push('<option value="'+n.value+'">'+n.label+"</option>");t.length&&(ib_min_rent_price.html(t.join("")),t.length=0)}if(ib_max_rent_price.length){(s=e.price_rent_range).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++)"--"!=(n=s[i]).value&&0!=n.value||(n.label=word_translate.any),t.push('<option value="'+n.value+'">'+n.label+"</option>");t.length&&(ib_max_rent_price.html(t.join("")),t.length=0)}if(ib_min_beds.length){s=e.beds_range,t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++){var n=s[i];t.push('<option value="'+n.value+'">'+n.label+"</option>")}t.length&&(ib_min_beds.html(t.join("")),t.length=0)}if(ib_max_beds.length){s=e.beds_range.reverse(),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++){n=s[i];t.push('<option value="'+n.value+'">'+n.label+"</option>")}t.length&&(ib_max_beds.html(t.join("")),t.length=0)}if(ib_min_baths.length){s=_.filter(e.baths_range,function(e){return!(e.value%1!=0)}),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++){n=s[i];t.push('<option value="'+n.value+'">'+n.label+"</option>")}t.length&&(ib_min_baths.html(t.join("")),t.length=0)}if(ib_max_baths.length){s=_.filter(e.baths_range,function(e){return!(e.value%1!=0)}).reverse(),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++){n=s[i];t.push('<option value="'+n.value+'">'+n.label+"</option>")}t.length&&(ib_max_baths.html(t.join("")),t.length=0)}if(ib_m_types.length){for(var s,i=0,l=(s=e.property_types).length;i<l;i++){var r="",r="Single Family Homes"==(n=s[i]).label?word_translate.single_family_homes:"Condominiums"==n.label?word_translate.condominiums:"Townhouses"==n.label?word_translate.townhouses:"Multi-Family"==n.label?word_translate.multi_family:"Vacant Land"==n.label?word_translate.vacant_land:n.label;t.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-types-checkboxes" type="checkbox" value="'+n.value+'" id="s_types_'+n.value+'"><label for="s_types_'+n.value+'">'+r+"</label></li>")}t.length&&(ib_m_types.html(t.join("")),t.length=0)}if(ib_m_parking.length){s=e.parking_options,t.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-parking-checkboxes" name="ib_m_s_parking" type="radio" value="--" id="s_parking_any"><label for="s_parking_any">'+word_translate.any+"</label></li>");for(i=0,l=s.length;i<l;i++){n=s[i];t.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input name="ib_m_s_parking" type="radio" value="'+n.value+'" id="s_parking_'+n.value+'"><label for="s_parking_'+n.value+'">'+n.label+"</label></li>")}t.length&&(ib_m_parking.html(t.join("")),t.length=0)}if(ib_min_living.length){(s=e.living_size_range).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++)"--"==(n=s[i]).value?t.push('<option value="'+n.value+'">'+n.label+"</option>"):t.push('<option value="'+n.value+'">'+_.formatPrice(n.label)+" Sq.Ft.</option>");t.length&&(ib_min_living.html(t.join("")),t.length=0)}if(ib_max_living.length){(s=e.living_size_range.reverse()).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++)"--"==(n=s[i]).value?t.push('<option value="'+n.value+'">'+n.label+"</option>"):t.push('<option value="'+n.value+'">'+_.formatPrice(n.label)+" Sq.Ft.</option>");t.length&&(ib_max_living.html(t.join("")),t.length=0)}if(ib_min_land.length){(s=e.lot_size_range).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++)"--"==(n=s[i]).value?t.push('<option value="'+n.value+'">'+n.label+"</option>"):t.push('<option value="'+n.value+'">'+_.formatPrice(n.label)+" Sq.Ft.</option>");t.length&&(ib_min_land.html(t.join("")),t.length=0)}if(ib_max_land.length){(s=e.lot_size_range.reverse()).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++)"--"==(n=s[i]).value?t.push('<option value="'+n.value+'">'+n.label+"</option>"):t.push('<option value="'+n.value+'">'+_.formatPrice(n.label)+" Sq.Ft.</option>");t.length&&(ib_max_land.html(t.join("")),t.length=0)}if(ib_min_year.length){(s=e.year_built_range).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++){n=s[i];t.push('<option value="'+n.value+'">'+n.label+"</option>")}t.push('<option value="'+current_year+'">'+current_year+"</option>"),t.length&&(ib_min_year.html(t.join("")),t.length=0)}if(ib_max_year.length){(s=e.year_built_range.reverse()).splice(-1,1),t.push('<option value="--">'+word_translate.any+"</option>"),t.push('<option value="'+current_year+'">'+current_year+"</option>");for(i=0,l=s.length;i<l;i++){n=s[i];t.push('<option value="'+n.value+'">'+n.label+"</option>")}t.push('<option value="1900">1900</option>'),t.length&&(ib_max_year.html(t.join("")),t.length=0)}if(ib_waterfront_switch.length){s=_.sortBy(e.waterfront_options,"name"),t.push('<option value="--">'+word_translate.any+"</option>");for(i=0,l=s.length;i<l;i++){var o="";o="Bay Front"==(n=s[i]).name?word_translate.bay_front:"Canal"==n.name?word_translate.canal:"Fixed Bridge"==n.name?word_translate.fixed_bridge:"Intracoastal"==n.name?word_translate.intracoastal:"Lake Front"==n.name?word_translate.lake_front:"Ocean Access"==n.name?word_translate.ocean_access:"Ocean Front"==n.name?word_translate.ocean_front:"Point Lot"==n.name?word_translate.point_lot:"River Front"==n.name?word_translate.river_front:"Mountains"==n.name?word_translate.mountains:"River"==n.name?word_translate.river:"Lagoon"==n.name?word_translate.lagoon:"Ocean"==n.name?word_translate.ocean:"Garden"==n.name?word_translate.garden:"Tennis Court"==n.name?word_translate.tennis_court:"Water"==n.name?word_translate.water:"Golf Course"==n.name?word_translate.golf_course:"Park Greenbelt"==n.name?word_translate.park_greenbelt:"Strip View"==n.name?word_translate.strip_view:"City"==n.name?word_translate.city:"Golf"==n.name?word_translate.golf:"Court yard"==n.name?word_translate.court_yard:"Pool"==n.name?word_translate.pool:"Mountain"==n.name?word_translate.mountain:"Lake"==n.name?word_translate.lake:n.name,t.push('<option value="'+n.code+'">'+o+"</option>")}t.length&&(ib_waterfront_switch.html(t.join("")),t.length=0)}if(ib_m_features.length){s=_.sortBy(e.amenities,"name"),console.log(s);for(i=0,l=s.length;i<l;i++)"equestrian"==(n=s[i]).code&&"3"!=flex_idx_filter_params.boardId||"loft"==n.code&&"5"!=flex_idx_filter_params.boardId||(o="",o="Swimming Pool"==n.name?word_translate.swimming_pool:"Golf Course"==n.name?word_translate.golf_course:"Tennis Courts"==n.name?word_translate.tennis_courts:"Gated Community"==n.name?word_translate.gated_community:"Lofts"==n.name?word_translate.lofts:"Penthouse"==n.name?word_translate.penthouse:"Waterfront"==n.name?word_translate.water_front:"Pets"==n.name?word_translate.pets:"Furnished"==n.name?word_translate.furnished:"Equestrian"==n.name?word_translate.equestrian:"Boat Dock"==n.name?word_translate.boat_dock:"Short Sales"==n.name?word_translate.short_sales:"Foreclosures"==n.name?word_translate.foreclosures:n.name,console.log(n.name),t.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-features-checkboxes" type="checkbox" value="'+n.code+'" id="s_amenity_'+n.code+'"><label for="s_amenity_'+n.code+'">'+o+"</label></li>"));t.length&&(ib_m_features.html(t.join("")),t.length=0)}ib_min_price.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[min_price]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_price.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[max_price]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_min_rent_price.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="min_rent_price"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_rent_price.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="max_rent_price"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_min_beds.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[min_beds]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_beds.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[max_beds]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_min_baths.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[min_baths]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_baths.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[max_baths]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_m_types.on("change","input",function(){var e=ib_m_types.find(":checked"),a=[];e.each(function(){a.push(L(this).val())}),IB_SEARCH_FILTER_FORM.find('[name="idx[tab]"]').val(a.join("|")),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit"),a.length=0}),ib_m_parking.on("click","input",function(){var e=L(this).val();"--"==e&&(e=""),IB_SEARCH_FILTER_FORM.find('[name="idx[parking]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_min_living.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[min_sqft]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_living.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[max_sqft]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_min_land.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[min_lotsize]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_land.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[max_lotsize]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_min_year.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[min_year]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_max_year.on("change",function(){var e=L(this).val();IB_SEARCH_FILTER_FORM.find('[name="idx[max_year]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_waterfront_switch.on("change",function(){var e=L(this).val();"--"!=e&&null!=e&&""!=e||(e="--"),IB_SEARCH_FILTER_FORM.find('[name="idx[waterfront]"]').val(e),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit")}),ib_m_features.on("change","input",function(){var e=ib_m_features.find(":checked"),a=[];e.each(function(){a.push(L(this).val())}),IB_SEARCH_FILTER_FORM.find('[name="idx[features]"]').val(a.join("|")),IB_SEARCH_FILTER_FORM.find('[name="idx[page]"]').val(1),IB_SEARCH_FILTER_FORM.trigger("submit"),a.length=0}),ae(ib_filter_metadata,!1),a.has("show")&&(e=a.get("show"),originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),loadPropertyInModal(e))}),IB_SEARCH_FILTER_FORM.length&&IB_SEARCH_FILTER_FORM.on("submit",function(e){void 0!==e&&e.preventDefault(),0!=ib_event_mobile&&I()}),v=L("#range-baths"),g=L("#range-beds"),x=L("#range-living"),b=L("#range-land"),E=L("#range-price"),O=L("#range-price-rent"),$=L("#range-year"),O.length&&O.slider({range:!0,min:0,max:f.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];L("#price_rent_from").val("$"+_.formatPrice(f[t])),L("#price_rent_to").val("$"+_.formatPrice(f[a]))},create:function(e,a){var t="--"===L("#idx_min_rent_price").val()?f[0]:parseInt(L("#idx_min_rent_price").val(),10),i="--"===L("#idx_max_rent_price").val()?f[f.length-1]:parseInt(L("#idx_max_rent_price").val(),10),l=L(this),n="--"===L("#idx_min_rent_price").val()?0:f.indexOf(t),s="--"===L("#idx_max_rent_price").val()?f.length-1:f.indexOf(i);l.slider("values",[n,s]),L("#price_rent_from").val("$"+_.formatPrice(t)),L("#price_rent_to").val("$"+_.formatPrice(i))},change:function(e,a){currentfiltemid=L(this).parent(".wrap-range").parent("div").parent("div").parent("li").parent("ul").parent("div").parent("div").parent("div").parent("div").parent("div").attr("filtemid");var t=a.values[0],a=a.values[1];idxboost_filter_countacti&&(L("#idx_min_rent_price").val(f[t]),L("#idx_max_rent_price").val(f[a]),I())}}),E.length&&E.slider({range:!0,min:0,max:D.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];L("#price_from").val("$"+_.formatPrice(D[t])),L("#price_to").val("$"+_.formatPrice(D[a]))},create:function(e,a){var t="--"===L("#idx_min_price").val()?D[0]:parseInt(L("#idx_min_price").val(),10),i="--"===L("#idx_max_price").val()?D[D.length-1]:parseInt(L("#idx_max_price").val(),10),l=L(this),t="--"===L("#idx_min_price").val()?0:D.indexOf(t),i="--"===L("#idx_max_price").val()?D.length-1:D.indexOf(i),n=L("#idx_min_price").val(),s=L("#idx_max_price").val(),n=0==n||"--"==n?"$0":"$"+_.formatPrice(n),s=0==s||"--"==s||1e8==s?word_translate.any_price:"$"+_.formatPrice(s);l.slider("values",[t,i]),L("#price_from").val(n),L("#price_to").val(s)},change:function(e,a){console.log("event"),currentfiltemid=L(this).parent(".wrap-range").parent("div").parent("div").parent("li").parent("ul").parent("div").parent("div").parent("div").parent("div").parent("div").attr("filtemid");var t=a.values[0],i=a.values[1],l=D[a.values[0]],n=D[a.values[1]],l=0==l||"--"==l?"$0":"$"+_.formatPrice(l),n=0==n||"--"==n||1e8==n?word_translate.any_price:"$"+_.formatPrice(n),l=D[a.values[0]],a=D[a.values[1]];"--"==l&&"--"==a||0==l&&0==a||0==l&&"--"==a||0==l&&1e8==a?L("#text-price").html(word_translate.any_price):("--"==a||1e8==a)&&!isNaN(l)&&0<l?L("#text-price").html("$"+_.formatShortPrice(l)+" - "+word_translate.any_price):L("#text-price").html("$"+_.formatShortPrice(l)+" - $"+_.formatShortPrice(a)),L("#price_to").val(n),idxboost_filter_countacti&&(L("#idx_min_price").val(D[t]),L("#idx_max_price").val(D[i]),L("#idx_page").val(1),I())}}),v.length&&v.slider({range:!0,min:0,max:M.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];console.log("From %s to %s",M[t],M[a])},create:function(e,a){var t="--"===L("#idx_min_baths").val()?M[0]:parseInt(L("#idx_min_baths").val(),10),i="--"===L("#idx_max_baths").val()?M[M.length-1]:parseInt(L("#idx_max_baths").val(),10),l=L(this),t="--"===L("#idx_min_baths").val()?0:M.indexOf(t),i="--"===L("#idx_max_baths").val()?M.length-1:M.indexOf(i);l.slider("values",[t,i])},change:function(e,a){var t=a.values[0],i=a.values[1],l=M[a.values[0]],a=M[a.values[1]],l=(0==l&&6==a||6==l&&6==a||0==l&&0==a?L("#text-baths").html(word_translate.any_baths):5<a?L("#text-baths").html(l+" - "+word_translate.any_baths):L("#text-baths").html(l+" - "+a+" "+word_translate.bath),M[t]==M[0]?"--":M[t]),a=M[i]==M[M.length-1]?"--":M[i];idxboost_filter_countacti&&(L("#idx_min_baths").val(l),L("#idx_max_baths").val(a),L("#idx_page").val(1),I())}}),L(".property_type_checkbox").on("change",function(){var e,a=L(".property_type_checkbox:checked");a.length?(e=[],a.each(function(){e.push(L(this).val())}),e.length&&L("#idx_property_type").val(e.join("|"))):L("#idx_property_type").val(property_type_values.join("|")),L("#idx_page").val(1),I()}),(flex_parking_switch=L("#flex_parking_switch")).length&&flex_parking_switch.on("change",function(){var e=L(this);L("#idx_parking").val(e.val()),L("#idx_page").val(1),I()}),(flex_waterfront_switch=L("#flex_waterfront_switch")).length&&flex_waterfront_switch.on("change",function(){var e=L(this);L("#idx_water_desc").val(e.val()),L("#idx_page").val(1),I()}),L(".amenities_checkbox").on("change",function(){var e,a=L(".amenities_checkbox:checked");a.length?(e=[],a.each(function(){e.push(L(this).val())}),L("#idx_features").val(e.join("|"))):L("#idx_features").val(""),L("#idx_page").val(1),I()}),(flex_search_rental_switch=L(".flex_search_rental_switch")).length&&flex_search_rental_switch.on("click",function(){var e=L(this);e.hasClass("active")||(flex_search_rental_switch.removeClass("active"),e.addClass("active"),L(".price_ranges_ct").hide(),"for-sale"==(e=e.attr("id"))?(L(".price_range_for_sale").show(),L("#idx_rental").val(0)):"for-rent"==e&&(L(".price_range_for_rent").show(),L("#idx_rental").val(1)),L("#idx_page").val(1),I())}),g.length&&g.slider({range:!0,min:0,max:q.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];console.log("From %s to %s",q[t],q[a])},create:function(e,a){var t="--"===L("#idx_min_beds").val()?q[0]:parseInt(L("#idx_min_beds").val(),10),i="--"===L("#idx_max_beds").val()?q[q.length-1]:parseInt(L("#idx_max_beds").val(),10),l=L(this),t="--"===L("#idx_min_beds").val()?0:q.indexOf(t),i="--"===L("#idx_max_beds").val()?q.length-1:q.indexOf(i);l.slider("values",[t,i])},change:function(e,a){var t=a.values[0],i=a.values[1],l=q[a.values[0]],a=q[a.values[1]],l=(0==l&&6==a||6==l&&6==a||0==l&&0==a?L("#text-beds").html(word_translate.any_beds):5<a?L("#text-beds").html(l+" - "+word_translate.any_beds):L("#text-beds").html(l+" - "+a+" "+word_translate.beds),q[t]==q[0]?"--":q[t]),a=q[i]==q[q.length-1]?"--":q[i];idxboost_filter_countacti&&(L("#idx_min_beds").val(l),L("#idx_max_beds").val(a),L("#idx_page").val(1),I())}}),x.length&&x.slider({range:!0,min:0,max:z.length-1,step:1,slide:function(e,a){var t=z[a.values[0]],i=z[a.values[1]],l=z[a.values[0]],a=z[a.values[1]],t=0==t||"--"==t?"0 "+word_translate.sqft:_.formatPrice(t)+" "+word_translate.sqft,i=0==i||"--"==i||8e4==i?word_translate.any_size:_.formatPrice(i)+" "+word_translate.sqft;2e4<=l&&(t=(l/43560).toFixed(2)+" Acre"),2e4<=a&&(i=(a/43560).toFixed(2)+" Acre"),L("#living_from").val(t),L("#living_to").val(i)},create:function(e,a){var t="--"===L("#idx_min_sqft").val()?z[0]:parseInt(L("#idx_min_sqft").val(),10),i="--"===L("#idx_max_sqft").val()?z[z.length-1]:parseInt(L("#idx_max_sqft").val(),10),l=L(this),t="--"===L("#idx_min_sqft").val()?0:z.indexOf(t),i="--"===L("#idx_max_sqft").val()?z.length-1:z.indexOf(i),l=(l.slider("values",[t,i]),L("#idx_min_sqft").val()),t=L("#idx_max_sqft").val(),i=L("#idx_min_sqft").val(),n=L("#idx_max_sqft").val(),l=0==l||"--"==l?"0 "+word_translate.sqft:_.formatPrice(l)+" "+word_translate.sqft,t=0==t||"--"==t||8e4==t?word_translate.any_size:_.formatPrice(t)+" "+word_translate.sqft;2e4<=i&&(l=(i/43560).toFixed(2)+" Acre"),2e4<=n&&(t=(n/43560).toFixed(2)+" Acre"),L("#living_from").val(l),L("#living_to").val(t)},change:function(e,a){var t=a.values[0],i=a.values[1],l=z[a.values[0]],n=z[a.values[1]],s=z[a.values[0]],a=z[a.values[1]],l=0==l||"--"==l?"0 "+word_translate.sqft:_.formatPrice(l)+" "+word_translate.sqft,n=0==n||"--"==n||8e4==n?word_translate.any_size:_.formatPrice(n)+" "+word_translate.sqft;2e4<=s&&(l=(s/43560).toFixed(2)+" Acre"),2e4<=a&&(n=(a/43560).toFixed(2)+" Acre"),L("#living_from").val(l),L("#living_to").val(n),idxboost_filter_countacti&&(L("#idx_min_sqft").val(z[t]),L("#idx_max_sqft").val(z[i]),L("#idx_page").val(1),I())}}),b.length&&b.slider({range:!0,min:0,max:H.length-1,step:1,slide:function(e,a){var t=H[a.values[0]],i=H[a.values[1]],l=H[a.values[0]],a=H[a.values[1]],t=0==t||"--"==t?"0 "+word_translate.sqft:_.formatPrice(t)+" "+word_translate.sqft,i=0==i||"--"==i||8e4==i?word_translate.any_size:_.formatPrice(i)+" "+word_translate.sqft;2e4<=l&&(t=(l/43560).toFixed(2)+" Acre"),2e4<=a&&(i=(a/43560).toFixed(2)+" Acre"),L("#land_from").val(t),L("#land_to").val(i)},create:function(e,a){var t="--"===L("#idx_min_lotsize").val()?z[0]:parseInt(L("#idx_min_lotsize").val(),10),i="--"===L("#idx_max_lotsize").val()?z[z.length-1]:parseInt(L("#idx_max_lotsize").val(),10),l=L(this),t="--"===L("#idx_min_lotsize").val()?0:z.indexOf(t),i="--"===L("#idx_max_lotsize").val()?z.length-1:z.indexOf(i),l=(l.slider("values",[t,i]),L("#idx_min_lotsize").val()),t=L("#idx_max_lotsize").val(),i=L("#idx_min_lotsize").val(),n=L("#idx_max_lotsize").val(),l=0==l||"--"==l?"0 "+word_translate.sqft:_.formatPrice(l)+" "+word_translate.sqft,t=0==t||"--"==t||8e4==t?word_translate.any_size:_.formatPrice(t)+" "+word_translate.sqft;2e4<=i&&(l=(i/43560).toFixed(2)+" Acre"),2e4<=n&&(t=(n/43560).toFixed(2)+" Acre"),L("#land_from").val(l),L("#land_to").val(t)},change:function(e,a){var t=a.values[0],i=a.values[1],l=H[a.values[0]],n=H[a.values[1]],s=H[a.values[0]],a=H[a.values[1]],l=0==l||"--"==l?"0 "+word_translate.sqft:_.formatPrice(l)+" "+word_translate.sqft,n=0==n||"--"==n||8e4==n?word_translate.any_size:_.formatPrice(n)+" "+word_translate.sqft;2e4<=s&&(l=(s/43560).toFixed(2)+" Acre"),2e4<=a&&(n=(a/43560).toFixed(2)+" Acre"),L("#land_from").val(l),L("#land_to").val(n),idxboost_filter_countacti&&(L("#idx_min_lotsize").val(H[t]),L("#idx_max_lotsize").val(H[i]),L("#idx_page").val(1),I())}}),$.length&&$.slider({range:!0,min:0,max:j.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];L("#year_from").val(j[t]),L("#year_to").val(j[a])},create:function(e,a){var t="--"===L("#idx_min_year").val()?j[0]:parseInt(L("#idx_min_year").val(),10),i="--"===L("#idx_max_year").val()?j[j.length-1]:parseInt(L("#idx_max_year").val(),10),l=L(this),n="--"===L("#idx_min_year").val()?0:j.indexOf(t),s="--"===L("#idx_max_year").val()?j.length-1:j.indexOf(i);l.slider("values",[n,s]),L("#year_from").val(t),L("#year_to").val(i)},change:function(e,a){var t=a.values[0],a=a.values[1];idxboost_filter_countacti&&(L("#idx_min_year").val(j[t]),L("#idx_max_year").val(j[a]),L("#idx_page").val(1),I())}})}),w=L("#flex-idx-filter-form"),window.saveFilterSearchForLead=function(){var e,a,t,i,l,n;__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&(e=location.href,/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&(e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(initial_href)?initial_href:flex_idx_filter_params.searchFilterPermalink+initial_href),a=w.find("#search_count").val(),t=w.find(".filter_condition").val(),i=filter_metadata.title,l=w.find(".filter_params_alert").val(),n=w.find("#filter_panel").val(),"no"===__flex_g_settings.anonymous&&L.ajax({type:"POST",url:flex_idx_filter_params.saveListings.replace(/{{filterId}}/g,n),data:{access_token:IB_ACCESS_TOKEN,search_rk:flex_idx_filter_params.rk,search_wp_web_id:flex_idx_filter_params.wp_web_id,flex_credentials:Cookies.get("ib_lead_token"),search_filter_id:w.data("filter-id"),search_url:e,search_count:a,search_condition:t,search_name:i,search_params:l},success:function(e){}}))},L(function(){L("#flex_idx_sort").data("permalink"),L("#flex_idx_sort").data("currpage"),G=L(".filter-views li"),y=L(".flex_idx_sort"),G.length&&G.on("click",function(){currentfiltemid=L(this).attr("filtemid"),L(this).hasClass("active")||(L(this).html().toLowerCase(),y.val())}),y.length&&y.on("change",function(){currentfiltemid=L(this).attr("filtemid");L("#filter-views li.active:eq(0)").html();var e=L(this).val();L(".flex-idx-filter-form-"+currentfiltemid+" #idx_sort").val(e),L(".flex-idx-filter-form-"+currentfiltemid+" #idx_page").val(1),I()}),flex_ui_loaded=!0})))}(jQuery),function(t){t(function(){void 0===myLazyLoad&&(myLazyLoad=new LazyLoad({elements_selector:".flex-lazy-image",callback_load:function(){},callback_error:function(e){t(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),t(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})),t(document).on("click",".flex-slider-prev",function(e){e.stopPropagation();var e=t(this).prev().find("li.flex-slider-current").index(),a=t(this).prev().find("li").length,e=0===e?a-1:e-1;t(this).prev().find("li").removeClass("flex-slider-current"),t(this).prev().find("li").addClass("flex-slider-item-hidden"),t(this).prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),myLazyLoad.update(),"yes"===__flex_g_settings.anonymous&&__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&3<=++countClickAnonymous&&(t("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),t("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),t("#modal_login").find(".item_tab").removeClass("active"),t("#tabRegister").addClass("active"),t("#modal_login #msRst").empty().html(t("#mstextRst").html()),t("button.close-modal").addClass("ib-close-mproperty"),a=t(".header-tab a[data-tab='tabRegister']").attr("data-text"),t("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(a),countClickAnonymous=0)}),t(document).on("click",".flex-slider-next",function(e){e.stopPropagation();var e=t(this).prev().prev().find("li.flex-slider-current").index();t(this).prev().prev().find("li").length-1<=e?e=0:e+=1,t(this).prev().prev().find("li").removeClass("flex-slider-current"),t(this).prev().prev().find("li").addClass("flex-slider-item-hidden"),t(this).prev().prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),myLazyLoad.update(),"yes"===__flex_g_settings.anonymous&&__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&3<=++countClickAnonymous&&(t("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),t("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),t("#modal_login").find(".item_tab").removeClass("active"),t("#tabRegister").addClass("active"),t("#modal_login #msRst").empty().html(t("#mstextRst").html()),t("button.close-modal").addClass("ib-close-mproperty"),e=t(".header-tab a[data-tab='tabRegister']").attr("data-text"),t("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e),countClickAnonymous=0)})})}(jQuery),function(e){e("#save-button-responsive").on("click",function(){e("#filter-save-search").click()}),e("body").on("click",".ib-requestinfo",()=>{e(".ib-cffitem:first-child input").focus()})}(jQuery),function(a){a(function(){a(window).on("popstate",function(e){console.group("[popstate]"),console.log(location.href),console.dir(e),console.groupEnd("[popstate]"),a("#modal_login").is(":visible")&&a(".close").click(),a(".ib-pbtnclose").click()})})}(jQuery);