_.mixin({formatPrice:function(r,e,t,n,i,o,u){t="\\d(?=(\\d{"+(t||3)+"})+"+(0<e?"\\D":"$")+")",r=Number(r).toFixed(Math.max(0,~~e));return(o&&u?o:"")+(i?r.replace(".",i):r).replace(new RegExp(t,"g"),"$&"+(n||","))+(o&&!u?o:"")},formatShortPrice:function(r){var e,r=Number(r);return r<1e3?r:r<1e4?(e=Math.ceil(r/100)/10)+"K":r<1e6?(e=Math.ceil(r/1e3))<100?String(e).substr(0,2)+"K":1e3<=e?"1M":e+"K":(e=r<1e7?Math.ceil(r/1e4)/100:Math.ceil(r/1e5)/10,(e=-1!==String(e,".")?String(e).substr(0,4):e)+"M")},sortByKey:function(r,e,t){return"ASC"===t?_.sortBy(r,e):_.sortBy(r,e).reverse()},getMinByKey:function(r,e){return _.min(r,function(r){return r[e]})},getMaxByKey:function(r,e){return _.max(r,function(r){return r[e]})},getMinPriceShort:function(r){return _.formatShortPrice(_.min(r))},getMaxPriceShort:function(r){return _.formatShortPrice(_.max(r))},getMLSImage:function(r,e){return["//retsimages.s3.amazonaws.com",r.substr(-2),e].join("/")}});