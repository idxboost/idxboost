var widthSize,activeHand,$sliderPrincipalCommunity=jQuery(".ms-community-slider");function createDataTable(e){jQuery(e).DataTable()}function sliderModal(e,t){var a,s=jQuery("#ms-modal-sp-slider").find("#ms-gen-slider");s.hasClass("gs-builded")||(jQuery(e).find("img").each(function(){var e=jQuery(this).attr("data-img"),e='<img src="'+(""!==e&&void 0!==e?e:jQuery(this).attr("src"))+'">';a+=e}),s.empty().html(a),s.greatSlider({type:"swipe",nav:!0,lazyLoad:!0,bullets:!1,startPosition:t+1}))}function removeSliderModal(){jQuery("#ms-modal-sp-slider").find(".ms-wrap-slider").remove(),jQuery("#ms-modal-sp-slider").append('<div class="ms-wrap-slider" id="ms-gen-slider"></div>')}$sliderPrincipalCommunity.length&&(activeHand="",widthSize=jQuery(window).width(),$sliderPrincipalCommunity.greatSlider({type:"swipe",navSpeed:1e3,lazyLoad:!0,nav:!0,bullets:!1,items:1,autoDestroy:!0,dragHand:activeHand=widthSize<768,drag:activeHand,touch:activeHand,layout:{bulletDefaultStyles:!1,wrapperBulletsClass:"clidxboost-gs-wrapper-bullets",resizeClass:"ms-resize",arrowPrevContent:"Prev",arrowNextContent:"Next"}})),jQuery(document).on("click",".ms-community-nav>ul>li>a",function(e){e.preventDefault(),jQuery(".ms-community-nav>ul>li>a").removeClass("active"),jQuery(this).addClass("active");e=jQuery(jQuery(this).attr("href")).offset().top-160;jQuery("html, body").animate({scrollTop:e},900)}),jQuery(document).on("click",".ms-btn-favorite",function(e){e.preventDefault(),jQuery(this).toggleClass("active")}),jQuery(document).on("click",".ms-aviable-format",function(e){e.preventDefault();e=jQuery(this).attr("data-show");jQuery(".ms-aviable-format").removeClass("active"),jQuery(this).addClass("active"),"ms-tab-list"==e?(jQuery(".ms-tab-grid").removeClass("active"),jQuery(".ms-tab-list").addClass("active")):(jQuery(".ms-tab-grid").addClass("active"),jQuery(".ms-tab-list").removeClass("active"))}),jQuery(document).on("click",".ms-btn-action",function(e){e.preventDefault();var t,a,e=jQuery(".ms-community-video"),s=jQuery(this).attr("data-type"),r=jQuery(".ms-community-wrap-media");"video"==s?jQuery(this).hasClass("active")||((t=createVideoCommunity(jQuery(this)))&&e.append(t),r.removeClass("photo map").addClass("video")):"map"==s?(t=jQuery(this).attr("data-map"),s=jQuery(this).attr("data-lat"),a=jQuery(this).attr("data-lng"),jQuery(this).hasClass("active")||(e.empty(),r.removeClass("active"),createMapCommunity(t,s,a),r.removeClass("photo video").addClass("map active"))):(e.empty(),r.removeClass("video map video").addClass("photo")),r.find(".ms-btn-action").removeClass("active"),jQuery(this).addClass("active")}),jQuery(document).on("click",".ms-btn-shared",function(e){e.preventDefault(),jQuery(".ms-wrap-shared").toggleClass("active")}),jQuery(document).on("click",".ms-btn-form",function(e){e.preventDefault(),jQuery(".ms-community-float-block").addClass("active")}),jQuery(document).on("click",".ms-commuty-close-modal",function(e){e.preventDefault(),jQuery(".ms-community-float-block").removeClass("active")}),jQuery(document).on("click",".ms-show-floorplans",function(e){e.preventDefault(),sliderModal("#"+jQuery(this).parents(".ms-sp-slider").attr("id"),jQuery(this).parents(".ms-floorplans-item").parent().index()),jQuery("body").addClass("ms-active-mds")}),jQuery(document).on("click",".ms-modal-sp-slider .ms-close",function(e){e.preventDefault(),removeSliderModal(),jQuery("body").removeClass("ms-active-mds")}),createDataTable("table.dataTableCC"),jQuery(document).on("click",".ms-full-screen",function(e){e.preventDefault();sliderModal("#ms-slider-cm",jQuery("#ms-slider-cm").find(".gs-item-active").index()),jQuery("body").addClass("ms-active-mds")});var $document=jQuery(document);function createVideoCommunity(e){var t,e=e.attr("data-video");if(void 0!==e)return-1!==(e=e.toString()).indexOf("youtube")?'<iframe allow="autoplay; encrypted-media" src="'+("https://www.youtube.com/embed/"+(e=-1!==(t=(e=-1!==(t=e.lastIndexOf("&"))?e.substring(0,t):e).indexOf("embed"))?"https://www.youtube.com/watch?v="+e.substring(t+6,t+17):e).substring(e.length-11,e.length)+"?autoplay=1;rel=0&showinfo=0")+'" frameborder="0" allowfullscreen></iframe>':-1!==e.indexOf("vimeo")?'<iframe allow="autoplay; encrypted-media" src="'+("https://player.vimeo.com/video/"+e.substring(e.indexOf(".com")+5,e.length).replace("/",""))+'" frameborder="0" allowfullscreen></iframe>':'<video controls autoplay src="'+e+'" width="100%" height="100%">'}function createMapCommunity(e,t,a){jQuery("#"+e).length&&(t={lat:parseFloat(t),lng:parseFloat(a)},a=new google.maps.Map(document.getElementById(e),{zoom:16,center:t,mapTypeControl:!1,fullscreenControl:!1}),new google.maps.Marker({position:t,map:a}))}function loadBoostBoxResize(){var a=jQuery("#boostBoxLateral"),s=a.html();jQuery(window).on("load resize",function(e){var t=a.find(".ms-wrap-boostbox");jQuery(window).width()<1023?jQuery("#boostBoxCentral").hasClass("active")||(jQuery("#boostBoxLateral").empty(),jQuery("#boostBoxLateral").removeClass("active"),jQuery("#boostBoxCentral").html(s),jQuery("#boostBoxCentral").addClass("active")):t.length||(jQuery("#boostBoxCentral").empty(),jQuery("#boostBoxCentral").removeClass("active"),jQuery("#boostBoxLateral").html(s),jQuery("#boostBoxLateral").addClass("active"))})}loadBoostBoxResize();