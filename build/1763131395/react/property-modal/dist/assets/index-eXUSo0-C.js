import{m as e,r as o,j as t}from"./bootstrap-Bugb4x76.js";import{r as s}from"./i18n-CBvvWIm0.js";import{u as a}from"./state-DCJ-GHTM.js";import{i as d,d as i}from"./index-D5DapvW3.js";import"./phone-input-DMd9JE98.js";const n=()=>{const n=a(),l=s.useRef(null),[r,c]=s.useState(""),[m,u]=s.useState(!1);s.useEffect(()=>{const e=e=>{const o=e.detail;o&&(c((e=>{const o=e.match(/(?:youtube\.com\/(?:watch\?v=|embed\/|shorts\/)|youtu\.be\/)([\w-]{11})/);if(o)return`https://www.youtube.com/embed/${o[1]}?autoplay=1&loop=0&rel=0&showinfo=0`;const t=e.match(/vimeo\.com\/(\d+)/);return t?`https://player.vimeo.com/video/${t[1]}?autoplay=1&loop=0`:e})(o.video_url)),u(!0))},o=()=>{u(!1),c("")};return window.addEventListener(d,e),window.addEventListener(i,o),()=>{window.removeEventListener(d,e),window.removeEventListener(i,o)}},[n]);const p=document.getElementById("wpadminbar"),f=p?.offsetHeight,[v,w]=s.useState(!1),h=s.useCallback(()=>{l.current&&(l.current.pause(),l.current.src="",l.current.load()),w(!1),setTimeout(()=>{e()},300)},[n]);if(s.useEffect(()=>{m&&setTimeout(()=>w(!0),100)},[m]),!m)return null;const y=document.getElementById("video-modal")||document.createElement("div");return y.id||(y.id="video-modal",document.body.appendChild(y)),o.createPortal(t.jsx("div",{className:"ms-sf-modal active "+(v?"in":""),tabIndex:-1,role:"dialog",id:"videoModal",children:t.jsx("div",{className:"ms-sf-modal-dialog",role:"document",children:t.jsxs("div",{className:"ms-sf-modal-content "+(v?"active":""),style:{top:f},children:[t.jsx("div",{className:"ms-sf-modal-body wrapperVideoModal",children:r.includes("youtube")||r.includes("vimeo")?t.jsx("iframe",{id:"video-iframe",height:"360",width:"643",allow:"autoplay; encrypted-media",allowFullScreen:!0,style:{border:0},src:r}):t.jsx("video",{id:"video-iframe",ref:l,src:r,controls:!0,autoPlay:!0,playsInline:!0,controlsList:"nodownload nofullscreen noremoteplayback"})}),t.jsx("button",{className:"ms-sf-btn -close-modal -circle -standard -sm js-close-st-modal","data-id":"#videoModal",onClick:h,children:t.jsx("i",{className:"sf-icon-close"})})]})})}),y)};export{n as default};
