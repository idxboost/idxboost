var map,bounds;!function(j){view_grid_type="grid";var s,z,I,e,t,a,r,q=[],D=[],O=[],M=[],p=[],i=jQuery("body"),l=jQuery(window);function d(){(e=document.createElement("div")).classList.add("flex-map-controls-ct"),(t=document.createElement("div")).classList.add("flex-map-zoomIn"),e.appendChild(t),(a=document.createElement("div")).classList.add("flex-map-zoomOut"),e.appendChild(a),google.maps.event.addDomListener(t,"click",o),google.maps.event.addDomListener(a,"click",n),map.controls[google.maps.ControlPosition.TOP_RIGHT].push(e)}function o(e){e.stopPropagation(),e.preventDefault(),map.setZoom(map.getZoom()+1)}function n(e){e.stopPropagation(),e.preventDefault(),map.setZoom(map.getZoom()-1)}function S(e){if(arrayother=e,bounds=new google.maps.LatLngBounds,marker=[],property=[],row=null,s=0,(z=new InfoBubble({map:map,disableAutoPan:!0,shadowStyle:0,padding:0,borderRadius:0,borderWidth:0,disableAnimation:!0,maxWidth:380})).addListener("domready",function(){j(".ib-load-property-iw").on("click",function(e){e.preventDefault(),e.stopPropagation();var s,e=j(this).data("mls");"yes"===__flex_g_settings.anonymous?(j("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),j("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),j("#modal_login").find(".item_tab").removeClass("active"),j("#tabRegister").addClass("active"),j("button.close-modal").addClass("ib-close-mproperty"),j(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),j("#modal_login h2").html(j("#modal_login").find("[data-tab]:eq(1)").data("text-force")),s=j(".header-tab a[data-tab='tabRegister']").attr("data-text"),j("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(s),localStorage.setItem("ib_anon_mls",e)):(j("html").addClass("modal_mobile"),j("#modal_property_detail").addClass("active_modal"),j("#modal_property_detail .detail-modal").html('<span class="ib-modal-property-loading">Loading property details...</span>'),j.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{mlsNumber:e,action:"load_modal_property"},success:function(e){j(document.body).addClass("modal-property-active"),j("#modal_property_detail .detail-modal").html(e)},complete:function(){j("#full-main #clidxboost-data-loadMore-niche").trigger("click"),loadFullSlider(".clidxboost-full-slider")}}))})}),null!=e){for(var s=0,t=e.length;s<t;s++)row=e[s],r=row.lat+":"+row.lng,-1===_.indexOf(D,r)&&(D.push(r),O.push(row));for(s=0,t=O.length;s<t;s++){row=O[s],r=[row.lat,row.lng];for(var a=[],i=0,l=e.length;i<l;i++)(inner=e[i]).lat==r[0]&&inner.lng==r[1]&&a.push(inner);M.push({item:row,group:a})}for(s=0;s<M.length;s++)property=M[s],(marker=new RichMarker({position:new google.maps.LatLng(parseFloat(property.item.lat),parseFloat(property.item.lng)),map:map,flat:!0,draggable:!1,content:1<property.group.length?'<div class="dgt-richmarker-group"><strong>'+property.group.length+"</strong><span>Units</span></div>":'<div class="dgt-richmarker-single"><strong>$'+_.formatShortPrice(property.item.price)+"</strong></div>",anchor:RichMarkerPosition.TOP})).geocode=property.item.lat+":"+property.item.lng,bounds.extend(marker.position),q.push(marker),google.maps.event.addListener(marker,"click",function(d,o,n){return function(){if(1<o.group.length){p.push('<div class="mapview-container">'),p.push('<div class="mapviwe-header">'),p.push("<h2>"+o.item.heading+"</h2>"),p.push('<span class="build">'+o.group.length+"</span>"),p.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),p.push("</div>"),p.push('<div class="mapviwe-body">');for(var e=0,s=o.group.length;e<s;e++){var t=o.group[e],a=(p.push('<div class="mapviwe-item">'),p.push('<h2 title="'+t.address_short.replace(/# /,"#")+'"><span>'+t.address_short.replace(/# /,"#")+"</span></h2>"),p.push("<ul>"),p.push('<li class="address"><span>'+t.address_large.replace(/ , /,", ")+"</span></li>"),p.push('<li class="price">$'+_.formatPrice(t.price)+"</li>"),word_translate.beds),i=word_translate.baths,a=1<t.bed?word_translate.beds:word_translate.bed,i=1<t.bath?word_translate.baths:word_translate.bath;p.push('<li class="beds"><b>'+t.bed+"</b> <span> "+a+"</span></li>"),p.push('<li class="baths"><b>'+t.bath+"</b> <span> "+i+"</span></li>"),p.push('<li class="living-size"> <span>'+_.formatPrice(t.sqft)+"</span> Sq.Ft.<span>("+t.living_size_m2+" m²)</span></li>"),p.push('<li class="price-sf"><span>$'+t.price_sqft+" </span>/ Sq.Ft.<span>($"+t.price_sqft_m2+" m²)</span></li>"),p.push("</ul>"),p.push('<div class="mapviwe-img">'),p.push('<img title="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'" alt="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'" src="'+t.gallery[0]+'">'),p.push("</div>"),p.push('<a class="ib-load-property-iw" data-mls="'+t.mls_num+'" href="'+flex_idx_sold_statistics.propertyDetailPermalink+"/"+t.slug+'" title="'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+'">'+t.address_short.replace(/# /,"#")+", "+t.address_large.replace(/ , /,", ")+"</a>"),p.push("</div>")}}else{var l="",l=("1"==o.item.is_rental&&(l="/"+word_translate.month),p.push('<div class="mapview-container">'),p.push('<div class="mapviwe-header">'),p.push("<h2>"+o.item.heading+"</h2>"),p.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),p.push("</div>"),p.push('<div class="mapviwe-body">'),p.push('<div class="mapviwe-item">'),p.push('<h2 title="'+o.item.address_short.replace(/# /,"#")+'"><span>'+o.item.address_short.replace(/# /,"#")+"</span></h2>"),p.push("<ul>"),p.push('<li class="address"><span>'+o.item.address_large.replace(/ , /,", ")+"</span></li>"),p.push('<li class="price">$'+_.formatPrice(o.item.price)+l+"</li>"),word_translate.beds),r=word_translate.baths,l=1<o.item.bed?word_translate.beds:word_translate.bed,r=1<o.item.bath?word_translate.baths:word_translate.bath;p.push('<li class="beds"><b>'+o.item.bed+"</b> <span> "+l+"</span></li>"),p.push('<li class="baths"><b>'+o.item.bath+"</b> <span> "+r+"</span></li>"),p.push('<li class="living-size"> <span>'+_.formatPrice(o.item.sqft)+"</span> Sq.Ft.<span>("+o.item.living_size_m2+" m²)</span></li>"),p.push('<li class="price-sf"><span>$'+o.item.price_sqft+" </span>/ Sq.Ft.<span>($"+o.item.price_sqft_m2+" m²)</span></li>"),p.push("</ul>"),p.push('<div class="mapviwe-img">'),p.push('<img title="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'" alt="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'" src="'+o.item.gallery[0]+'">'),p.push("</div>"),p.push('<a class="ib-load-property-iw" data-mls="'+o.item.mls_num+'" href="'+flex_idx_sold_statistics.propertyDetailPermalink+"/"+o.item.slug+'" title="'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+'">'+o.item.address_short.replace(/# /,"#")+", "+o.item.address_large.replace(/ , /,", ")+"</a>"),p.push("</div>")}p.push("</div>"),p.push("</div>"),p.length&&(z.setContent(p.join("")),z.open(n,d),p.length=0)}}(marker,property,map)),google.maps.event.addListener(marker,"mouseover",function(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX+1)}}(marker)),google.maps.event.addListener(marker,"mouseout",function(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX-1)}}(marker))}void 0!==map&&map.fitBounds(bounds)}function c(){var e=flex_idx_sold_statistics.class_form,C=(j(".flex-idx-filter-form-"+e).attr("class"),".flex-idx-filter-form-"+flex_idx_sold_statistics.class_form),k=".idxboost-content-filter-"+e+" #nav-results",P=".idxboost-content-filter-"+e+" #result-search",L=j("input[name='idx[oh]']").val();void 0!==s&&s.abort(),s=j.ajax({url:flex_idx_sold_statistics.ajaxUrl,method:"POST",data:{action:"flex_statistics_filter_sold",class_id:flex_idx_sold_statistics.class_id,city_id:flex_idx_sold_statistics.city_id,price_min:flex_idx_sold_statistics.price_min,price_max:flex_idx_sold_statistics.price_max,property_type:flex_idx_sold_statistics.property_type,property_style:flex_idx_sold_statistics.property_style,page:flex_idx_sold_statistics.page,order:flex_idx_sold_statistics.sort,close_date_start:flex_idx_sold_statistics.close_date_start,close_date_end:flex_idx_sold_statistics.close_date_end},dataType:"json",success:function(e){"yes"===__flex_g_settings.anonymous&&(s={search_url:location.href,search_count:e.counter,name:e.title,search_query:e.condition},localStorage.setItem("IB_SAVE_FILTER_PAYLOAD",JSON.stringify(s)));var s=e.items,t=[],a=[],i=e.pagination;if("undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&e.hasOwnProperty("items")&&e.items.length){for(var l=_.pluck(e.items,"mls_num"),r=[],d=0,o=l.length;d<o;d++)r.push({id:l[d],google_business_vertical:"real_estate"});r.length&&(dataLayer.push({event:"view_item_list",items:r}),r.length=0)}for(d=0,o=s.length;d<o;d++){var n=e.items[d],p=(""!=n.address_short&&null!=n.address_short&&(n.address_short=n.address_short.replace(/# /,"#")),""!=n.address_large&&null!=n.address_large&&(n.address_large=n.address_large.replace(/ , /,", ")),""),c=("1"==n.is_rental&&(p="/"+word_translate.month),n.address_large.split(", ")),m=(c[1].replace(/[\d\s]/g,""),n.address_short,c[0],n.address_short,c[0],c[1],""),c=(null!=n.address_short&&""!=n.address_short&&(m=" <span>"+n.address_short.replace(/# /,"#")+", "+c[0]+", "+c[1]+"</span>"),t.push('<li data-geocode="'+n.lat+":"+n.lng+'" data-class-id="'+n.class_id+'" data-mls="'+n.mls_num+'" data-address="'+n.address_short+'" class="propertie">'),n.hasOwnProperty("status")?"5"==n.status?t.push('<div class="flex-property-new-listing">'+word_translate.rented+"</div>"):"2"==n.status?t.push('<div class="flex-property-new-listing">'+word_translate.sold+"</div>"):"1"!=n.status&&t.push('<div class="flex-property-new-listing">'+n.status_name+"</div>"):"yes"===n.recently_listed&&t.push('<div class="flex-property-new-listing">'+word_translate.new_listing+"</div>"),"1"==view_grid_type?t.push('<h2 title="'+n.full_address+'" class="ms-property-address"><div class="ms-title-address -address-top">'+n.full_address_top+'</div><div class="ms-br-line">,</div><div class="ms-title-address -address-bottom">'+n.full_address_bottom+"</div></h2>"):t.push('<h2 title="'+n.full_address+'" class="ms-property-address"><div class="ms-title-address -address-top">'+n.full_address+"</div></h2>"),t.push('<ul class="features">'),t.push('<li class="address">'+m+"</li>"),t.push('<li class="price">$'+_.formatPrice(n.price)+p+"</li>"),""==n.reduced?t.push('<li class="pr">'+n.reduced+"</li>"):n.reduced<0?t.push('<li class="pr down">'+n.reduced+"%</li>"):t.push('<li class="pr up">'+n.reduced+"%</li>"),word_translate.bed),c=1<n.bed?word_translate.beds:word_translate.bed,p=(t.push('<li class="beds">'+n.bed+" <span>"+c+" </span></li>"),word_translate.bath),p=1<n.bath?word_translate.baths:word_translate.bath,c=(0<n.baths_half?t.push('<li class="baths">'+n.bath+".5 <span>"+p+" </span></li>"):t.push('<li class="baths">'+n.bath+" <span>"+p+" </span></li>"),t.push('<li class="living-size"> <span>'+_.formatPrice(n.sqft)+"</span>"+word_translate.sqft+" <span>("+n.living_size_m2+" m²)</span></li>"),t.push('<li class="price-sf"><span>$'+n.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+n.price_sqft_m2+" m²)</span></li>"),""!==n.development?t.push('<li class="development"><span>'+n.development+"</span></li>"):""!==n.complex?t.push('<li class="development"><span>'+n.complex+"</span></li>"):t.push('<li class="development"><span>'+n.subdivision+"</span></li>"),t.push("</ul>"),"");n.gallery.length<=1&&(c="no-zoom"),t.push('<div class="wrap-slider '+c+'">'),t.push("<ul>");for(var h=0,u=n.gallery.length;h<u;h++)t.push(h<=0?'<li class="flex-slider-current"><img class="flex-lazy-image" data-original="'+n.gallery[h]+'"></li>':'<li class="flex-slider-item-hidden"><img class="flex-lazy-image" data-original="'+n.gallery[h]+'"></li>');t.push("</ul>"),1<n.gallery.length&&(t.push('<button class="prev flex-slider-prev"><span class="clidxboost-icon-arrow-select"></span></button>'),t.push('<button class="next flex-slider-next"><span class="clidxboost-icon-arrow-select"></span></button>')),t.push("</div>"),t.push('<a href="'+flex_idx_sold_statistics.propertyDetailPermalink+"/"+n.slug+'" class="view-detail">'+m+"</a>"),t.push('<a class="view-map-detail" data-geocode="'+n.lat+":"+n.lng+'">View Map</a>'),"1"!=L||!n.hasOwnProperty("oh_info")||"object"==typeof(p=JSON.parse(n.oh_info))&&p.hasOwnProperty("date")&&p.hasOwnProperty("timer")&&t.push('<div class="ms-open"><span class="ms-wrap-open"><span class="ms-open-title">Open House</span><span class="ms-open-date">'+p.date+'</span><span class="ms-open-time">'+p.timer+"</span></span></div>"),t.push("</li>")}if(j(P).html(t.join("")).ready(function(){idxboostTypeIcon(),"function"==typeof ppchack&&ppchack(),"function"==typeof idxboost_Hackedbox_cpanel&&idxboost_Hackedbox_cpanel()}),1<i.total_pages_count){a.push('<span id="indicator">'+word_translate.page+" "+i.current_page_number+" "+word_translate.of+" "+_.formatPrice(i.total_pages_count)+"</span>"),i.has_prev_page&&1<i.total_pages_count&&(a.push('<a href="#" data-page="1" title="First Page" id="firstp" class="ad visible">'),a.push('<span class="clidxboost-icon-arrow-select"></span>'),a.push('<span class="clidxboost-icon-arrow-select"></span>'),a.push("<span>First page</span>"),a.push("</a>")),i.has_prev_page&&(a.push('<a href="#" data-page="'+(i.current_page_number-1)+'" title="Prev Page" id="prevn" class="arrow clidxboost-icon-arrow-select prevn visible">'),a.push("<span>Previous page</span>"),a.push("</a>")),a.push('<ul id="principal-nav">');for(d=0,o=i.range.length;d<o;d++){var g=i.range[d];i.current_page_number===g?a.push('<li class="active"><a href="#" data-page="'+g+'">'+g+"</a></li>"):a.push('<li><a href="#" data-page="'+g+'">'+g+"</a></li>")}a.push("</ul>"),i.has_next_page&&(a.push('<a href="#" data-page="'+(i.current_page_number+1)+'" title="Prev Page" id="nextn" class="arrow clidxboost-icon-arrow-select nextn visible">'),a.push("<span>Next page</span>"),a.push("</a>")),i.has_next_page&&1<i.total_pages_count&&(a.push('<a href="#" data-page="'+i.total_pages_count+'" title="First Page" id="lastp" class="ad visible">'),a.push('<span class="clidxboost-icon-arrow-select"></span>'),a.push('<span class="clidxboost-icon-arrow-select"></span>'),a.push("<span>Last page</span>"),a.push("</a>"))}j(k).html(a.join("")),j(".flex-loading-ct").fadeIn();j("#search_count").val(e.counter),idxboostcondition=e.condition,j(C+" #flex-idx-search-form").data("save_count",e.counter),j(C+" #flex-idx-search-form").data("next_page",e.pagination.has_next_page),j(C+" #flex-idx-search-form").data("current_page",e.pagination.current_page_number),void 0!==z&&z.isOpen()&&z.close(),idx_param_url=[];var f,v,s=0,x=0,s=(""!=flex_idx_sold_statistics.price_min&&(s=parseInt(flex_idx_sold_statistics.price_min)),(x=""!=flex_idx_sold_statistics.price_max?parseInt(flex_idx_sold_statistics.price_max):x)<s&&(s=0,x=1e6),idx_param_url.push("price="+s+"~"+x),""!=flex_idx_sold_statistics.city_id&&idx_param_url.push("city="+flex_idx_sold_statistics.city_id),""!=flex_idx_sold_statistics.class_id&&idx_param_url.push("property_type="+flex_idx_sold_statistics.class_id),""!=flex_idx_sold_statistics.property_style&&idx_param_url.push("property_style="+flex_idx_sold_statistics.property_style),""!=flex_idx_sold_statistics.page&&idx_param_url.push("page="+flex_idx_sold_statistics.page),""!=flex_idx_sold_statistics.sort&&idx_param_url.push("sort=price-desc"),0),x=0,w=(""!=flex_idx_sold_statistics.close_date_start&&(s=parseInt(flex_idx_sold_statistics.close_date_start)),(x=""!=flex_idx_sold_statistics.close_date_end?parseInt(flex_idx_sold_statistics.close_date_end):x)<s&&((v=new Date).getMonth()+1<10&&(f="0"+(v.getMonth()+1)),f=v.getFullYear()+f+v.getDate(),v=new Date,w=-6,w=(v=new Date(v.setMonth(v.getMonth()+w))).getMonth()+1<10?"0"+(v.getMonth()+1):v.getMonth()+1,s=v.getFullYear()+""+w+v.getDate(),x=f),idx_param_url.push("close_date="+s+"~"+x),flex_idx_sold_statistics.wpsite+"?"+idx_param_url.join("&"));if(history.pushState(null,"",w),j("#wrap-list-result").show(),j("#paginator-cnt").show(),jQuery("#form-save .list-check .flex-save-type-options").removeAttr("disabled"),j(".wrap-result").hasClass("view-map")&&j("#wrap-list-result").scrollTop(0),D.length&&(D.length=0),O.length&&(O.length=0),M.length&&(M.length=0),q.length){for(var b=0,y=q.length;b<y;b++)q[b].setMap(null);q.length=0}S(e.map_items),void 0!==I&&I.update(),j("#wrap-result").find(".wrap-slider > ul li:first").each(function(){j(this).addClass("flex-slider-current")})}})}j(document).ready(function(){c()}),google.maps.event.addDomListener(window,"load",function(){var e=[];null!=style_map_idxboost&&""!=style_map_idxboost&&(e=JSON.parse(style_map_idxboost)),void 0===I&&(I=new LazyLoad({elements_selector:".flex-lazy-image",callback_load:function(){},callback_error:function(e){j(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),j(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})),map=new google.maps.Map(document.getElementById("code-map"),{center:new google.maps.LatLng(25.76168,-80.19179),mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:16,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,streetViewControl:!1,disableDefaultUI:!0,clickableIcons:!1,styles:e,gestureHandling:"1"==__flex_g_settings.is_mobile?"greedy":"cooperative"}),google.maps.event.addListenerOnce(map,"tilesloaded",d)}),j(".f-pricerange").change(function(){var e=j(this).val();"1"==e?(flex_idx_sold_statistics.price_min=0,flex_idx_sold_statistics.price_max=1e6):"2"==e?(flex_idx_sold_statistics.price_min=1000001,flex_idx_sold_statistics.price_max=2e6):"3"==e?(flex_idx_sold_statistics.price_min=2000001,flex_idx_sold_statistics.price_max=3e6):"4"==e?(flex_idx_sold_statistics.price_min=3000001,flex_idx_sold_statistics.price_max=5e6):"5"==e?(flex_idx_sold_statistics.price_min=5000001,flex_idx_sold_statistics.price_max=75e5):"6"==e?(flex_idx_sold_statistics.price_min=7500001,flex_idx_sold_statistics.price_max=1e8):"7"==e&&(flex_idx_sold_statistics.price_min=0,flex_idx_sold_statistics.price_max=1e8),flex_idx_sold_statistics.page=1,c()}),j(".f-neighborhood").change(function(){flex_idx_sold_statistics.city_id=j(this).val(),flex_idx_sold_statistics.page=1,c()}),j(".f-ptype").change(function(){flex_idx_sold_statistics.class_id=j(this).val(),flex_idx_sold_statistics.page=1,c()}),j(".js-pstyle").click(function(){var e="regular";jQuery("#regular").is(":checked")&&(e="regular"),jQuery("#new").is(":checked")&&(e="new"),jQuery("#no_waterfront").is(":checked")&&(e="no_waterfront"),jQuery("#waterfront").is(":checked")&&(e="waterfront"),flex_idx_sold_statistics.property_style=e,flex_idx_sold_statistics.page=1,c()}),j(".flex_idx_sort").change(function(){flex_idx_sold_statistics.sort=j(this).val(),flex_idx_sold_statistics.page=1,c()}),j(document).on("click",".flex-slider-prev",function(e){e.stopPropagation();var e=j(this).prev().find("li.flex-slider-current").index(),s=j(this).prev().find("li").length,e=0===e?s-1:e-1;j(this).prev().find("li").removeClass("flex-slider-current"),j(this).prev().find("li").addClass("flex-slider-item-hidden"),j(this).prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),I.update()}),j(document).on("click",".flex-slider-next",function(e){e.stopPropagation();e=j(this).prev().prev().find("li.flex-slider-current").index();j(this).prev().prev().find("li").length-1<=e?e=0:e+=1,j(this).prev().prev().find("li").removeClass("flex-slider-current"),j(this).prev().prev().find("li").addClass("flex-slider-item-hidden"),j(this).prev().prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),I.update()}),(flex_pagination=j(".nav-results")).length&&flex_pagination.on("click","a",function(e){e.preventDefault();e=j(this).data("page");currentfiltemid=j(this).parent("li").parent("ul").parent("nav").attr("filtemid"),"nextn"!=j(this).attr("id")&&"lastp"!=j(this).attr("id")&&"firstp"!=j(this).attr("id")&&"prevn"!=j(this).attr("id")||(currentfiltemid=j(this).parent("nav").attr("filtemid")),j(".nav-results-"+currentfiltemid+" ul#principal-nav li").removeClass("active"),j(".nav-results-"+currentfiltemid+" ul#principal-nav #page_"+e).addClass("active"),flex_idx_sold_statistics.page=e,c()}),(view_options=j(".filter-views li")).length&&view_options.on("click",function(){currentfiltemid=j(this).attr("filtemid"),j(this).hasClass("active")||(j(this).html().toLowerCase(),sort_options.val())});var m,h,u=j(".filter-views");{function g(e){var s,t;e?u.find("ul").length||(e=u.find("option:selected").val(),u.find("option").each(function(){j(this).replaceWith('<li class="'+j(this).val()+'">'+j(this).text()+"</li>")}),(s=u.find("select")).replaceWith("<ul>"+s.html()+"</ul>"),u.find("."+e).addClass("active"),u.removeClass(e)):u.find("select").length||(s=u.find(".active").index(),e=u.find(".active").attr("class").split(" ")[0],u.find("li").each(function(){j(this).replaceWith('<option value="'+j(this).attr("class").split(" ")[0]+'">'+j(this).text()+"</option>")}),(t=u.find("ul")).replaceWith("<select>"+t.html()+"</select>"),u.find("option").eq(s).prop("selected",!0).siblings().prop("selected",!1),u.addClass(e))}u.length&&(m=j(".wrap-result"),u.on("change","select",function(){switch(j(this).find("option:selected").val()){case"grid":u.removeClass("list map").addClass("grid"),m.removeClass("view-list view-map").addClass("view-grid"),i.removeClass("view-list view-map"),j("#idx_view").val("grid");break;case"list":u.removeClass("grid map").addClass("list"),m.removeClass("view-grid view-map").addClass("view-list"),i.addClass("view-list").removeClass("view-map"),j("#idx_view").val("list");break;case"map":u.removeClass("list grid").addClass("map"),m.removeClass("view-list view-grid").addClass("view-map"),i.removeClass("view-list").addClass("view-map"),j("#idx_view").val("map"),google.maps.event.trigger(map,"resize"),setTimeout(function(){map.getCenter(),map.getZoom();google.maps.event.trigger(map,"resize");for(var e=new google.maps.LatLngBounds,s=0,t=q.length;s<t;s++)e.extend(q[s].position);map.fitBounds(e)},1e3)}new LazyLoad({callback_error:function(e){j(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),j(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),u.on("click","li",function(){switch(currentfiltemid=j(this).parent("ul").parent("li").attr("filtemid"),j(this).addClass("active").siblings().removeClass("active"),j(this).attr("class").split(" ")[0]){case"grid":j(".idxboost-content-filter-"+currentfiltemid+" ").find(m).removeClass("view-list view-map").addClass("view-grid"),i.removeClass("view-list view-map");break;case"list":j(".idxboost-content-filter-"+currentfiltemid+" ").find(m).removeClass("view-grid view-map").addClass("view-list"),i.addClass("view-list").removeClass("view-map");break;case"map":j(".idxboost-content-filter-"+currentfiltemid+" ").find(m).removeClass("view-list view-grid").addClass("view-map"),i.removeClass("view-list").addClass("view-map"),google.maps.event.trigger(map,"resize"),setTimeout(function(){map.getCenter(),map.getZoom();google.maps.event.trigger(map,"resize");for(var e=new google.maps.LatLngBounds,s=0,t=q.length;s<t;s++)e.extend(q[s].position);map.fitBounds(e)},1e3)}new LazyLoad({callback_error:function(e){j(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),j(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),h=j("#wrap-list-result"),768<=l.width()&&g(!0),l.on("resize",function(){var e=l.width();768<=e?g(!0):e<768&&g(!1)}))}function g(e){var s,t;e?u.find("ul").length||(e=u.find("option:selected").val(),u.find("option").each(function(){j(this).replaceWith('<li class="'+j(this).val()+'">'+j(this).text()+"</li>")}),(s=u.find("select")).replaceWith("<ul>"+s.html()+"</ul>"),u.find("."+e).addClass("active"),u.removeClass(e)):u.find("select").length||(s=u.find(".active").index(),e=u.find(".active").attr("class").split(" ")[0],u.find("li").each(function(){j(this).replaceWith('<option value="'+j(this).attr("class").split(" ")[0]+'">'+j(this).text()+"</option>")}),(t=u.find("ul")).replaceWith("<select>"+t.html()+"</select>"),u.find("option").eq(s).prop("selected",!0).siblings().prop("selected",!1),u.addClass(e))}768<=l.width()&&g(!0),l.on("resize",function(){var e=l.width();768<=e?g(!0):e<768&&g(!1)});var f=j("#map-actions");f.length&&f.on("click","button",function(){h.toggleClass("closed"),j(this).addClass("hide").siblings().removeClass("hide"),setTimeout(function(){google.maps.event.trigger(map,"resize"),setTimeout(function(){google.maps.event.trigger(map,"resize")},200)},100)}),j(document).click(function(e){j(".js-fc-dropdown").removeClass("show")}),j(".js-fc-dropdown").on("click",function(e){e.stopPropagation(),j(this).toggleClass("show")})}(jQuery);