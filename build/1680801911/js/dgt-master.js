var myLazyLoad;!function(r){r(function(){"undefined"!=typeof LazyLoad&&(myLazyLoad=new LazyLoad({elements_selector:".flex-lazy-image",callback_load:function(){}}),r(document).on("click","li.grid",function(){myLazyLoad.update()}),r(".tabs-btn > li").on("click",function(){myLazyLoad.update()}),r(document).on("click",".flex-slider-prev",function(e){e.stopPropagation();var e=r(this).prev().find("li.flex-slider-current").index(),i=r(this).prev().find("li").length,e=0===e?i-1:e-1;r(this).prev().find("li").removeClass("flex-slider-current"),r(this).prev().find("li").addClass("flex-slider-item-hidden"),r(this).prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),myLazyLoad.update()}),r(document).on("click",".flex-slider-next",function(e){e.stopPropagation();e=r(this).prev().prev().find("li.flex-slider-current").index();r(this).prev().prev().find("li").length-1<=e?e=0:e+=1,r(this).prev().prev().find("li").removeClass("flex-slider-current"),r(this).prev().prev().find("li").addClass("flex-slider-item-hidden"),r(this).prev().prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),myLazyLoad.update()}))});var e,s,t=r("body"),a=r(window),l=(a.width(),r("html, body")),o=(a.on("load",function(){t.removeClass("loading")}),r("#filter-views"));function scrollResultados(e){e?1024<=a.width()&&(s.hasClass("ps-container")||(s.perfectScrollbar({suppressScrollX:!0}),s.on("ps-y-reach-end",function(){s.hasClass("loading-more")||(s.addClass("loading-more"),console.log("ahora cargaré más ITEMS"))}))):s.hasClass("ps-container")&&s.perfectScrollbar("destroy")}function mutaSelectViews(e){var i,s;e?o.find("ul").length||(e=o.find("option:selected").val(),o.find("option").each(function(){r(this).replaceWith('<li class="'+r(this).val()+'">'+r(this).text()+"</li>")}),(i=o.find("select")).replaceWith("<ul>"+i.html()+"</ul>"),o.find("."+e).addClass("active"),o.removeClass(e)):o.find("select").length||(i=o.find(".active").index(),e=o.find(".active").attr("class").split(" ")[0],o.find("li").each(function(){r(this).replaceWith('<option value="'+r(this).attr("class").split(" ")[0]+'">'+r(this).text()+"</option>")}),(s=o.find("ul")).replaceWith("<select>"+s.html()+"</select>"),o.find("option").eq(i).prop("selected",!0).siblings().prop("selected",!1),o.addClass(e))}o.length&&(e=r("#wrap-result"),o.on("change","select",function(){switch(r(this).find("option:selected").val()){case"grid":o.removeClass("list map").addClass("grid"),e.removeClass("view-list view-map").addClass("view-grid"),t.removeClass("view-list view-map");break;case"list":o.removeClass("grid map").addClass("list"),e.removeClass("view-grid view-map").addClass("view-list"),t.addClass("view-list").removeClass("view-map");break;case"map":o.removeClass("list grid").addClass("map"),e.removeClass("view-list view-grid").addClass("view-map"),t.removeClass("view-list").addClass("view-map")}}),o.on("click","li",function(){switch(r(this).addClass("active").siblings().removeClass("active"),r(this).attr("class").split(" ")[0]){case"grid":e.removeClass("view-list view-map").addClass("view-grid"),t.removeClass("view-list view-map"),scrollResultados(!1);break;case"list":e.removeClass("view-grid view-map").addClass("view-list"),t.addClass("view-list").removeClass("view-map"),scrollResultados(!1);break;case"map":e.removeClass("view-list view-grid").addClass("view-map"),t.removeClass("view-list").addClass("view-map"),scrollResultados(!0)}}),s=r("#wrap-list-result"),768<=a.width()&&mutaSelectViews(!0),a.on("resize",function(){var e=a.width();768<=e?mutaSelectViews(!0):e<768&&mutaSelectViews(!1)}));var n=r(".slider-generator");var d,c,p,h,u=null,v=null,m=(n.on("touchstart",".propertie",function(e){u=e.touches[0].clientX,v=e.touches[0].clientY}),n.on("touchmove",".propertie",function(e){var i,s;u&&v&&(i=e.touches[0].clientX,s=e.touches[0].clientY,i=u-i,s=v-s,Math.abs(i)>Math.abs(s)&&(e.preventDefault(),(0<i?r(this).find(".next"):r(this).find(".prev")).click()),v=u=null)}),r("#cities-list")),f=(m.length&&a.on("resize",function(){m.hasClass("ps-container")&&m.perfectScrollbar("update")}),r("#mini-filters")),C=(f.length&&f.find("h4").on("click",function(){var e=r(this).parents("li");e.toggleClass("expanded").siblings().removeClass("expanded"),e.hasClass("cities")&&!m.hasClass("ps-container")&&(setTimeout(function(){m.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2),creaScrollTemporal(e,m))}),r("#filters")),g=(C.length&&(d=r("#all-filters"),c=r("#wrap-filters"),C.on("click","button",function(){r("#mini-filters .price").addClass("expanded");var e=r(this).parent(),i=e.attr("class").split(" ")[0],s=f.find("li."+i);!s.length&&"all"!==i||(e.toggleClass("active").siblings().removeClass("active"),"all"===i?(d.hasClass("visible")?d.hasClass("individual")&&d.hasClass("visible")?d.removeClass("individual"):!d.hasClass("individual")&&d.hasClass("visible")&&d.removeClass("visible"):d.addClass("visible"),c.width()<=768&&(t.toggleClass("fixed"),i=c.position().top-Number(c.css("margin-top").replace("px","")),a.scrollTop()!==i&&l.animate({scrollTop:i},800),d.hasClass("ps-container")||setTimeout(function(){d.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(d.css("transition-duration").replace("s",""))*2)),c.width()<=640?d.css({top:c.outerHeight()+c.position().top+"px",left:"0px",height:"calc(100vh - "+(c.outerHeight()+C.find("li.save").outerHeight())+"px)"}):640<c.width()&&c.width()<=768?d.hasClass("neighborhood")?(d.removeAttr("style"),console.log("Widt all filter: "+d.width()+" | position left clicked: "+e.position().left+" | Li clicked widht: "+e.width()),d.css({top:c.outerHeight()+"px",right:"0",left:"auto",transform:"none"})):d.css({left:"0px",top:c.outerHeight()+"px",height:"calc(100vh - "+(c.outerHeight()+p.outerHeight())+"px)"}):(d.removeAttr("style"),d.css("top",c.outerHeight()+"px"),creaScrollTemporal(d,m))):(t.hasClass("fixed")&&t.removeClass("fixed"),d.hasClass("ps-container")&&d.perfectScrollbar("destroy"),e.hasClass("active")?(s.addClass("visible").siblings().removeClass("visible"),d.hasClass("individual")||(d.addClass("individual"),d.css("height","auto")),d.hasClass("visible")||d.addClass("visible"),d.css({top:c.outerHeight()+"px",left:e.position().left+e.outerWidth()/2-150+"px"})):(d.removeClass("visible"),s.removeClass("visible"),e.removeClass("active"),setTimeout(function(){d.removeClass("individual")},1e3*Number(d.css("transition-duration").replace("s",""))))))}),(p=r("#apply-filters")).length&&p.on("click",function(){C.find(".all button").trigger("click")}),r(document).on("mouseup",function(e){!d.hasClass("visible")||c.is(e.target)||0!==c.has(e.target).length||C.find(".active button").trigger("click")}),C.find(".mini-search, .save").on("click",function(){d.hasClass("visible")&&C.find(".active button").trigger("click")})),r("#neighborhood-menu")),n=(g.length&&g.on("click","li",function(){g.toggleClass("active"),r(this).addClass("active").siblings().removeClass("active")}),r("#map-actions")),b=(n.length&&n.on("click","button",function(){s.toggleClass("closed"),r(this).addClass("hide").siblings().removeClass("hide")}),setTimeout(function(){var e,i,s,t,a,l,o=g.find("li"),n=o.length;n&&(e=0,o.each(function(){e+=r(this).outerWidth()}),i=e+Number(o.eq(0).css("margin-right").replace("px",""))*(n-1),s=g.find("ul"),t=Number(g.find(".gwr").width()),i<g.width()?(g.find("button").addClass("hide"),65<=Math.floor(100*i/t)&&s.addClass("flex")):(s.css("width",i+"px"),a=g.find(".next-item"),l=g.find(".prev-item"),a.on("click",function(){var e=o.eq(n-1);s.css("margin-left",t-e.position().left+e.width()+"px"),r(this).addClass("hide"),l.removeClass("hide")}),l.on("click",function(){s.css("margin-left","0"),r(this).addClass("hide"),a.removeClass("hide")})))},300),widthTitleModal(),a.resize(function(){widthTitleModal()}),r(".map-actions button"));void 0!==b&&b.on("click",function(){b.removeClass("no-show"),r(this).addClass("no-show"),r("#wrap-list-result").toggleClass("hidden-results")}),r("html");function widthTitleModal(){var e,i=r("#md-title");void 0!==i&&(e=r("#md-body").width(),i.css({width:e+"px"}))}function creaScrollTemporal(e,i){i.hasClass("ps-container")||setTimeout(function(){i.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2)}r(document).on("click",".close-div",function(){r(".modal-welcome-login").fadeOut()}),r(document).on("click",".tab-list li a",function(){var e=r(this).attr("data-tab");r(".tab-list li a").removeClass("active"),r(this).addClass("active"),r(".body-tabs .item-tab").hide(),r(".body-tabs "+e).fadeIn()}),r(document).on("click",".register",function(){r(".header-tab li a").removeClass("active"),r(".item_tab").removeClass("active"),r(".header-tab li a[data-tab='tabRegister']").addClass("active"),r("#tabRegister").addClass("active")}),r(document).on("click",".login",function(){r(".header-tab li a").removeClass("active"),r(".item_tab").removeClass("active"),r(".header-tab li a[data-tab='tabLogin']").addClass("active"),r("#tabLogin").addClass("active")}),(h=jQuery).extend(!0,h.ui.slider.prototype,{pips:function(e){options={first:"number",last:"number",rest:"pip"},h.extend(options,e),this.element.addClass("ui-slider-pips").find(".ui-slider-pip").remove();var s=this.options.max-this.options.min;for(i=0;i<=s;i++){var t=h('<span class="ui-slider-pip"><span class="ui-slider-line"></span><span class="ui-slider-number">'+i+"</span></span>");0==i?(t.addClass("ui-slider-pip-first"),"number"==options.first&&t.addClass("ui-slider-pip-number"),0==options.first&&t.addClass("ui-slider-pip-hide")):s==i?(t.addClass("ui-slider-pip-last"),"number"==options.last&&t.addClass("ui-slider-pip-number"),0==options.last&&t.addClass("ui-slider-pip-hide")):("number"==options.rest&&t.addClass("ui-slider-pip-number"),0==options.rest&&t.addClass("ui-slider-pip-hide")),"horizontal"==this.options.orientation?t.css({left:100/s*i+"%"}):t.css({top:100/s*i+"%"}),this.element.append(t)}}})}(jQuery);