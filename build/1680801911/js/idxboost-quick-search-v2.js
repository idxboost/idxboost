!function(c){__ib_quick_search.priceSaleValues.push({label:word_translate.any_price,value:"--"}),__ib_quick_search.priceRentValues.push({label:word_translate.any_price,value:"--"}),l=c("#ib-quick-search-price-range-lbl");var t,s,l,e,n=_.pluck(__ib_quick_search.priceRentValues,"value"),h=_.pluck(__ib_quick_search.priceSaleValues,"value");c(function(){function idx_quiz_search(){c("#ib-quick-search-price-range-rent span").each(function(e){0==e&&c(this).attr("data-text",c(".idx_txt_min_slider").val()),1==e&&c(this).attr("data-text",c(".idx_txt_max_slider").val())}),c("#ib-quick-search-price-range-sale span").each(function(e){0==e&&c(this).attr("data-text",c(".idx_txt_min_slider").val()),1==e&&c(this).attr("data-text",c(".idx_txt_max_slider").val())})}(e=c("#ib-quick-search-price-range-rent")).length&&e.slider({range:!0,min:0,max:n.length-1,step:1,values:[0,n.length-1],slide:function(e,a){var i=n[a.values[0]],a=n[a.values[1]],r=[];r.push(isNaN(i)?word_translate.any_price:"$"+_.formatShortPrice(i)),r.push(isNaN(a)?word_translate.any_price_max:"$"+_.formatShortPrice(a)),"0"==i&&"--"==a||"0"==i&&"0"==a||"--"==i&&"--"==a?(l.html(word_translate.any_price),c("#ib-quick-search-rent-values").val("")):(l.html(r.join(" - ")),!isNaN(i)&&isNaN(a)?c("#ib-quick-search-rent-values").val(i+"-"):c("#ib-quick-search-rent-values").val(i+"-"+a))}}),(e=c("#ib-quick-search-price-range-sale")).length&&e.slider({range:!0,min:0,max:h.length-1,step:1,values:[0,h.length-1],slide:function(e,a){var i=h[a.values[0]],a=h[a.values[1]],r=[];r.push(isNaN(i)?word_translate.any_price:"$"+_.formatShortPrice(i)),r.push(isNaN(a)?word_translate.any_price_max:"$"+_.formatShortPrice(a)),"0"==i&&"--"==a||"0"==i&&"0"==a||"--"==i&&"--"==a?(l.html(word_translate.any_price),c("#ib-quick-search-sale-values").val("")):(l.html(r.join(" - ")),!isNaN(i)&&isNaN(a)?c("#ib-quick-search-sale-values").val(i+"-"):c("#ib-quick-search-sale-values").val(i+"-"+a))}}),(t=c("#ib-quick-search-rental-type")).length&&t.on("change",function(){var e=(1==this.value?(c("#ib-quick-search-price-range-sale").hide(),c("#ib-quick-search-price-range-rent").show(),c("#ib-quick-search-rent-values")):(c("#ib-quick-search-price-range-rent").hide(),c("#ib-quick-search-price-range-sale").show(),c("#ib-quick-search-sale-values"))).val().split("-");1===e.length?l.html(word_translate.any_price):""===e[1]?l.html("$"+_.formatShortPrice(e[0])+" - "+word_translate.any_price):l.html("$"+_.formatShortPrice(e[0])+" - $"+_.formatShortPrice(e[1])),idx_quiz_search()}),(s=c(".ib-quick-search-types")).length&&s.on("change",function(){var e=[];s.each(function(){this.checked&&e.push(this.value)}),c("#ib-quick-search-type-values").val(e.join(","))}),(e=c("#__ib_quick_search_form")).length&&e.on("submit",function(e){var a,i=[],r=[];e.preventDefault(),1==t.val()&&r.push("for=rent"),c("#ib-quick-search-type-values").val().length&&(a=c("#ib-quick-search-type-values").val().split(",")),-1!==c.inArray("2",a)&&i.push("house"),-1!==c.inArray("1",a)&&i.push("condo"),-1!==c.inArray("tw",a)&&i.push("multifamily"),-1!==c.inArray("mf",a)&&i.push("multifamily"),i.length&&i.length!==s.length&&(r.push("type="+i.join(",")),i.length=0),"--"!==c("#ib-quick-search-city").val()&&r.push("keyword="+encodeURIComponent(c("#ib-quick-search-city").val()+"_city")),1==t.val()?c("#ib-quick-search-rent-values").val().length&&r.push("price="+c("#ib-quick-search-rent-values").val()):c("#ib-quick-search-sale-values").val().length&&r.push("price="+c("#ib-quick-search-sale-values").val()),window.location.href=r.length?__ib_quick_search.searchUrl+"?"+r.join("&"):__ib_quick_search.searchUrl}),c(document).on("ready",function(){idx_quiz_search()}),c(document).on("click",function(e){var a=c(".ib-quick-search-nav-item");a.is(e.target)||0!==a.has(e.target).length||(c(".ib-quick-search-nav-item.ib-active").removeClass("ib-active"),c(".ib-quick-search-nav").removeClass("ib-open"))}),c(".ib-arrow").on("click",function(e){c(this).parents(".ib-quick-search-nav-item").hasClass("ib-active")?(c(".ib-quick-search-nav-item.ib-active").removeClass("ib-active"),c(".ib-quick-search-nav").removeClass("ib-open")):(c(".ib-quick-search-nav-item.ib-active").removeClass("ib-active"),c(this).parents(".ib-quick-search-nav-item").addClass("ib-active"),c(".ib-quick-search-nav").addClass("ib-open"))})})}(jQuery);