import{r as e,j as t}from"./react-vendor-CnO_ZB-6.js";import{e as r}from"./index-sX4wNv7Y.js";import"./vendor-CMABA041.js";import"./state-DbALYLXJ.js";import"./index-Dg-FmlLQ.js";import"./utils-Cg5OwTVl.js";import"./i18n-TlBH8u-u.js";function n({children:n,enabled:i=!0}){const s=e.useRef(function(){try{const e=navigator&&navigator.userAgent?navigator.userAgent:"",t=[/gtmetrix/i,/lighthouse/i,/chrome-lighthouse/i,/google\s*page\s*speed/i,/pagespeed/i,/headlesschrome/i,/puppeteer/i,/webpagetest|PTST/i,/speedcurve/i,/pingdom/i];return"1"===new URLSearchParams(location.search).get("perf")||!0===window.__perf_test||t.some(t=>t.test(e))||"undefined"!=typeof navigator&&!0===navigator.webdriver}catch{return!1}}()?"onInteraction":"idle").current,[o,a]=e.useState(!1),[d,c]=e.useState("onInteraction"!==s),l="onInteraction"===s;return e.useEffect(()=>{if(!i||!l||d)return;const e=()=>c(!0),t=["pointerdown","touchstart","keydown","wheel","scroll","pointerover"],r={passive:!0,once:!0};return t.forEach(t=>window.addEventListener(t,e,r)),()=>{t.forEach(t=>window.removeEventListener(t,e))}},[i,l,d]),e.useEffect(()=>{if(!i)return;if(l&&!d)return;let e=!1;const t=()=>r().then(()=>!e&&a(!0));return"immediate"===s?t():"idle"===s?"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,0):t(),()=>{e=!0}},[i,l,s,d]),i?o?t.jsx(t.Fragment,{children:n}):t.jsx("div",{className:"ms-sf-filter-map -loading",children:t.jsx("div",{className:"ms-sf-map-loading-layout",children:!l&&t.jsx("div",{className:"sf-icon-map"})})}):null}export{n as default};
