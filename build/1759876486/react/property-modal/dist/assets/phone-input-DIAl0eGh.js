import{Z as e,r as t}from"./i18n-D0PRNWcO.js";var a=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",{default:". .... ....","/^4/":"... ... ...","/^5(?!50)/":"... ... ...","/^1(3|8)00/":".... ... ...","/^13/":".. .. ..","/^180/":"... ...."},0,[]],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) .....-...."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Cayman Islands","ky","1","... ... ....",4,["345"]],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["Côte d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253",".. .. ...."],["Dominica","dm","1767"],["Dominican Republic","do","1","(...) ...-....",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251",".. ... ...."],["Faroe Islands","fo","298",".. .. .."],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594","... .. .. .."],["French Polynesia","pf","689",{"/^44/":".. .. ..","/^80[0-5]/":"... .. .. ..",default:".. .. .. .."}],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49","... ........."],["Ghana","gh","233"],["Greece","gr","30"],["Greenland","gl","299",".. .. .."],["Grenada","gd","1473"],["Guadeloupe","gp","590","... .. .. ..",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596","... .. .. .."],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mayotte","yt","262","... .. .. ..",1,["269","639"]],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",{"/^06/":"(.). .........","/^6/":". .........","/^0(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":"(.).. ........","/^(10|13|14|15|20|23|24|26|30|33|35|36|38|40|43|44|45|46|50|53|55|58|70|71|72|73|74|75|76|77|78|79|82|84|85|87|88|91)/":".. ........","/^0/":"(.)... .......",default:"... ......."}],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63","... ... ...."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","(...) ...-....",3,["787","939"]],["Qatar","qa","974"],["Réunion","re","262","... .. .. ..",0],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Pierre & Miquelon","pm","508",{"/^708/":"... ... ...","/^8/":"... .. .. ..",default:".. .. .."}],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","... ... ..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Wallis & Futuna","wf","681",".. .. .."],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],r=(...e)=>e.filter(e=>!!e).join(" ").trim(),n=({addPrefix:e,rawClassNames:t})=>r(((...e)=>r(...e).split(" ").map(e=>`react-international-phone-${e}`).join(" "))(...e),...t),o=e=>!!e&&/^\d+$/.test(e),i=e=>e.replace(/\D/g,""),l=({phone:e,prefix:t})=>e?`${t}${i(e)}`:"";function s({value:e,country:t,insertDialCodeOnEmpty:a,trimNonDigitsEnd:r,countries:n,prefix:o,charAfterDialCode:s,forceDialCode:u,disableDialCodeAndPrefix:c,defaultMask:f,countryGuessingEnabled:m,disableFormatting:y}){let C=e;c&&(C=C.startsWith(`${o}`)?C:`${o}${t.dialCode}${C}`);let g=m?h({phone:C,countries:n,currentCountryIso2:t?.iso2}):void 0,b=g?.country??t,v=((e,t)=>{let a=!t.disableDialCodeAndPrefix&&t.forceDialCode,r=!t.disableDialCodeAndPrefix&&t.insertDialCodeOnEmpty,n=e,o=e=>t.trimNonDigitsEnd?e.trim():e;if(!n)return r&&!n.length||a?o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`):o(n);if(n=i(n),n===t.dialCode&&!t.disableDialCodeAndPrefix)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(t.dialCode.startsWith(n)&&!t.disableDialCodeAndPrefix)return o(a?`${t.prefix}${t.dialCode}${t.charAfterDialCode}`:`${t.prefix}${n}`);if(!n.startsWith(t.dialCode)&&!t.disableDialCodeAndPrefix){if(a)return o(`${t.prefix}${t.dialCode}${t.charAfterDialCode}`);if(n.length<t.dialCode.length)return o(`${t.prefix}${n}`)}let{phoneLeftSide:l,phoneRightSide:s}=(()=>{let e=t.dialCode.length;return{phoneLeftSide:n.slice(0,e),phoneRightSide:n.slice(e)}})();return l=`${t.prefix}${l}${t.charAfterDialCode}`,s=(({value:e,mask:t,maskSymbol:a,offset:r=0,trimNonMaskCharsLeftover:n=!1})=>{if(e.length<r)return e;let o=e.slice(0,r),i=e.slice(r),l=o,s=0;for(let u of t.split("")){if(s>=i.length){if(!n&&u!==a){l+=u;continue}break}u===a?(l+=i[s],s+=1):l+=u}return l})({value:s,mask:t.mask,maskSymbol:t.maskChar,trimNonMaskCharsLeftover:t.trimNonDigitsEnd||t.disableDialCodeAndPrefix&&0===s.length}),t.disableDialCodeAndPrefix&&(l=""),o(`${l}${s}`)})(C,{prefix:o,mask:p({phone:C,country:b,defaultMask:f,disableFormatting:y}),maskChar:d,dialCode:b.dialCode,trimNonDigitsEnd:r,charAfterDialCode:s,forceDialCode:u,insertDialCodeOnEmpty:a,disableDialCodeAndPrefix:c}),w=m&&!g?.fullDialCodeMatch?t:b;return{phone:l({phone:c?`${w.dialCode}${v}`:v,prefix:o}),inputValue:v,country:w}}var u={size:20,overrideLastItemDebounceMS:-1};var d=".",c=a,f=({defaultCountry:e="us",value:a="",countries:r=c,prefix:n="+",defaultMask:i="............",charAfterDialCode:d=" ",historySaveDebounceMS:f=200,disableCountryGuess:p=false,disableDialCodePrefill:m=false,forceDialCode:h=false,disableDialCodeAndPrefix:C=false,disableFormatting:g=false,onChange:b,inputRef:v})=>{let w={countries:r,prefix:n,charAfterDialCode:d,forceDialCode:!C&&h,disableDialCodeAndPrefix:C,defaultMask:i,countryGuessingEnabled:!p,disableFormatting:g},D=t.useRef(null),k=v||D,N=e=>{Promise.resolve().then(()=>{typeof window>"u"||k.current!==document?.activeElement||k.current?.setSelectionRange(e,e)})},[{phone:S,inputValue:x,country:P},A,$,E]=function(e,a){let{size:r,overrideLastItemDebounceMS:n,onChange:o}={...u,...a},[i,l]=t.useState(e),[s,d]=t.useState([i]),[c,f]=t.useState(0),p=(()=>{let e=t.useRef(),a=t.useRef(Date.now());return{check:()=>{let t=Date.now(),r=e.current?t-a.current:void 0;return e.current=a.current,a.current=t,r}}})();return[i,(e,t)=>{if("object"==typeof e&&"object"==typeof i&&((e,t)=>{let a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let n of a)if(e[n]!==t[n])return!1;return!0})(e,i)||e===i)return;let a=n>0,u=p.check(),m=!a||void 0===u||u>n;if(void 0!==t?.overrideLastItem?t.overrideLastItem:!m)d(t=>[...t.slice(0,c),e]);else{let t=s.length>=r;d(a=>[...a.slice(t?1:0,c+1),e]),t||f(e=>e+1)}l(e),o?.(e)},()=>{if(c<=0)return{success:!1};let e=s[c-1];return l(e),f(e=>e-1),o?.(e),{success:!0,value:e}},()=>{if(c+1>=s.length)return{success:!1};let e=s[c+1];return l(e),f(e=>e+1),o?.(e),{success:!0,value:e}}]}(()=>{let t=y({value:e,field:"iso2",countries:r});t||console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let n=t||y({value:"us",field:"iso2",countries:r}),{phone:o,inputValue:i,country:l}=s({value:a,country:n,insertDialCodeOnEmpty:!m,...w});return N(i.length),{phone:o,inputValue:i,country:l.iso2}},{overrideLastItemDebounceMS:f,onChange:({inputValue:e,phone:t,country:a})=>{if(!b)return;let r=M(a);b({phone:t,inputValue:e,country:r})}}),M=t.useCallback(e=>y({value:e,field:"iso2",countries:r}),[r]),I=t.useMemo(()=>M(P),[P,M]);t.useEffect(()=>{let e=k.current;if(!e)return;let t=e=>{if(!e.key)return;let t=e.ctrlKey,a=e.metaKey,r=e.shiftKey;if("z"===e.key.toLowerCase()){if(typeof window>"u"||!window.navigator.userAgent.toLowerCase().includes("macintosh")){if(!t)return}else if(!a)return;r?E():$()}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[k,$,E]);let[_,L]=t.useState(!1);return t.useEffect(()=>{if(!_)return L(!0),void(a!==S&&b?.({inputValue:x,phone:S,country:I}));if(a===S)return;let{phone:e,inputValue:t,country:r}=s({value:a,country:I,insertDialCodeOnEmpty:!m,...w});A({phone:e,inputValue:t,country:r.iso2})},[a]),{phone:S,inputValue:x,country:I,setCountry:(e,t={focusOnInput:!1})=>{let a=y({value:e,field:"iso2",countries:r});if(!a)return void console.error(`[react-international-phone]: can not find a country with "${e}" iso2 code`);let o=C?"":`${n}${a.dialCode}${d}`;A({inputValue:o,phone:`${n}${a.dialCode}`,country:a.iso2}),t.focusOnInput&&Promise.resolve().then(()=>{k.current?.focus()})},handlePhoneValueChange:e=>{e.preventDefault();let{phone:t,inputValue:r,country:n,cursorPosition:i}=((e,{country:t,insertDialCodeOnEmpty:a,phoneBeforeInput:r,prefix:n,charAfterDialCode:i,forceDialCode:u,disableDialCodeAndPrefix:d,countryGuessingEnabled:c,defaultMask:f,disableFormatting:p,countries:m})=>{let y=e.nativeEvent,h=y.inputType,C=(e=>{if(e?.toLocaleLowerCase().includes("delete"))return e?.toLocaleLowerCase().includes("forward")?"forward":"backward"})(h),g=!!h?.startsWith("insertFrom"),b="insertText"===h,v=y?.data||void 0,w=e.target.value,D=e.target.selectionStart??0;if(h?.includes("history"))return{inputValue:r,phone:l({phone:r,prefix:n}),cursorPosition:r.length,country:t};if(b&&!o(v)&&w!==n)return{inputValue:r,phone:l({phone:d?`${t.dialCode}${r}`:r,prefix:n}),cursorPosition:D-(v?.length??0),country:t};if(u&&!w.startsWith(`${n}${t.dialCode}`)&&!g){let e=w?r:`${n}${t.dialCode}${i}`;return{inputValue:e,phone:l({phone:e,prefix:n}),cursorPosition:n.length+t.dialCode.length+i.length,country:t}}let{phone:k,inputValue:N,country:S}=s({value:w,country:t,trimNonDigitsEnd:"backward"===C,insertDialCodeOnEmpty:a,countryGuessingEnabled:c,countries:m,prefix:n,charAfterDialCode:i,forceDialCode:u,disableDialCodeAndPrefix:d,disableFormatting:p,defaultMask:f}),x=(({phoneBeforeInput:e,phoneAfterInput:t,phoneAfterFormatted:a,cursorPositionAfterInput:r,leftOffset:n=0,deletion:i})=>{if(r<n)return n;if(!e)return a.length;let l=null;for(let c=r-1;c>=0;c-=1)if(o(t[c])){l=c;break}if(null===l){for(let e=0;e<t.length;e+=1)if(o(a[e]))return e;return t.length}let s=0;for(let c=0;c<l;c+=1)o(t[c])&&(s+=1);let u=0,d=0;for(let c=0;c<a.length&&(u+=1,o(a[c])&&(d+=1),!(d>=s+1));c+=1);if("backward"!==i)for(;!o(a[u])&&u<a.length;)u+=1;return u})({cursorPositionAfterInput:D,phoneBeforeInput:r,phoneAfterInput:w,phoneAfterFormatted:N,leftOffset:u?n.length+t.dialCode.length+i.length:0,deletion:C});return{phone:k,inputValue:N,cursorPosition:x,country:S}})(e,{country:I,phoneBeforeInput:x,insertDialCodeOnEmpty:!1,...w});return A({inputValue:r,phone:t,country:n.iso2}),N(i),a},inputRef:k}},p=({phone:e,country:t,defaultMask:a="............",disableFormatting:r=!1})=>{let n=t.format,o=e=>r?e.replace(new RegExp(`[^${d}]`,"g"),""):e;if(!n)return o(a);if("string"==typeof n)return o(n);if(!n.default)return console.error(`[react-international-phone]: default mask for ${t.iso2} is not provided`),o(a);let l=Object.keys(n).find(a=>{if("default"===a)return!1;if("/"!==a.charAt(0)||"/"!==a.charAt(a.length-1))return console.error(`[react-international-phone]: format regex "${a}" for ${t.iso2} is not valid`),!1;let r=new RegExp(a.substring(1,a.length-1)),n=e.replace(t.dialCode,"");return r.test(i(n))});return o(l?n[l]:n.default)},m=e=>{let[t,a,r,n,o,i]=e;return{name:t,iso2:a,dialCode:r,format:n,priority:o,areaCodes:i}},y=({field:e,value:t,countries:r=a})=>{if(["priority"].includes(e))throw new Error((e=>`Field "${e}" is not supported`)(e));let n=r.find(a=>{let r=m(a);return t===r[e]});if(n)return m(n)},h=({phone:e,countries:t=a,currentCountryIso2:r})=>{let n={country:void 0,fullDialCodeMatch:!1};if(!e)return n;let o=i(e);if(!o)return n;let l=n,s=({country:e,fullDialCodeMatch:t})=>{let a=e.dialCode===l.country?.dialCode,r=(e.priority??0)<(l.country?.priority??0);(!a||r)&&(l={country:e,fullDialCodeMatch:t})};for(let a of t){let e=m(a),{dialCode:t,areaCodes:r}=e;if(o.startsWith(t)){let a=!l.country||Number(t)>=Number(l.country.dialCode);if(r){let a=o.substring(t.length);for(let t of r)if(a.startsWith(t))return{country:e,fullDialCodeMatch:!0}}(a||t===o||!l.fullDialCodeMatch)&&s({country:e,fullDialCodeMatch:!0})}l.fullDialCodeMatch||o.length<t.length&&t.startsWith(o)&&(!l.country||Number(t)<=Number(l.country.dialCode))&&s({country:e,fullDialCodeMatch:!1})}if(r){let e=y({value:r,field:"iso2",countries:t});if(!e)return l;let a=!!e&&(e=>{if(!e?.areaCodes)return!1;let t=o.substring(e.dialCode.length);return e.areaCodes.some(e=>e.startsWith(t))})(e);l&&l.country?.dialCode===e.dialCode&&l.country!==e&&l.fullDialCodeMatch&&(!e.areaCodes||a)&&(l={country:e,fullDialCodeMatch:!0})}return l},C=(e,t)=>{let a=parseInt(e,16);return Number(a+t).toString(16)},g="abcdefghijklmnopqrstuvwxyz".split("").reduce((e,t,a)=>({...e,[t]:C("1f1e6",a)}),{}),b=({iso2:t,size:a,src:r,protocol:o="https",disableLazyLoading:i,className:l,style:s,...u})=>t?e.createElement("img",{className:n({addPrefix:["flag-emoji"],rawClassNames:[l]}),src:(()=>{if(r)return r;let e=(e=>[g[e[0]],g[e[1]]].join("-"))(t);return`${o}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${e}.svg`})(),width:a,height:a,draggable:!1,"data-country":t,loading:i?void 0:"lazy",style:{width:a,height:a,...s},alt:"",...u}):e.createElement("img",{className:n({addPrefix:["flag-emoji"],rawClassNames:[l]}),width:a,height:a,...u}),v=({show:r,dialCodePrefix:o="+",selectedCountry:i,countries:l=a,preferredCountries:s=[],flags:u,onSelect:d,onClose:c,...f})=>{let p=t.useRef(null),y=t.useRef(),h=t.useMemo(()=>{if(!s||!s.length)return l;let e=[],t=[...l];for(let a of s){let r=t.findIndex(e=>m(e).iso2===a);if(-1!==r){let a=t.splice(r,1)[0];e.push(a)}}return e.concat(t)},[l,s]),C=t.useRef({updatedAt:void 0,value:""}),g=t.useCallback(e=>h.findIndex(t=>m(t).iso2===e),[h]),[v,w]=t.useState(g(i)),D=()=>{y.current!==i&&w(g(i))},k=t.useCallback(e=>{w(g(e.iso2)),d?.(e)},[d,g]),N=e=>{let t=h.length-1;w(a=>{let r=(a=>"prev"===e?a-1:"next"===e?a+1:"last"===e?t:0)(a);return r<0?0:r>t?t:r})},S=t.useCallback(()=>{if(!p.current||void 0===v)return;let e=m(h[v]).iso2;if(e===y.current)return;let t=p.current.querySelector(`[data-country="${e}"]`);t&&(((e,t)=>{let a=e.style.display;"block"!==a&&(e.style.display="block");let r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),o=n.top-r.top,i=r.bottom-n.bottom;o>=0&&i>=0||(Math.abs(o)<Math.abs(i)?e.scrollTop+=o:e.scrollTop-=i),e.style.display=a})(p.current,t),y.current=e)},[v,h]);return t.useEffect(()=>{S()},[v,S]),t.useEffect(()=>{p.current&&(r?p.current.focus():D())},[r]),t.useEffect(()=>{D()},[i]),e.createElement("ul",{ref:p,role:"listbox",className:n({addPrefix:["country-selector-dropdown"],rawClassNames:[f.className]}),style:{display:r?"block":"none",...f.style},onKeyDown:e=>{if(e.stopPropagation(),"Enter"===e.key){e.preventDefault();let t=m(h[v]);return void k(t)}if("Escape"!==e.key)return"ArrowUp"===e.key?(e.preventDefault(),void N("prev")):"ArrowDown"===e.key?(e.preventDefault(),void N("next")):"PageUp"===e.key?(e.preventDefault(),void N("first")):"PageDown"===e.key?(e.preventDefault(),void N("last")):(" "===e.key&&e.preventDefault(),void(1===e.key.length&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&(e=>{let t=C.current.updatedAt&&(new Date).getTime()-C.current.updatedAt.getTime()>1e3;C.current={value:t?e:`${C.current.value}${e}`,updatedAt:new Date};let a=h.findIndex(e=>m(e).name.toLowerCase().startsWith(C.current.value));-1!==a&&w(a)})(e.key.toLocaleLowerCase())));c?.()},onBlur:c,tabIndex:-1,"aria-activedescendant":`react-international-phone__${m(h[v]).iso2}-option`},h.map((t,a)=>{let r=m(t),l=r.iso2===i,d=a===v,c=s.includes(r.iso2),p=a===s.length-1,y=u?.find(e=>e.iso2===r.iso2);return e.createElement(e.Fragment,{key:r.iso2},e.createElement("li",{"data-country":r.iso2,role:"option","aria-selected":l,"aria-label":`${r.name} ${o}${r.dialCode}`,id:`react-international-phone__${r.iso2}-option`,className:n({addPrefix:["country-selector-dropdown__list-item",c&&"country-selector-dropdown__list-item--preferred",l&&"country-selector-dropdown__list-item--selected",d&&"country-selector-dropdown__list-item--focused"],rawClassNames:[f.listItemClassName,c&&f.listItemPreferredClassName,l&&f.listItemSelectedClassName,d&&f.listItemFocusedClassName]}),onClick:()=>k(r),style:f.listItemStyle,title:r.name},e.createElement(b,{iso2:r.iso2,src:y?.src,className:n({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[f.listItemFlagClassName]}),style:f.listItemFlagStyle}),e.createElement("span",{className:n({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[f.listItemCountryNameClassName]}),style:f.listItemCountryNameStyle},r.name),e.createElement("span",{className:n({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[f.listItemDialCodeClassName]}),style:f.listItemDialCodeStyle},o,r.dialCode)),p?e.createElement("hr",{className:n({addPrefix:["country-selector-dropdown__preferred-list-divider"],rawClassNames:[f.preferredListDividerClassName]}),style:f.preferredListDividerStyle}):null)}))},w=({selectedCountry:r,onSelect:o,disabled:i,hideDropdown:l,countries:s=a,preferredCountries:u=[],flags:d,renderButtonWrapper:c,...f})=>{let[p,m]=t.useState(!1),h=t.useMemo(()=>{if(r)return y({value:r,field:"iso2",countries:s})},[s,r]),C=t.useRef(null),g=e=>{e.key&&["ArrowUp","ArrowDown"].includes(e.key)&&(e.preventDefault(),m(!0))};return e.createElement("div",{className:n({addPrefix:["country-selector"],rawClassNames:[f.className]}),style:f.style,ref:C},(()=>{let t={title:h?.name,onClick:()=>m(e=>!e),onMouseDown:e=>e.preventDefault(),onKeyDown:g,disabled:l||i,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":p},a=e.createElement("div",{className:n({addPrefix:["country-selector-button__button-content"],rawClassNames:[f.buttonContentWrapperClassName]}),style:f.buttonContentWrapperStyle},e.createElement(b,{iso2:r,src:d?.find(e=>e.iso2===r)?.src,className:n({addPrefix:["country-selector-button__flag-emoji",i&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[f.flagClassName]}),style:{visibility:r?"visible":"hidden",...f.flagStyle}}),!l&&e.createElement("div",{className:n({addPrefix:["country-selector-button__dropdown-arrow",i&&"country-selector-button__dropdown-arrow--disabled",p&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[f.dropdownArrowClassName]}),style:f.dropdownArrowStyle}));return c?c({children:a,rootProps:t}):e.createElement("button",{...t,type:"button",className:n({addPrefix:["country-selector-button",p&&"country-selector-button--active",i&&"country-selector-button--disabled",l&&"country-selector-button--hide-dropdown"],rawClassNames:[f.buttonClassName]}),"data-country":r,style:f.buttonStyle},a)})(),e.createElement(v,{show:p,countries:s,preferredCountries:u,flags:d,onSelect:e=>{m(!1),o?.(e)},selectedCountry:r,onClose:()=>{m(!1)},...f.dropdownStyleProps}))},D=({dialCode:t,prefix:a,disabled:r,style:o,className:i})=>e.createElement("div",{className:n({addPrefix:["dial-code-preview",r&&"dial-code-preview--disabled"],rawClassNames:[i]}),style:o},`${a}${t}`),k=t.forwardRef(({value:r,onChange:o,countries:i=a,preferredCountries:l=[],hideDropdown:s,showDisabledDialCodeAndPrefix:u,disableFocusAfterCountrySelect:d,flags:c,style:p,className:m,inputStyle:y,inputClassName:h,countrySelectorStyleProps:C,dialCodePreviewStyleProps:g,inputProps:b,placeholder:v,disabled:k,name:N,onFocus:S,onBlur:x,required:P,autoFocus:A,...$},E)=>{let{phone:M,inputValue:I,inputRef:_,country:L,setCountry:z,handlePhoneValueChange:j}=f({value:r,countries:i,...$,onChange:e=>{o?.(e.phone,{country:e.country,inputValue:e.inputValue})}}),B=$.disableDialCodeAndPrefix&&u&&L?.dialCode;return t.useImperativeHandle(E,()=>_.current?Object.assign(_.current,{setCountry:z,state:{phone:M,inputValue:I,country:L}}):null,[_,z,M,I,L]),e.createElement("div",{ref:E,className:n({addPrefix:["input-container"],rawClassNames:[m]}),style:p},e.createElement(w,{onSelect:e=>z(e.iso2,{focusOnInput:!d}),flags:c,selectedCountry:L.iso2,countries:i,preferredCountries:l,disabled:k,hideDropdown:s,...C}),B&&e.createElement(D,{dialCode:L.dialCode,prefix:$.prefix??"+",disabled:k,...g}),e.createElement("input",{onChange:j,value:I,type:"tel",ref:_,className:n({addPrefix:["input",k&&"input--disabled"],rawClassNames:[h]}),placeholder:v,disabled:k,style:y,name:N,onFocus:S,onBlur:x,autoFocus:A,required:P,...b}))});const N=Object.freeze(Object.defineProperty({__proto__:null,CountrySelector:w,CountrySelectorDropdown:v,DialCodePreview:D,FlagImage:b,PhoneInput:k,buildCountryData:e=>{let{name:t,iso2:a,dialCode:r,format:n,priority:o,areaCodes:i}=e,l=[t,a,r,n,o,i];for(let s=0;s<l.length;s+=1){if(0===s)continue;let e=l[s-1],t=l[s];if(void 0===e&&void 0!==t){let t=JSON.stringify(l,(e,t)=>void 0===t?"__undefined":t).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${e} in: ${t}`)}}return l.filter(e=>void 0!==e)},defaultCountries:a,getActiveFormattingMask:p,getCountry:y,guessCountryByPartialPhoneNumber:h,parseCountry:m,removeDialCode:({phone:e,dialCode:t,prefix:a="+",charAfterDialCode:r=" "})=>{if(!e||!t)return e;let n=e;return n.startsWith(a)&&(n=n.replace(a,"")),n.startsWith(t)?(n=n.replace(t,""),n.startsWith(r)&&(n=n.replace(r,"")),n):e},usePhoneInput:f},Symbol.toStringTag,{value:"Module"})),S=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{S as a,N as i};
