var initial_title,initial_href,dataAlert,originalPositionY,IB_CURRENT_LEFT_CLICKS,idleListener,IB_TRACKING_IFRAME,ib_xhr_handler,IB_MAP,IB_HIDDEN_BOUNDS,IB_RECTANGLE,IB_LAST_OPENED_MARKER,ib_comm_price_sale_outer_min,ib_comm_price_sale_outer_max,ib_comm_price_sale_inner_min,ib_comm_price_sale_inner_max,ib_comm_price_rent_outer_min,ib_comm_price_rent_outer_max,ib_comm_price_rent_inner_min,ib_comm_price_rent_inner_max,ib_comm_sqft_inner_min,ib_comm_sqft_inner_max,ib_comm_bsize_inner_min,ib_comm_bsize_inner_max,ib_comm_lotsize_inner_min,ib_comm_lotsize_inner_max,ib_comm_beds_inner_min,ib_comm_beds_inner_max,ib_comm_year_inner_min,ib_comm_year_inner_max,ib_comm_rate_inner_min,ib_comm_rate_inner_max,ib_min_price,ib_max_price,ib_min_rent_price,ib_max_rent_price,ib_min_beds,ib_max_beds,ib_min_baths,ib_max_baths,ib_m_types,ib_m_parking,ib_min_living,ib_max_living,ib_min_bsize,ib_max_bsize,ib_min_land,ib_max_land,ib_min_year,ib_max_year,ib_waterfront_switch,ib_m_features,ib_min_caprate,ib_max_caprate,IB_HAS_LEFT_CLICKS=__flex_g_settings.hasOwnProperty("signup_left_clicks")&&null!=__flex_g_settings.signup_left_clicks,current_year=(new Date).getFullYear(),countClickAnonymous=(__flex_idx_search_filter_v2.search.amenities=[{name:"Foreclosure",code:"foreclosure"},{name:"Occupied",code:"is_occupied"},{name:"Short Sale",code:"short_sale"},{name:"Vacant",code:"is_vacant"}],0),IB_USER_IS_DRAWING=!1,ib_xhr_running=!1,IB_IS_SEARCH_FILTER_PAGE=!0,IB_GMAP_INIT=!1,IB_GMAP_FINISHED_POLYGON=!1,size_li_actives=0,size_li_actives_X=0,size_li=0,IB_GMAP_FIT_TO_BOUNDS=!0,IB_LOOKUP_DRAG=!1,IB_IS_FIRST_LOAD=!0,style_map=[];null!=style_map_idxboost&&""!=style_map_idxboost&&(style_map=JSON.parse(style_map_idxboost)),function(S){function handleSubmitAutocompleteForm(e){e.preventDefault();var i=D.val();if(""!==i)if(D.autocomplete("close"),19==__flex_g_settings.boardId){for(var a=0,t=r.length;a<t;a++){var n=r[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?setAutocompleteTerm(l.label,"city"):setAutocompleteTerm(i,null)}else if(/^\d+$/.test(i)&&5===i.length)setAutocompleteTerm(i,"zip");else{for(var l,a=0,t=r.length;a<t;a++){n=r[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?setAutocompleteTerm(l.label,"city"):setAutocompleteTerm(i,null)}}function handleLookupAutocomplete(e,i){var a=e.term;a in t?i(t[a]):S.ajax({url:__flex_g_settings.suggestions.service_url,dataType:"json",data:{term:e.term,board:__flex_g_settings.boardId},success:function(e){t[a]=e,i(e)}})}function setAutocompleteTerm(e,i){O.find('[name="filter_search_keyword_label"]').val(e),null===i?O.find('[name="filter_search_keyword_type"]').val(""):O.find('[name="filter_search_keyword_type"]').val(i),O.find('[name="polygon_search"]').val(""),function update_bounds_zoom_gmap(){IB_MAP.getZoom(),IB_MAP.getBounds();O.find('[name="rect"]').val(""),O.find('[name="zm"]').val(""),IB_GMAP_FIT_TO_BOUNDS=!0}(),O.find('[name="page"]').val(1),O.trigger("submit")}function handleSelectAutocomplete(e,i){setAutocompleteTerm(i.item.value,i.item.type.toLowerCase()),setTimeout(function(){document.activeElement.blur()},100)}function handleFocusAutocompleteEvent(){""===this.value&&(D.autocomplete("option","source",r),D.autocomplete("search",""))}function handleKeyPressAutocompleteEvent(e){""!==this.value&&13===e.keyCode&&(D.autocomplete("close"),setTimeout(function(){document.activeElement.blur()},100)),D.autocomplete("option","source",handleLookupAutocomplete)}function handleKeyUpAutocompleteEvent(e){if(40!=e.keyCode&&38!=e.keyCode&&39!=e.keyCode&&37!=e.keyCode){var i=this.value;if(""!==i&&13===e.keyCode)if(D.autocomplete("close"),setTimeout(function(){document.activeElement.blur()},100),19==__flex_g_settings.boardId){for(var a=0,t=r.length;a<t;a++){var n=r[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?setAutocompleteTerm(l.label,"city"):setAutocompleteTerm(i,null)}else if(/^\d+$/.test(i)&&5===i.length)setAutocompleteTerm(i,"zip");else{for(var l,a=0,t=r.length;a<t;a++){n=r[a];if(!1!==new RegExp("^"+n.label+"$","i").test(i)){l=n;break}}void 0!==l?setAutocompleteTerm(l.label,"city"):setAutocompleteTerm(i,null)}""===i&&(D.autocomplete("option","source",r),D.autocomplete("search",""))}}function handleClearAutocompleteEvent(){D.autocomplete("option","source",r),D.autocomplete("search","")}function handlePasteAutocompleteEvent(){D.autocomplete("option","source",handleLookupAutocomplete)}_.mixin({formatPrice:function(e,i,a,t,n,l,r){a="\\d(?=(\\d{"+(a||3)+"})+"+(0<i?"\\D":"$")+")",e=Number(e).toFixed(Math.max(0,~~i));return(l&&r?l:"")+(n?e.replace(".",n):e).replace(new RegExp(a,"g"),"$&"+(t||","))+(l&&!r?l:"")},formatShortPrice:function(e){var i,e=Number(e);return e<1e3?e:e<1e4?(i=Math.ceil(e/100)/10)+"K":e<1e6?(i=Math.ceil(e/1e3))<100?String(i).substr(0,2)+"K":1e3<=i?"1M":i+"K":(i=e<1e7?Math.ceil(e/1e4)/100:Math.ceil(e/1e5)/10,(i=-1!==String(i,".")?String(i).substr(0,4):i)+"M")},getMLSImage:function(e,i){return["https://retsimages.s3.amazonaws.com",e.substr(-2),i].join("/")},getMLSListImage:function(e,i,a){return["https://retsimages.s3.amazonaws.com",e.substr(-2),e].join("/")+"_"+a+".jpg"}}),Handlebars.registerHelper("capturePositionHackbox",function(e){return 1===e&&!0===__flex_idx_search_filter_v2.hackbox.status?'<li class="ib-pitem ib-pitem-marketing">'+__flex_idx_search_filter_v2.hackbox.content+"</li>":""}),Handlebars.registerHelper("formatBathsHalf",function(e){return 0<e?".5":""}),Handlebars.registerHelper("handleStatusProperty",function(e){return"yes"===e.recently_listed||""!=e.min_ago_txt?0<e.min_ago&&""!=e.min_ago_txt?'<li class="ib-piitem ib-pstatus">'+e.min_ago_txt+"</li>":'<li class="ib-piitem ib-pstatus">'+word_translate.new_listing+"</li>":1!=e.status?'<li class="ib-piitem ib-pstatus">'+e.status_name+"</li>":void 0}),Handlebars.registerHelper("formatPrice",function(e){return"$"+_.formatPrice(e)}),Handlebars.registerHelper("rentalType",function(e){return"1"==e?word_translate.similar_properties_for_rent:word_translate.Similar_properties_for_sale}),Handlebars.registerHelper("formatSqft",function(e){return[null,"",void 0,"undefined",0,"0"].includes(e)?"N/A":_.formatPrice(e)}),Handlebars.registerHelper("formatLotSize",function(e){return _.formatPrice(e)}),Handlebars.registerHelper("formatAcres",function(e,i=null){return[null,"",void 0,"undefined",0,"0"].includes(e)?"N/A":2e4<=(e=parseFloat(e.replaceAll(",","")))?"total"==i?_.formatPrice(e)+" Sq.Ft / "+parseFloat((e/43560).toFixed(2))+" Acre":parseFloat((e/43560).toFixed(2))+" Acre":_.formatPrice(e)}),Handlebars.registerHelper("hasAcre",function(e){return![null,"",void 0,"undefined",0,"0"].includes(e)&&2e4<=(e=parseFloat(e.replaceAll(",","")))}),Handlebars.registerHelper("idxFavoriteClass",function(e){var i=["ib-pfheart","ib-pfstar","ib-pfcube"][__flex_idx_search_filter_v2.search.view_icon_type],a=[];return a.push(i),e.hasOwnProperty("token_alert")&&e.token_alert.length&&a.push("ib-pf-active"),a.join(" ")}),Handlebars.registerHelper("idxPermalinkModal",function(e){return __flex_idx_search_filter_v2.propertyDetailPermalink+"/"+e}),Handlebars.registerHelper("idxPermalink",function(e){return __flex_idx_search_filter_v2.propertyDetailPermalink+"/"+e.slug}),Handlebars.registerHelper("idxFavoriteText",function(e){return""===e.token_alert?word_translate.save:word_translate.remove}),Handlebars.registerHelper("formatPriceSqft",function(e){return 0<e.sqft&&0<e.price?_.formatPrice(e.price/e.sqft):""}),Handlebars.registerHelper("idxGalleryImages",function(e){if(0<e.gallery.length){for(var i=[],a=0,t=e.gallery.length;a<t;a++)i.push(a<1?'<img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" src="'+e.gallery[a]+'" class="ib-pifimg" alt="'+e.full_address+'" alt="'+e.full_address+'">':'<img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" data-lazy="'+e.gallery[a]+'" class="gs-lazy" alt="'+e.full_address+'">');return i.join("")}return'<img src="https://www.idxboost.com/i/default_thumbnail.jpg" class="ib-pifimg" alt="'+e.full_address+'">'}),Handlebars.registerHelper("idxImage",function(e){return 0<e.img_cnt?_.getMLSImage(e.mls_num,e.image):"https://www.idxboost.com/i/default_thumbnail.jpg"}),Handlebars.registerHelper("idxRelatedImage",function(e){return""!=e.thumbnail?e.thumbnail:"https://www.idxboost.com/i/default_thumbnail.jpg"}),Handlebars.registerHelper("idxImageEmpty",function(e){return e.img_cnt<2?"ib-piwoimgs":""}),Handlebars.registerHelper("propertyHasNoImages",function(e){return 0==e.img_cnt?"ib-pvlist-wophotos":""}),Handlebars.registerHelper("markPhotosActive",function(e){return 0<parseInt(e.img_cnt,10)?"ib-pvi-active":""}),Handlebars.registerHelper("isNotSingleorCondos",function(e){return"1"!=e.tw&&"1"!=e.mf&&"1"!=e.is_vacant||""==e.more_info_info.style?"":'<li><span class="ib-plist-st">'+word_translate.style+'</span><span class="ib-plist-pt">'+e.more_info_info.style+"</span></li>"}),Handlebars.registerHelper("isSingleorCondos",function(e){return"1"!=e.tw&&"1"!=e.mf&&"1"!=e.is_vacant&&""!=e.more_info_info.style?'<li><span class="ib-plist-st">'+word_translate.style+'</span><span class="ib-plist-pt">'+e.more_info_info.style+"</span></li>":""}),Handlebars.registerHelper("markClassActiveTab",function(e){return 0<parseInt(e.img_cnt,10)?"ib-pva-photos":"ib-pva-map"}),Handlebars.registerHelper("markMapActive",function(e){return 0==parseInt(e.img_cnt,10)?"ib-pvi-active":""}),Handlebars.registerHelper("isRentalTypeListing",function(e){return 1==e?"/"+word_translate.month:""}),Handlebars.registerHelper("isRentalType",function(e){return e.hasOwnProperty("is_rental")&&"1"==e.is_rental?"/"+word_translate.month:""}),Handlebars.registerHelper("idxSliderLoop",function(e){for(var i=[],a=0,t=e.gallery.length;a<t;a++)i.push('<img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-pvsitem" src="'+e.gallery[a]+'" alt="'+e.full_address+'">');return i.join("")}),Handlebars.registerHelper("idxBoardDisclaimer",function(i){let a="";if((window.property=i).hasOwnProperty("board_info")&&i.board_info.hasOwnProperty("board_disclaimer")&&!["",null,void 0,"undefined","null"].includes(i.board_info.board_disclaimer)){let e=i.board_info.board_disclaimer.replace("{officeName}",i.office_name);e=e.replace("{office_phone}",'<a href="tel:'+i.phone_office+'">'+i.phone_office+"</a>"),a="<p>"+e+"</p>"}return a}),Handlebars.registerHelper("idxBoardDisclaimerExist",function(e){let i=!1;return i=e.hasOwnProperty("board_info")&&e.board_info.hasOwnProperty("board_disclaimer")&&!["",null,void 0,"undefined","null"].includes(e.board_info.board_disclaimer)?!0:i}),Handlebars.registerHelper("propertyPermalink",function(e){return __flex_idx_search_filter_v2.propertyDetailPermalink+"/"+e}),Handlebars.registerHelper("agentPhoto",function(e){return __flex_idx_search_filter_v2.agentPhoto}),Handlebars.registerHelper("agentFullName",function(e){return __flex_idx_search_filter_v2.agentFullName}),Handlebars.registerHelper("agentPhoneNumber",function(e){return __flex_idx_search_filter_v2.agentPhone.replace(/[^\d+]/g,"")}),Handlebars.registerHelper("agentPhone",function(e){return __flex_idx_search_filter_v2.agentPhone}),Handlebars.registerHelper("idxReduced",function(e){return e<0?'<div class="ib-pipanumber ib-pipadown">'+e+"%</div>":0<e?'<div class="ib-pipanumber">'+e+"%</div>":""}),Handlebars.registerHelper("leadFirstName",function(e){return __flex_idx_search_filter_v2.leadFirstName}),Handlebars.registerHelper("leadLastName",function(e){return __flex_idx_search_filter_v2.leadLastName}),Handlebars.registerHelper("leadEmailAddress",function(e){return __flex_idx_search_filter_v2.leadEmailAddress}),Handlebars.registerHelper("leadPhoneNumber",function(e){return __flex_idx_search_filter_v2.leadPhoneNumber}),__flex_idx_search_filter_v2.search.price_sale_range.push({label:word_translate.any_price,value:"--"}),__flex_idx_search_filter_v2.search.price_rent_range.push({label:word_translate.any_price,value:"--"}),__flex_idx_search_filter_v2.search.living_size_range.push({label:word_translate.any_size,value:"--"}),__flex_idx_search_filter_v2.search.lot_size_range.push({label:word_translate.any_size,value:"--"});var l,B,O,n,h,o,F,L,E,R,T,ie,ae,te,ne,le,re,se,oe,_e,ce,me,de,pe,ue,he,D,e,ge,be,H,fe,s,g,b,q,N,f,ve,j,xe,c,G,m,d,p,i,U,$,u=document.createDocumentFragment(),V=_.pluck(__flex_idx_search_filter_v2.search.price_sale_range,"value"),Z=_.pluck(__flex_idx_search_filter_v2.search.price_rent_range,"value"),K=_.pluck(__flex_idx_search_filter_v2.search.beds_range,"value"),Y=[0,1,2,3,4,5,6],W=_.pluck(__flex_idx_search_filter_v2.search.living_size_range,"value"),Q=_.pluck(__flex_idx_search_filter_v2.search.lot_size_range,"value"),X=_.pluck(__flex_idx_search_filter_v2.search.year_built_range,"value"),r=function ib_fetch_default_cities(){var e=_.pluck(__flex_g_settings.params.cities,"name"),i=[];if(e.length)for(var a=0,t=e.length;a<t;a++)i.push({label:e[a],type:word_translate.city});return i}(),t={},J=[],ye=[],we=!1,ee=[];function calculate_mortgage(e,i,a,t){e=e.replace(/[^\d]/g,""),i=parseFloat(i),a=a.replace(/[^\d]/g,""),t=parseFloat(t);for(var n=0,l=e*(i/100),e=e-l,r=1+(t/=100)/12,s=r,o=0;o<12*a;o++)n+=1/s,s*=r;var t=e/n,c=0,i=t+(c=i<20?e/1e5*55:c);return{mortgage:_.formatPrice(e),down_payment:_.formatPrice(l),monthly:_.formatPrice(t,2),total_monthly:_.formatPrice(i,2)}}function handleOverlayComplete(e){var i;c.getDrawingMode()&&c.setDrawingMode(null),"polygon"===e.type&&(i=(e=e.overlay).getPath(),G=e,IB_GMAP_FINISHED_POLYGON=!0,e=google.maps.geometry.encoding.encodePath(i),e=(e=btoa(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,""),O.find('[name="crid"]').val(e),e.length%4!=0&&(e+="===".slice(0,4-e.length%4)),e.replace(/-/g,"+").replace(/_/g,"/"))}function setupMapControlsFull(){(m=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),(d=document.createElement("div")).classList.add("flex-map-zoomIn"),m.appendChild(d),(p=document.createElement("div")).classList.add("flex-map-zoomOut"),m.appendChild(p),(i=document.createElement("div")).classList.add("flex-map-draw"),m.appendChild(i),document.createElement("div").classList.add("flex-map-draw-erase"),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),m.appendChild(satelliteMapButton),google.maps.event.addDomListener(d,"click",handleZoomInButton),google.maps.event.addDomListener(p,"click",handleZoomOutButton),google.maps.event.addDomListener(i,"click",handleDrawButton),google.maps.event.addDomListener(satelliteMapButton,"click",handleSatelliteButton),IB_MAP.controls[google.maps.ControlPosition.TOP_RIGHT].push(m)}function handleSatelliteButton(e){e.stopPropagation(),e.preventDefault(),IB_MAP.setMapTypeId(google.maps.MapTypeId.HYBRID),S(this).hasClass("is-active")?(S(this).removeClass("is-active"),IB_MAP.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(S(this).addClass("is-active"),IB_MAP.setMapTypeId(google.maps.MapTypeId.HYBRID))}function handleZoomInButton(e){e.stopPropagation(),e.preventDefault(),IB_MAP.setZoom(IB_MAP.getZoom()+1)}function handleZoomOutButton(e){e.stopPropagation(),e.preventDefault(),IB_MAP.setZoom(IB_MAP.getZoom()-1)}function handleDrawButton(){if(IB_LOOKUP_DRAG=!1,$.isOpen()&&$.close(),!0===we&&void 0!==U&&U.setVisible(!1),void 0!==G&&G.setMap(null),J)for(var e=0,i=J.length;e<i;e++)J[e].setVisible(!1);S(m).hide(),S("#wrap-map-draw-actions").css("display","flex"),c=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,drawingModes:["polygon"]},polygonOptions:{editable:!1,strokeWeight:1,strokeOpacity:.8,strokeColor:"#31239a",fillOpacity:.1,fillColor:"#31239a"}}),google.maps.event.addListenerOnce(c,"overlaycomplete",handleOverlayComplete),c.setMap(IB_MAP),IB_USER_IS_DRAWING=!0}function markPropertyAsFavorite(i,e,a){var t=__flex_idx_search_filter_v2.trackListingsDetail.replace(/{{mlsNumber}}/g,i);S.ajax({type:"POST",url:t,data:{access_token:l,flex_credentials:Cookies.get("ib_lead_token"),url_origin:location.origin,url_referer:document.referrer,user_agent:navigator.userAgent},success:function(e){"add"===e.type?S(this).data("token-alert",e.token_alert):S(this).data("token-alert",""),"modal"===a&&("add"===e.type?H.find(".ib-pfavorite").each(function(){S(this).data("mls")===i&&(S(this).addClass("ib-pf-active"),S(this).data("token-alert",e.token_alert))}):H.find(".ib-pfavorite").each(function(){S(this).data("mls")===i&&S(this).removeClass("ib-pf-active")})),jQuery("#_ib_lead_activity_tab").length&&jQuery("#_ib_lead_activity_tab button:eq(1)").click()}})}function formatMobileValues(e){return null==e||""==e?"":e.length?(e=e.replace(/[^0-9+]/gi,""),_.formatPrice(e)):void 0}function formatMobileSoftValues(e){return null==e||""==e?"":e.length?e.replace(/[^0-9\.+]/gi,""):void 0}function handleFilterSearchLookup(z){ib_xhr_running&&ib_xhr_handler.abort(),ib_xhr_running=!0,void 0!==z&&z.preventDefault(),void 0!==$&&$.isOpen()&&$.close(),S(".ib-temp-modal-infobox").remove(),S("#ib-apply-filters-btn").html(word_translate.searching+"..."),he.html(word_translate.searching+"..."),S(".ib-fmapply").html(word_translate.searching+"..."),fe.html(word_translate.loading_properties),S(".ib-wgrid:eq(0)").animate({scrollTop:0},0),ib_xhr_handler=S.ajax({type:"POST",url:__flex_idx_search_filter_v2.lookupSearchFilter,data:{access_token:l,flex_credentials:Cookies.get("ib_lead_token"),search_filter_id:B.data("filter-id"),post_params:O.serialize(),query_params:""!=location.search?location.search.substr(1):location.search,event_triggered:void 0!==z?"yes":"no",device_width:window.innerWidth},success:function(e){if(ib_xhr_running=!1,dataAlert=e,"undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&"undefined"!=typeof dataLayer&&e.hasOwnProperty("items")&&e.items.length){for(var i=_.pluck(e.items,"mls_num"),a=[],t=0,n=i.length;t<n;t++)a.push({id:i[t],google_business_vertical:"real_estate"});a.length&&(dataLayer.push({event:"view_item_list",items:a}),a.length=0)}"#more-options"===location.hash&&setTimeout(function(){S(".ib-bfilters").click(),history.replaceState(null,null," ")},500),IB_USER_IS_DRAWING=!1,/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&window.scrollTo(0,0);var l=e.params,r=e.pagination,s=e.items,o=e.map_items,c=e.slug,m=e.condition,d=(B.attr("data-count",r.count),B.attr("data-condition",m),B.attr("data-name",l.name),B.attr("data-params",JSON.stringify({sale_type:l.sale_type,min_rent_price:l.min_rent_price,max_rent_price:l.max_rent_price,min_sale_price:l.min_sale_price,max_sale_price:l.max_sale_price,min_beds:l.min_beds,max_beds:l.max_beds,min_living_size:l.min_living_size,max_living_size:l.max_living_size})),"0"==l.sale_type?null==l.min_sale_price&&null==l.max_sale_price?q.html(word_translate.any_price):null!=l.min_sale_price&&null!=l.max_sale_price?(q.html("$"+_.formatShortPrice(l.min_sale_price)+" - $"+_.formatShortPrice(l.max_sale_price)),console.log("[1]")):null!=l.min_sale_price&&null==l.max_sale_price?(q.html("$"+_.formatShortPrice(l.min_sale_price)+" - "+word_translate.any_price),console.log("[2]")):null==l.min_sale_price&&null!=l.max_sale_price&&(q.html("$"+_.formatShortPrice("0")+" - $"+_.formatShortPrice(l.max_sale_price)),console.log("[3]")):null==l.min_rent_price&&null==l.max_rent_price?q.html(word_translate.any_price):null!=l.min_rent_price&&null!=l.max_rent_price?(q.html("$"+_.formatShortPrice(l.min_rent_price)+" - $"+_.formatShortPrice(l.max_rent_price)),console.log("[1]")):null!=l.min_rent_price&&null==l.max_rent_price?(q.html("$"+_.formatShortPrice(l.min_rent_price)+" - "+word_translate.any_price),console.log("[2]")):null==l.min_rent_price&&null!=l.max_rent_price&&(q.html("$"+_.formatShortPrice("0")+" - $"+_.formatShortPrice(l.max_rent_price)),console.log("[3]")),null==l.min_beds&&null==l.max_beds?N.html(word_translate.any_beds):null!=l.min_beds&&null==l.max_beds?0==l.min_beds?N.html(word_translate.any_beds):N.html(_.formatShortPrice(l.min_beds)+" - "+word_translate.any_beds):N.html(_.formatShortPrice(l.min_beds)+" - "+_.formatShortPrice(l.max_beds)+" "+word_translate.beds),[]),p=__flex_idx_search_filter_v2.commercial_types;if([].forEach.call(l.property_type,function(e){for(var i=0,a=p.length;i<a;i++)p[i].value==e&&d.push(p[i].label)}),d.length?(ve.html(d.join(", ")),d.length=0):ve.html(word_translate.any_type),he.html(word_translate.view+" "+_.formatShortPrice(r.count)+" "+word_translate.listings),S(".ib-fmapply").html(word_translate.view+" "+_.formatShortPrice(r.count)+" "+word_translate.listings),S("#ib-apply-filters-btn").html(word_translate.view+" <span>"+_.formatShortPrice(r.count)+"</span> "+word_translate.properties),O.find('[name="sale_type"]').val(l.sale_type),O.find('[name="filter_search_keyword_label"]').val(l.filter_search_keyword_label),O.find('[name="filter_search_keyword_type"]').val(l.filter_search_keyword_type),O.find('[name="min_sale_price"]').val(l.min_sale_price),O.find('[name="max_sale_price"]').val(l.max_sale_price),O.find('[name="min_rent_price"]').val(l.min_rent_price),O.find('[name="max_rent_price"]').val(l.max_rent_price),O.find('[name="min_beds"]').val(l.min_beds),O.find('[name="max_beds"]').val(l.max_beds),O.find('[name="min_baths"]').val(l.min_baths),O.find('[name="max_baths"]').val(l.max_baths),O.find('[name="min_living_size"]').val(l.min_living_size),O.find('[name="max_living_size"]').val(l.max_living_size),O.find('[name="min_lot_size"]').val(l.min_lot_size),O.find('[name="max_lot_size"]').val(l.max_lot_size),O.find('[name="lot_size_measure_type"]').val(l.lot_size_measure_type),O.find('[name="min_year"]').val(l.min_year),O.find('[name="max_year"]').val(l.max_year),O.find('[name="sort_type"]').val(l.sort_type),O.find('[name="page"]').val(l.currentpage),l.hasOwnProperty("overwrite_show_hide_pending")&&(O.find('[name="overwrite_show_hide_pending"]').val(l.overwrite_show_hide_pending),"yes"===l.overwrite_show_hide_pending?(S("#pendingContigentMin").prop("checked",!0),S("#pendingContigent").prop("checked",!0),S("#pendingContigentMobile").prop("checked",!0)):(S("#pendingContigentMin").prop("checked",!1),S("#pendingContigent").prop("checked",!1),S("#pendingContigentMobile").prop("checked",!1))),l.hasOwnProperty("property_type")&&O.find('[name="property_type"]').val(l.property_type.join(",")),l.hasOwnProperty("zm")&&O.find('[name="zm"]').val(l.zm),l.hasOwnProperty("rect")&&O.find('[name="rect"]').val(l.rect),l.hasOwnProperty("polygon_search")&&O.find('[name="polygon_search"]').val(l.polygon_search),O.find('[name="parking_options"]').val(l.parking_options),l.hasOwnProperty("amenities")&&O.find('[name="amenities"]').val(l.amenities.join(",")),(!l.hasOwnProperty("filter_search_keyword_label")||!l.hasOwnProperty("polygon_search")||(null!=l.filter_search_keyword_label||null!=l.polygon_search||l.hasOwnProperty("kml_boundaries")||(IB_LOOKUP_DRAG=!0),l.hasOwnProperty("kml_boundaries")&&l.kml_boundaries.length))&&(IB_LOOKUP_DRAG=!1),""!=l.polygon_search&&null!=l.polygon_search||""!=l.filter_search_keyword_label&&null!=l.filter_search_keyword_label||(IB_LOOKUP_DRAG=!0),("0"==l.sale_type?(S(".ib-price-range-wrap").hide(),S(".ib-price-range-wrap-sale").show(),L.find("div:eq(0)")):(S(".ib-price-range-wrap").hide(),S(".ib-price-range-wrap-rent").show(),L.find("div:eq(1)"))).addClass("ib-fifor-active"),be.length)if(1<r.pages){var u=[];if(u.push('<span class="ib-pagn">'+word_translate.page+" "+l.currentpage+" "+word_translate.of+" "+r.pages+"</span>"),1<l.currentpage&&u.push('<a class="ib-pagfirst ib-paggo" data-page="1" href="#"><span>'+word_translate.first_page+"</span></a>"),r.prev&&u.push('<a class="ib-pagprev ib-paggo" data-page="'+(l.currentpage-1)+'" href="#"><span>'+word_translate.previous_page+"</span></a>"),r.range.length){u.push('<div class="ib-paglinks">');for(t=0,n=r.range.length;t<n;t++)l.currentpage==r.range[t]?u.push('<a class="ib-plitem ib-plitem-active" data-page="'+r.range[t]+'" href="#">'+r.range[t]+"</a>"):u.push('<a class="ib-plitem" data-page="'+r.range[t]+'" href="#">'+r.range[t]+"</a>");u.push("</div>")}r.next&&u.push('<a class="ib-pagnext ib-paggo" data-page="'+(l.currentpage+1)+'" href="#"><span>'+word_translate.next_page+"</span></a>"),l.currentpage<r.pages&&u.push('<a class="ib-paglast ib-paggo" data-page="'+r.pages+'" href="#"><span>'+word_translate.last_page+"</span></a>"),u.length&&(be.html(u.join("")),u.length=0)}else be.html("");ge.length&&ge.val(l.sort_type),fe.length&&fe.html(word_translate.showing+" "+r.start+" "+word_translate.to+" "+r.end+" "+word_translate.of+" "+_.formatPrice(r.count)+" "+word_translate.properties+"."),""!=l.filter_search_keyword_label&&D.val(l.filter_search_keyword_label),F.length&&F.find("input").each(function(e,i){var a=-1===S.inArray(i.value,l.property_type)?parseInt(i.value,10):i.value;-1!=S.inArray(a,l.property_type)&&(i.checked=!0)}),IB_LB_MEASURE_TYPE.length&&IB_LB_MEASURE_TYPE.each(function(){l.lot_size_measure_type,S(this).val()}),S(".ib-status-types").each(function(){S(this).find("input").each(function(){-1!==S.inArray(this.value,l.amenities)&&(this.checked=!0)})}),ib_comm_rate_inner_min.length&&O.find('[name="min_cap_rate"]').val(l.min_cap_rate),ib_comm_rate_inner_max.length&&O.find('[name="max_cap_rate"]').val(l.max_cap_rate),le.length&&null!=l.min_sale_price&&""!=l.min_sale_price&&(m=_.formatPrice(l.min_sale_price),le.val(m)),re.length&&null!=l.max_sale_price&&""!=l.max_sale_price&&(m=_.formatPrice(l.max_sale_price),re.val(m)),se.length&&null!=l.min_rent_price&&""!=l.min_rent_price&&(m=_.formatPrice(l.min_rent_price),se.val(m)),oe.length&&null!=l.max_rent_price&&""!=l.max_rent_price&&(m=_.formatPrice(l.max_rent_price),oe.val(m)),_e.length&&(m=null==l.min_year?"1900":l.min_year,_e.val(m)),ce.length&&(m=null==l.max_year?current_year:l.max_year,ce.val(m)),ib_comm_bsize_inner_min.length&&null!=l.min_building_size&&""!=l.min_building_size&&(m=l.min_building_size.replace(/[^0-9+]/gi,""),ib_comm_bsize_inner_min.val(_.formatPrice(m))),ib_comm_bsize_inner_max.length&&null!=l.max_building_size&&""!=l.max_building_size&&(m=l.max_building_size.replace(/[^0-9+]/gi,""),ib_comm_bsize_inner_max.val(_.formatPrice(m))),ib_comm_beds_inner_min.length&&null!=l.min_beds&&""!=l.min_beds&&ib_comm_beds_inner_min.val(l.min_beds),ib_comm_beds_inner_max.length&&null!=l.max_beds&&""!=l.max_beds&&ib_comm_beds_inner_max.val(l.max_beds),ib_comm_rate_inner_min.length&&null!=l.min_cap_rate&&""!=l.min_cap_rate&&ib_comm_rate_inner_min.val(l.min_cap_rate),ib_comm_rate_inner_max.length&&null!=l.max_cap_rate&&""!=l.max_cap_rate&&ib_comm_rate_inner_max.val(l.max_cap_rate),me.length&&null!=l.min_living_size&&""!=l.min_living_size&&(m=_.formatPrice(l.min_living_size),2e4<=parseFloat(l.min_living_size)&&(m=(parseFloat(l.min_living_size)/43560).toFixed(2)+" Acre"),me.val(m)),de.length&&null!=l.max_living_size&&""!=l.max_living_size&&(m=_.formatPrice(l.max_living_size),2e4<=parseFloat(l.max_living_size)&&(m=(parseFloat(l.max_living_size)/43560).toFixed(2)+" Acre"),de.val(m)),pe.length&&null!=l.min_lot_size&&""!=l.min_lot_size&&(m=_.formatPrice(l.min_lot_size),2e4<=parseFloat(l.min_lot_size)&&(m=(parseFloat(l.min_lot_size)/43560).toFixed(2)+" Acre"),pe.val(m)),ue.length&&null!=l.max_lot_size&&""!=l.max_lot_size&&(m=_.formatPrice(l.max_lot_size),2e4<=parseFloat(l.max_lot_size)&&(m=(parseFloat(l.max_lot_size)/43560).toFixed(2)+" Acre"),ue.val(m)),E.slider("option","values",function getPriceSaleValues(e,i){return[null==e||"--"==e?0:V.indexOf(parseInt(e,10)),null==i||"--"==i?V.length-1:V.indexOf(parseInt(i,10))]}(l.min_sale_price,l.max_sale_price)),R.slider("option","values",function getPriceRentValues(e,i){return[null==e||"--"==e?0:Z.indexOf(parseInt(e,10)),null==i||"--"==i?Z.length-1:Z.indexOf(parseInt(i,10))]}(l.min_rent_price,l.max_rent_price)),ne.slider("option","values",function getYearValues(e,i){return[null==e?0:X.indexOf(parseInt(e,10)),null==i?X.length-1:X.indexOf(parseInt(i,10))]}(l.min_year,l.max_year)),T.slider("option","values",function getBedroomValues(e,i){return[null==e?0:K.indexOf(parseInt(e,10)),null==i?K.length-1:K.indexOf(parseInt(i,10))]}(l.min_beds,l.max_beds)),ie.slider("option","values",function getBathroomValues(e,i){return[null==e?0:Y.indexOf(parseInt(e,10)),null==i?Y.length-1:Y.indexOf(parseInt(i,10))]}(l.min_baths,l.max_baths)),ae.slider("option","values",function getLivingSizeValues(e,i){return[null==e||"--"==e?0:W.indexOf(parseInt(e,10)),null==i||"--"==i?W.length-1:W.indexOf(parseInt(i,10))]}(l.min_living_size,l.max_living_size)),te.slider("option","values",function getLandSizeValues(e,i){return[null==e||"--"==e?0:Q.indexOf(parseInt(e,10)),null==i||"--"==i?Q.length-1:Q.indexOf(parseInt(i,10))]}(l.min_lot_size,l.max_lot_size));m=S("#ib-aside-template").html(),m=Handlebars.compile(m);if(H.html(m(s)),initial_href=void 0!==z?""!=c?(history.pushState(null,null,"?"+decodeURIComponent(c)),initial_title=document.title,"?"+decodeURIComponent(c)):(history.pushState(null,null,__flex_idx_search_filter_v2.searchFilterPermalink),initial_title=document.title,__flex_idx_search_filter_v2.searchFilterPermalink):(initial_title=document.title,location.href),void 0===IB_MAP&&(I=l.rect.split(","),A=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(I[0]),parseFloat(I[1])),new google.maps.LatLng(parseFloat(I[2]),parseFloat(I[3]))),(IB_MAP=new google.maps.Map(document.getElementById("flex_idx_search_filter_map"),{center:{lat:A.getCenter().lat(),lng:A.getCenter().lng()},zoom:parseInt(l.zm,10),clickableIcons:!1,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,styles:style_map,gestureHandling:"greedy",disableDefaultUI:!0,streetViewControl:!0})).addListener("bounds_changed",function(){void 0!==IB_MAP&&jQuery("#flex_idx_search_filter").hasClass("ib-vmap-active")&&(O.find('[name="rect"]').val(IB_MAP.getBounds().toUrlValue()),O.find('[name="zm"]').val(IB_MAP.getZoom()))}),IB_MAP.addListener("dragend",function(){var e=IB_MAP.addListener("idle",function(){google.maps.event.removeListener(e),function handleDragSearchEvent(){var e,i;!0!==IB_USER_IS_DRAWING&&!1!==IB_GMAP_INIT&&(e=IB_MAP.getZoom(),(i=IB_MAP.getBounds()).getCenter(),O.find('[name="rect"]').val(i.toUrlValue()),O.find('[name="zm"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit"))}()})}),function fillValuesMobileForm(e){var a=e.params;S(".ib-item-collapse-saletype").hide(),("1"==a.sale_type?(S("#ib_m_rental_type_r").click(),S(".ib-item-collapse-sale").hide(),S(".ib-item-collapse-rent")):(S("#ib_m_rental_type_s").click(),S(".ib-item-collapse-rent").hide(),S(".ib-item-collapse-sale"))).show(),null!=a.min_sale_price&&ib_min_price.val(formatMobileValues(a.min_sale_price)),null!=a.max_sale_price&&ib_max_price.val(formatMobileValues(a.max_sale_price)),null!=a.min_rent_price&&ib_min_rent_price.val(formatMobileValues(a.min_rent_price)),null!=a.max_rent_price&&ib_max_rent_price.val(formatMobileValues(a.max_rent_price)),null!=a.min_beds&&ib_min_beds.val(formatMobileValues(a.min_beds)),null!=a.max_beds&&ib_max_beds.val(formatMobileValues(a.max_beds)),a.property_type=_.map(a.property_type,function(e){return e+""}),ib_m_types.find(":input").each(function(e,i){-1!==S.inArray(i.value,a.property_type)&&S(i).click()}),null!=a.min_living_size&&ib_min_living.val(formatMobileValues(a.min_living_size)),null!=a.max_living_size&&ib_max_living.val(formatMobileValues(a.max_living_size)),null!=a.min_building_size&&ib_min_bsize.val(formatMobileValues(a.min_building_size)),null!=a.max_building_size&&ib_max_bsize.val(formatMobileValues(a.max_building_size)),null!=a.min_lot_size&&ib_min_land.val(formatMobileValues(a.min_lot_size)),null!=a.max_lot_size&&ib_max_land.val(formatMobileValues(a.max_lot_size)),null!=a.min_year&&ib_min_year.val(a.min_year),null!=a.max_year&&ib_max_year.val(a.max_year),a.hasOwnProperty("amenities")&&ib_m_features.find(":input").each(function(e,i){-1!==S.inArray(i.value,a.amenities)&&S(i).click()}),null!=a.min_cap_rate&&ib_min_caprate.val(formatMobileSoftValues(a.min_cap_rate)),null!=a.max_cap_rate&&ib_max_caprate.val(formatMobileSoftValues(a.max_cap_rate))}(e),function attachListenersMobileForm(){S("#ib_m_rental_type_s").on("click",function(){S(".ib-item-collapse-saletype").hide(),S(".ib-item-collapse-sale").show(),O.find('[name="sale_type"]').val("0"),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#ib_m_rental_type_r").on("click",function(){S(".ib-item-collapse-saletype").hide(),S(".ib-item-collapse-rent").show(),O.find('[name="sale_type"]').val("1"),O.find('[name="page"]').val(1),O.trigger("submit")}),ib_min_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_sale_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_sale_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_rent_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_rent_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_rent_price.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_rent_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_living.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_living_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_living.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_living_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_bsize.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_building_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_bsize.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_building_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_land.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_lot_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_land.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_lot_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_min_beds.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_beds"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_max_beds.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_beds"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_m_types.on("change","input",function(){var e=ib_m_types.find(":checked"),i=[];e.each(function(){i.push(S(this).val())}),O.find('[name="property_type"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit"),i.length=0}),ib_min_year.on("change",function(){var e=S(this).val();"--"==e&&(e=""),O.find('[name="min_year"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")}),ib_max_year.on("change",function(){var e=S(this).val();"--"==e&&(e=""),O.find('[name="max_year"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")}),ib_m_features.on("change","input",function(){var e=ib_m_features.find(":checked"),i=[];e.each(function(){i.push(S(this).val())}),O.find('[name="amenities"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit"),i.length=0}),ib_min_caprate.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),O.find('[name="min_cap_rate"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),ib_max_caprate.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),O.find('[name="max_cap_rate"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}})}(),google.maps.event.addListenerOnce(IB_MAP,"tilesloaded",setupMapControlsFull),S(document).on("click",".ib-removeb-tg",function(){var e,i;IB_GMAP_FINISHED_POLYGON=!1,window.innerWidth<990?(S(".idx-bta-map").click(),setTimeout(function(){IB_LOOKUP_DRAG=!0,O.find('[name="filter_search_keyword_label"]').val(""),O.find('[name="filter_search_keyword_type"]').val(""),O.find('[name="polygon_search"]').val(""),O.find('[name="page"]').val(1),void 0!==U&&U.setMap(null),void 0!==G&&G.setMap(null),we=!1;IB_MAP.getCenter();var e=IB_MAP.getZoom(),i=IB_MAP.getBounds();xe.addClass("ib-removeb-hide"),O.find('[name="rect"]').val(i.toUrlValue()),O.find('[name="zm"]').val(e),O.trigger("submit")},100)):(IB_LOOKUP_DRAG=!0,O.find('[name="filter_search_keyword_label"]').val(""),O.find('[name="filter_search_keyword_type"]').val(""),O.find('[name="polygon_search"]').val(""),O.find('[name="page"]').val(1),void 0!==U&&U.setMap(null),void 0!==G&&G.setMap(null),we=!1,IB_MAP.getCenter(),e=IB_MAP.getZoom(),i=IB_MAP.getBounds(),xe.addClass("ib-removeb-hide"),O.find('[name="rect"]').val(i.toUrlValue()),O.find('[name="zm"]').val(e),O.trigger("submit"))})),l.hasOwnProperty("kml_boundaries")?(void 0!==U&&U.setMap(null),U=new google.maps.Polygon({paths:function ib_generate_latlng_from_kml(e){for(var i,a=[],t=e.split(","),n=0,l=t.length;n<l;n++)i=t[n].split(" "),a.push(new google.maps.LatLng(i[0],i[1]));return a}(l.kml_boundaries),draggable:!1,editable:!1,strokeColor:"#31239a",strokeOpacity:.8,strokeWeight:1,fillColor:"#31239a",fillOpacity:.1}),void 0!==G&&G.setMap(null),U.setMap(IB_MAP),we=!0,xe.removeClass("ib-removeb-hide")):(xe.addClass("ib-removeb-hide"),void 0!==U&&U.setMap(null)),J.length){for(t=0,n=J.length;t<n;t++)J[t].setMap(null);J.length=0}var h=new google.maps.LatLngBounds;IB_HIDDEN_BOUNDS=new google.maps.LatLngBounds;for(var g,b,f=[],v=[],x=[],t=0,n=o.length;t<n;t++)w=(y=o[t]).lat+":"+y.lng,-1===_.indexOf(f,w)&&(f.push(w),v.push(y));for(t=0,n=v.length;t<n;t++){for(var y,w=[(y=v[t]).lat,y.lng],k=[],P=0,C=o.length;P<C;P++)(g=o[P]).lat==w[0]&&g.lng==w[1]&&k.push(g);x.push({item:y,group:k})}for(t=0;t<x.length;t++)b=x[t],(j=new RichMarker({position:new google.maps.LatLng(parseFloat(b.item.lat),parseFloat(b.item.lng)),map:IB_MAP,flat:!0,content:1<b.group.length?'<div class="dgt-richmarker-group"><strong>'+b.group.length+"</strong><span>"+word_translate.units+"</span></div>":'<div class="dgt-richmarker-single"><strong>$'+_.formatShortPrice(b.item.price)+"</strong></div>",anchor:RichMarkerPosition.TOP})).geocode=b.item.lat+":"+b.item.lng,j.mls_num=b.item.mls_num,j.iblength=b.group.length,J.push(j),l.hasOwnProperty("kml_boundaries")?U.getPath().forEach(function(e){h.extend(e),IB_HIDDEN_BOUNDS.extend(e)}):(h.extend(j.position),IB_HIDDEN_BOUNDS.extend(j.position)),google.maps.event.addListener(j,"click",function handleMarkerClick(n,l,r){return function(){if(IB_LAST_OPENED_MARKER=n,1<l.group.length){ee.push('<div class="ib-infobox ib-ibmulti">'),ee.push('<div class="ib-ibwtitle">'),ee.push('<div class="ib-ibcount">'+l.group.length+" <span>units </span></div>"),null!=l.item.complex&&""!==l.item.complex?ee.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.complex+"</span></h3>"):(null==l.item.development&&(l.item.development=""),ee.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.development+"</span></h3>")),ee.push('<div class="ib-ibclose"><span>Close</span></div>'),ee.push("</div>"),ee.push('<ul class="ib-ibproperties">');for(var e=0,i=l.group.length;e<i;e++){var a=l.group[e];ee.push('<li class="ib-ibpitem" data-mls="'+a.mls_num+'" data-status="'+a.status+'">'),ee.push('<div class="ib-ibpa">'),ee.push('<h4 class="ib-ibptitle">'+a.address_short+"</h4>"),ee.push('<ul class="ib-ibdetails">'),ee.push('<li class="ib-ibditem ib-ibaddress">'+a.address_large+"</li>"),1==a.is_rental?ee.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(a.price)+"/"+word_translate.month+"</li>"):ee.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(a.price)+"</li>"),ee.push('<li class="ib-ibditem ib-ibbeds"><span class="ib-ibdbold">'+a.property_class_name+"</span></li>"),ee.push('<li class="ib-ibditem ib-ibbaths"><span class="ib-ibdbold">'+_.formatPrice(a.lot_size)+"</span> Lot Size</li>"),ee.push("</ul>"),ee.push("</div>"),__flex_g_settings.hasOwnProperty("board_info")&&__flex_g_settings.board_info.hasOwnProperty("board_logo_url")&&!["",null,void 0,"undefined","null"].includes(__flex_g_settings.board_info.board_logo_url)?ee.push('<div class="ib-ibpb"><img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-ibimg" src="'+a.thumbnail+'" alt="'+l.full_address+'"><img src="'+__flex_g_settings.board_info.board_logo_url+'" style="position: absolute;bottom: 10px;z-index: 2;width: 80px;right: 10px;height:auto"></div>'):ee.push('<div class="ib-ibpb"><img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-ibimg" src="'+a.thumbnail+'" alt="'+l.full_address+'"></div>'),ee.push('<a href="'+__flex_idx_search_filter_v2.propertyDetailPermalink+"/"+a.slug+'"></a></li>')}}else ee.push('<div class="ib-infobox">'),ee.push('<div class="ib-ibwtitle">'),null!=l.item.complex&&""!==l.item.complex?ee.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.complex+"</span></h3>"):(null==l.item.development&&(l.item.development=""),ee.push('<h3 class="ib-ibtitle"><span class="ib-ibtxt">'+l.item.development+"</span></h3>")),ee.push('<button class="ib-ibclose" aria-label="Close"><span>Close</span></button>'),ee.push("</div>"),ee.push('<ul class="ib-ibproperties">'),ee.push('<li class="ib-ibpitem" data-mls="'+l.item.mls_num+'" data-status="'+l.item.status+'">'),ee.push('<div class="ib-ibpa">'),ee.push('<h4 class="ib-ibptitle">'+l.item.address_short+"</h4>"),ee.push('<ul class="ib-ibdetails">'),ee.push('<li class="ib-ibditem ib-ibaddress">'+l.item.address_large+"</li>"),1==l.item.is_rental?ee.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(l.item.price)+"/"+word_translate.month+"</li>"):ee.push('<li class="ib-ibditem ib-ibprice">$'+_.formatPrice(l.item.price)+"</li>"),ee.push('<li class="ib-ibditem ib-ibbeds"><span class="ib-ibdbold">'+l.item.property_class_name+"</span></li>"),ee.push('<li class="ib-ibditem ib-ibbaths"><span class="ib-ibdbold">'+_.formatPrice(l.item.lot_size)+"</span> Lot Size</li>"),ee.push("</ul>"),ee.push("</div>"),__flex_g_settings.hasOwnProperty("board_info")&&__flex_g_settings.board_info.hasOwnProperty("board_logo_url")&&!["",null,void 0,"undefined","null"].includes(__flex_g_settings.board_info.board_logo_url)?ee.push('<div class="ib-ibpb"><img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-ibimg" src="'+l.item.thumbnail+'" alt="'+l.full_address+'"><img src="'+__flex_g_settings.board_info.board_logo_url+'" style="position: absolute;bottom: 10px;z-index: 2;width: 80px;right: 10px;height:auto"></div>'):ee.push('<div class="ib-ibpb"><img onerror="this.src=\'https://www.idxboost.com/i/default_thumbnail.jpg\';" class="ib-ibimg" src="'+l.item.thumbnail+'" alt="'+l.full_address+'"></div>'),ee.push('<a href="'+__flex_idx_search_filter_v2.propertyDetailPermalink+"/"+l.item.slug+'"></a></li>');if(ee.push("</ul>"),ee.push("</div>"),ee.length)if(window.innerWidth<990){S(".ib-temp-modal-infobox").remove();let e=0;var t=S(".content-rsp-btn"),t=(t.length&&t.is(":visible")?e+=t.height()+Number(t.css("bottom").replace("px",""))+5:(t=S(".cta-container")).length&&t.is(":visible")&&(e+=t.height()+Number(t.css("bottom").replace("px",""))+5),document.createElement("div"));t.style.cssText="bottom: "+e+"px;",t.setAttribute("class","ib-temp-modal-infobox"),t.innerHTML=ee.join(""),ee.length=0,document.body.appendChild(t)}else $.setContent(ee.join("")),$.open(r,n),ee.length=0}}(j,b,IB_MAP)),google.maps.event.addListener(j,"mouseover",function handleMarkerMouseOver(e){return function(){jQuery(e.a).addClass("ib-search-marker-active"),(IB_LAST_OPENED_MARKER=e).setZIndex(google.maps.Marker.MAX_ZINDEX+1)}}(j)),google.maps.event.addListener(j,"mouseout",function handleMarkerMouseOut(e){return function(){jQuery(e.a).removeClass("ib-search-marker-active"),e.setZIndex(google.maps.Marker.MAX_ZINDEX-1)}}(j));J.length&&(ye.length=0,ye=_.pluck(J,"mls_num")),0===s.length&&S(".ib-heading-ct").html(word_translate.showing+" 0 "+word_translate.properties+"."),void 0===z&&(M=new URLSearchParams(window.location.search)).has("show")&&(m=M.get("show"),loadPropertyInModal(m));var I,A,M=new URLSearchParams(window.location.search);!1===IB_GMAP_INIT&&(IB_GMAP_INIT=!0,M.has("rect")&&M.has("zm")&&(I=M.get("rect").split(","),c=parseInt(M.get("zm"),10),A=new google.maps.LatLngBounds(new google.maps.LatLng(parseFloat(I[0]),parseFloat(I[1])),new google.maps.LatLng(parseFloat(I[2]),parseFloat(I[3]))),IB_MAP.setCenter({lat:A.getCenter().lat(),lng:A.getCenter().lng()}),IB_MAP.setZoom(c))),google.maps.event.clearListeners(IB_MAP,"idle"),!0===IB_GMAP_FIT_TO_BOUNDS&&(M.has("rect")||M.has("zm")||0<location.search.length&&IB_MAP.fitBounds(h),IB_GMAP_FIT_TO_BOUNDS=!1)}})}"undefined"==typeof loadPropertyInModal&&(loadPropertyInModal=function(e){/webOS|iPhone|iPad/i.test(navigator.userAgent)&&S("body").addClass("only-mobile"),lastOpenedProperty=e,void 0!==$&&$.isOpen()&&$.close();e=__flex_idx_search_filter_v2.lookupListingsDetail.replace(/{{mlsNumber}}/g,e);S.ajax({type:"POST",url:e,data:{access_token:l,flex_credentials:Cookies.get("ib_lead_token"),onimage:"noresize"},success:function(i){var e,a,t,n,l,r;function handleSatelliteButton(e){e.stopPropagation(),e.preventDefault(),t.setMapTypeId(google.maps.MapTypeId.HYBRID),S(this).hasClass("is-active")?(S(this).removeClass("is-active"),t.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(S(this).addClass("is-active"),t.setMapTypeId(google.maps.MapTypeId.HYBRID))}function handleZoomInButton(e){e.stopPropagation(),e.preventDefault(),t.setZoom(t.getZoom()+1)}function handleZoomOutButton(e){e.stopPropagation(),e.preventDefault(),t.setZoom(t.getZoom()-1)}function handlefullscreenButton(){var e=t.getDiv().firstChild;isFullscreen(e)?function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}():function requestFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen()}(e),document.onwebkitfullscreenchange=document.onmsfullscreenchange=document.onmozfullscreenchange=document.onfullscreenchange=function(){isFullscreen(e)?fullscreenControl.classList.add("is-fullscreen"):fullscreenControl.classList.remove("is-fullscreen")}}function isFullscreen(e){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)==e}jQuery("#_ib_lead_activity_tab").length&&jQuery("#_ib_lead_activity_tab button:eq(0)").click(),void 0!==IB_TRACKING_IFRAME&&S(IB_TRACKING_IFRAME).remove(),"undefined"!=typeof dataLayer&&__flex_g_settings.hasOwnProperty("has_dynamic_ads")&&"1"==__flex_g_settings.has_dynamic_ads&&i.hasOwnProperty("mls_num")&&i.hasOwnProperty("price")&&(l=parseInt(i.price.replace(/[^\d+]/g,"")),dataLayer.push({event:"view_item",value:l,items:[{id:i.mls_num,google_business_vertical:"real_estate"}]})),setTimeout(function(){var e;0<S(".ib-property-mortage-submit").length&&(e=i.price,S(".ib-property-mortgage-f:eq(0)").trigger("reset"),e=calculate_mortgage(e,S(".ib-property-mc-dp:eq(0)").val(),S(".ib-property-mc-ty:eq(0)").val(),S(".ib-property-mc-ir:eq(0)").val()),S(".ib-price-calculator").text("$"+e.monthly+"/mo"),S(".js-est-payment").hide(),"0"==i.is_rental&&S(".js-est-payment").show())},1e3),(IB_TRACKING_IFRAME=document.createElement("iframe")).setAttribute("id","__ib-tracking-iframe"),IB_TRACKING_IFRAME.setAttribute("src",__flex_idx_search_filter_v2.propertyDetailPermalink+"/"+i.slug),IB_TRACKING_IFRAME.style.width="1px",IB_TRACKING_IFRAME.style.height="1px",document.body.appendChild(IB_TRACKING_IFRAME),IB_TRACKING_IFRAME.onload=function(){setTimeout(function(){S(IB_TRACKING_IFRAME).remove()},3e3)},s.length&&g.length&&(l=Handlebars.compile(g.html()),s.html(l(i)),l=void 0!==Cookies.get("_ib_user_firstname")?Cookies.get("_ib_user_firstname"):"",e=void 0!==Cookies.get("_ib_user_lastname")?Cookies.get("_ib_user_lastname"):"",a=void 0!==Cookies.get("_ib_user_email")?Cookies.get("_ib_user_email"):"",n=void 0!==Cookies.get("_ib_user_phone")&&"null"!=Cookies.get("_ib_user_phone")?Cookies.get("_ib_user_phone"):"",S("#_ib_fn_inq").val(l),S("#_ib_ln_inq").val(e),S("#_ib_em_inq").val(a),S("#_ib_ph_inq").val(n),0<parseInt(i.img_cnt,10)&&(b=s.find(".ib-pvslider:eq(0)"),i.gallery.length&&(b=b.greatSlider({type:"swipe",nav:!0,bullets:!1,lazyLoad:!0,navSpeed:150,layout:{fsButtonDefaultStyles:!1,fsButtonClass:"ib-btnfs"},fullscreen:!1,breakPoints:{768:{fullscreen:!0},640:{items:2},1024:{items:3}},onInited:function(){767<S(window).width()&&s.find(".gs-item-slider").on("click",function(){b.fullscreen("in",S(this).index()+1)});var e=s.find(".ib-pvsinumber");e.length?s.find(".ib-pvsinumber").text(s.find(".gs-item-active").index()+1+" of "+s.find(".ib-pvsitem").length):s.find(".gs-container-items").append('<span class="ib-pvsinumber">'+(s.find(".gs-item-active").index()+1)+" of "+s.find(".ib-pvsitem").length+"</span>")},onLoadedItem:function(e,i,a){"success"!=a&&setTimeout(function(){e.attr("src","https://www.idxboost.com/i/default_thumbnail.jpg")},2e3)},onFullscreenIn:()=>{s.find(".ib-pvsititle").length||s.find(".gs-container-items").append('<span class="ib-pvsititle">'+S(".ib-ptitle").text()+" "+S(".ib-pstitle").text()+"</span>")},onStepEnd:(e,i)=>{s.find(".ib-pvsinumber").text(i+" of "+s.find(".ib-pvsitem").length)}}))),0===parseInt(i.img_cnt,10)&&(l={lat:parseFloat(i.lat),lng:parseFloat(i.lng)},e=new google.maps.Map(s.find(".ib-pmap")[0],{zoom:18,center:l,styles:style_map,gestureHandling:"cooperative",panControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,streetViewControl:!0}),new google.maps.Marker({position:l,map:e})),S("#ib-modal-property-map").length&&(a={lat:parseFloat(i.lat),lng:parseFloat(i.lng)},t=new google.maps.Map(document.getElementById("ib-modal-property-map"),{zoom:18,center:a,styles:style_map,gestureHandling:"cooperative",panControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,streetViewControl:!0}),new google.maps.Marker({position:a,map:t}),google.maps.event.addListenerOnce(t,"tilesloaded",function setupMapControls2(){(m=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),m.appendChild(fullscreenControl),(d=document.createElement("div")).classList.add("flex-map-zoomIn"),m.appendChild(d),(p=document.createElement("div")).classList.add("flex-map-zoomOut"),m.appendChild(p),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),m.appendChild(satelliteMapButton),google.maps.event.addDomListener(d,"click",handleZoomInButton),google.maps.event.addDomListener(p,"click",handleZoomOutButton),google.maps.event.addDomListener(fullscreenControl,"click",handlefullscreenButton),google.maps.event.addDomListener(satelliteMapButton,"click",handleSatelliteButton),t.controls[google.maps.ControlPosition.TOP_RIGHT].push(m)})),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(document.title="Checkout this property #"+i.mls_num+" "+i.address_short+" "+i.address_large,history.pushState(null,null,__flex_g_settings.propertyDetailPermalink+"/"+i.slug)):((n=new URLSearchParams(window.location.search)).set("show",i.mls_num),history.pushState(null,null,"?"+n.toString())),"yes"===__flex_g_settings.anonymous&&(l=JSON.parse(Cookies.get("_ib_user_listing_views")),-1===S.inArray(i.mls_num,l)&&(l.push(i.mls_num),Cookies.set("_ib_user_listing_views",JSON.stringify(l)))),void 0===Cookies.get("_ib_disabled_forcereg")&&(!0===IB_HAS_LEFT_CLICKS?(IB_CURRENT_LEFT_CLICKS=parseInt(Cookies.get("_ib_left_click_force_registration"),10)-1,Cookies.set("_ib_left_click_force_registration",IB_CURRENT_LEFT_CLICKS),parseInt(Cookies.get("_ib_left_click_force_registration"),10)<=0&&"yes"===__flex_g_settings.anonymous&&(S("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),S("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),S("#modal_login").find(".item_tab").removeClass("active"),S("#tabRegister").addClass("active"),S("#modal_login #msRst").empty().html(S("#mstextRst").html()),S("button.close-modal").addClass("ib-close-mproperty"),S(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),S("#modal_login h2").html(S("#modal_login").find("[data-tab]:eq(1)").data("text-force")),r=S(".header-tab a[data-tab='tabRegister']").attr("data-text"),S("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(r))):"yes"===__flex_g_settings.anonymous&&__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&(S("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),S("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),S("#modal_login").find(".item_tab").removeClass("active"),S("#tabRegister").addClass("active"),S("#modal_login #msRst").empty().html(S("#mstextRst").html()),S("button.close-modal").addClass("ib-close-mproperty"),S(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),S("#modal_login h2").html(S("#modal_login").find("[data-tab]:eq(1)").data("text-force")),r=S(".header-tab a[data-tab='tabRegister']").attr("data-text"),S("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(r))),S("html").addClass("ib-mpropertie-open"),__flex_g_settings.hasOwnProperty("google_recaptcha_public_key")&&""!=__flex_g_settings.google_recaptcha_public_key&&(S(".ib-propery-inquiry-f:eq(0)").find('input[name="recaptcha_response"]').remove(),grecaptcha.execute(__flex_g_settings.google_recaptcha_public_key).then(function(e){S(".ib-propery-inquiry-f:eq(0)").append('<input type="hidden" name="recaptcha_response" value="'+e+'">'),console.dir(e)})))}})}),window.saveFilterSearchForLead=function saveFilterSearchForLead(){var e=location.href,i=(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&(e=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(initial_href)?initial_href:__flex_idx_search_filter_v2.searchFilterPermalink+initial_href),B.attr("data-count")),a=B.attr("data-condition"),t=B.attr("data-name"),n=(B.attr("data-params"),B.data("filter-id"));"no"===__flex_g_settings.anonymous&&S.ajax({type:"POST",url:__flex_idx_search_filter_v2.saveListings.replace(/{{filterId}}/g,n),data:{access_token:l,search_rk:__flex_idx_search_filter_v2.rk,search_wp_web_id:__flex_idx_search_filter_v2.wp_web_id,flex_credentials:Cookies.get("ib_lead_token"),search_filter_id:B.data("filter-id"),search_url:e,search_count:i,search_condition:a,search_name:t,search_params:JSON.stringify(dataAlert.params)},success:function(e){}})},S(function(){D=S(".ib-fmsearch:eq(0)"),(e=S(".ib-kw-tg-search:eq(0)")).length&&e.on("click",handleSubmitAutocompleteForm),D.length&&(D.autocomplete({open:function(e,i){S(".ui-autocomplete").off("menufocus hover mouseover mouseenter")},create:function(e,i){S(this).attr("autocomplete","disabled")},minLength:0,source:handleLookupAutocomplete,select:handleSelectAutocomplete,appendTo:"#ib-autocomplete-add"}),D.autocomplete("instance")._renderItem=function(e,i){return("complex"===i.type?S("<li>").append("<div>"+i.label+'<span class="autocomplete-item-type">Complex / Subdivision</span></div>'):S("<li>").append("<div>"+i.label+'<span class="autocomplete-item-type">'+i.type+"</span></div>")).appendTo(e)},D.on("focus",handleFocusAutocompleteEvent),D.on("keypress",handleKeyPressAutocompleteEvent),D.on("keyup",handleKeyUpAutocompleteEvent),D.on("search",handleClearAutocompleteEvent),D.on("paste",handlePasteAutocompleteEvent)),l=__flex_idx_search_filter_v2.accessToken,B=S("#flex_idx_search_filter"),O=S("#flex_idx_search_filter_form"),xe=S(".ib-removeb-tg"),IB_SAVE_SEARCH_MODALS=S(".flex-save-search-modals"),e=S(".ib-dbclear"),n=S(".ib-waterfront-options"),h=S(".ib-parking-options"),o=S(".ib-amenities-options"),F=S(".ib-types-options"),IB_LB_MEASURE_TYPE=S(".lotsize-measure-type"),L=S(".ib-fforsr:eq(0)"),E=S(".ib-rprice-sale"),R=S(".ib-rprice-rent"),T=S(".ib-rbedrooms"),ie=S(".ib-rbathrooms"),ae=S(".ib-rliving"),te=S(".ib-rland"),ne=S(".ib-ryear"),le=S(".ib-rprice-sale-lbl-lt"),re=S(".ib-rprice-sale-lbl-rt"),se=S(".ib-rprice-rent-lbl-lt"),oe=S(".ib-rprice-rent-lbl-rt"),_e=S(".ib-ryear-lbl-lt"),ce=S(".ib-ryear-lbl-rt"),me=S(".ib-rliving-lbl-lt"),de=S(".ib-rliving-lbl-rt"),pe=S(".ib-rland-lbl-lt"),ue=S(".ib-rland-lbl-rt"),he=S(".ib-fdmatching:eq(0)"),ge=S(".ib-sort-ctrl:eq(0)"),be=S(".ib-pagination-ctrl:eq(0)"),H=S(".ib-listings-ct:eq(0)"),fe=S(".ib-heading-ct"),q=S(".ib-lbl-price-ntf:eq(0)"),N=S(".ib-lbl-bed-ntf:eq(0)"),f=S(".ib-lbl-bath-ntf:eq(0)"),ve=S(".ib-lbl-types-ntf:eq(0)"),s=S("#flex_idx_modal_wrapper"),g=S("#ib-modal-template"),function buildSearchFilterForm(){if(ib_comm_price_sale_outer_min=S(".ib-comm-price-sale-outer-min"),ib_comm_price_sale_outer_max=S(".ib-comm-price-sale-outer-max"),ib_comm_price_sale_inner_min=S(".ib-comm-price-sale-inner-min"),ib_comm_price_sale_inner_max=S(".ib-comm-price-sale-inner-max"),ib_comm_price_sale_outer_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_inner_min.val(this.value),O.find('[name="min_sale_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_sale_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_outer_min.val(this.value),O.find('[name="min_sale_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_sale_outer_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_inner_max.val(this.value),O.find('[name="max_sale_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_sale_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_sale_outer_max.val(this.value),O.find('[name="max_sale_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_outer_min=S(".ib-comm-price-rent-outer-min"),ib_comm_price_rent_outer_max=S(".ib-comm-price-rent-outer-max"),ib_comm_price_rent_inner_min=S(".ib-comm-price-rent-inner-min"),ib_comm_price_rent_inner_max=S(".ib-comm-price-rent-inner-max"),ib_comm_price_rent_outer_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_inner_min.val(this.value),O.find('[name="min_rent_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_outer_min.val(this.value),O.find('[name="min_rent_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_outer_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_inner_max.val(this.value),O.find('[name="max_rent_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_price_rent_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),ib_comm_price_rent_outer_max.val(this.value),O.find('[name="max_rent_price"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_sqft_inner_min=S(".ib-comm-sqft-inner-min"),ib_comm_sqft_inner_max=S(".ib-comm-sqft-inner-max"),ib_comm_sqft_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_living_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_sqft_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_living_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_bsize_inner_min=S(".ib-comm-bsize-inner-min"),ib_comm_bsize_inner_max=S(".ib-comm-bsize-inner-max"),ib_comm_bsize_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_building_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_bsize_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_building_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_lotsize_inner_min=S(".ib-comm-lotsize-inner-min"),ib_comm_lotsize_inner_max=S(".ib-comm-lotsize-inner-max"),ib_comm_lotsize_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_lot_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_lotsize_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_lot_size"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_beds_inner_min=S(".ib-comm-beds-inner-min"),ib_comm_beds_inner_max=S(".ib-comm-beds-inner-max"),ib_comm_beds_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="min_beds"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_beds_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9+]/gi,"")),O.find('[name="max_beds"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9+]/gi,""),this.value=""!=this.value&&0<this.value?_.formatPrice(this.value):"")}}),ib_comm_year_inner_min=S(".ib-comm-year-inner-min"),ib_comm_year_inner_max=S(".ib-comm-year-inner-max"),ib_comm_year_inner_min.on({change:function(){var e=this.value;O.find('[name="min_year"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")}}),ib_comm_year_inner_max.on({change:function(){var e=this.value;O.find('[name="max_year"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")}}),ib_comm_rate_inner_min=S(".ib-comm-rate-inner-min"),ib_comm_rate_inner_max=S(".ib-comm-rate-inner-max"),ib_comm_rate_inner_min.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),O.find('[name="min_cap_rate"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),ib_comm_rate_inner_max.on({change:function(){var e=this.value;e.length&&(e=e.replace(/[^0-9\.+]/gi,"")),O.find('[name="max_cap_rate"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},keyup:function(){var e=this.value;e.length&&(this.value=e.replace(/[^0-9\.+]/gi,""),this.value=this.value)}}),S("body").addClass("view-grid"),($=new InfoBubble({map:IB_MAP,disableAutoPan:!0,shadowStyle:0,padding:0,borderRadius:0,borderWidth:0,arrowSize:0,disableAnimation:!0,maxWidth:410,maxHeight:0,pane:"floatPane"})).addListener("domready",function(){setTimeout(function(){S(".ib-infobox").parent().parent().css("background-color","transparent"),S(".ib-ibpitem").on("click",function(){var e=S(this).data("mls");originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),loadPropertyInModal(e)})},0)}),H.length&&(!1===/webOS|iPhone|iPad/i.test(navigator.userAgent)&&(H.on("mouseover",".ib-pitem",function(e){if(!(window.innerWidth<=990)){for(var i,a=S(this).data("geocode"),t=0;t<J.length;t++)if(J[t].geocode===a){i=J[t];break}void 0!==i&&(google.maps.event.trigger(i,"click"),google.maps.event.trigger(i,"mouseover"));var n=S(this).attr("data-mls");setTimeout(function(){S('.ib-infobox .ib-ibpitem[data-mls="'+n+'"]').addClass("ms-order-m")},100)}}),H.on("mouseleave",".ib-pitem",function(e){window.innerWidth<=990||(void 0!==$&&$.isOpen()&&$.close(),void 0!==IB_LAST_OPENED_MARKER&&google.maps.event.trigger(IB_LAST_OPENED_MARKER,"mouseout"),S(".ib-infobox .ib-ibpitem").addClass("ms-order-m"))})),H.on("click",".ib-pitem",function(e){var i,a;S(e.target).hasClass("ib-pfavorite")?"yes"===__flex_g_settings.anonymous?(originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),S("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),S("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),S("#modal_login").find(".item_tab").removeClass("active"),S("#tabRegister").addClass("active"),S("#modal_login #msRst").empty().html(S("#mstextRst").html()),S("button.close-modal").addClass("ib-close-mproperty"),S(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),i=S(".header-tab a[data-tab='tabRegister']").attr("data-text"),S("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(i)):(a=S(e.target).data("mls"),S(this).data("token-alert"),S(e.target).toggleClass("ib-pf-active"),markPropertyAsFavorite(a,e.target,"listing")):S(e.target).hasClass("ib-pipermalink")&&(e.preventDefault(),originalPositionY=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop),console.log("opening..."),a=S(e.target).parent().data("mls"),loadPropertyInModal(a))})),be.length&&be.on("click","a",function(e){e.preventDefault(),S(this).hasClass("ib-plitem-active")||(e=S(this).data("page"),O.find('[name="page"]').val(e),O.trigger("submit"),S(window).width()<1023&&S("html, body").animate({scrollTop:0},1e3))}),ge.length&&ge.on("change",function(){O.find('[name="sort_type"]').val(this.value),O.find('[name="page"]').val(1),O.trigger("submit")}),n.length){for(var e=0,i=__flex_idx_search_filter_v2.search.waterfront_options.length;e<i;e++){var a=document.createElement("option"),t="",t="Bay Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.bay_front:"Canal"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.canal:"Fixed Bridge"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.fixed_bridge:"Intracoastal"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.intracoastal:"Lake Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.lake_front:"Ocean Access"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.ocean_access:"Ocean Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.ocean_front:"Point Lot"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.point_lot:"River Front"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.river_front:"Water Access"==__flex_idx_search_filter_v2.search.waterfront_options[e].name?word_translate.water_access:__flex_idx_search_filter_v2.search.waterfront_options[e].name;a.innerHTML=t,a.setAttribute("value",__flex_idx_search_filter_v2.search.waterfront_options[e].code),u.appendChild(a)}n.append(u),n.on("change",_.debounce(function(){var e="--"==this.value?"":this.value;n.val(e),O.find('[name="waterfront_options"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},700))}if(h.length){for(e=0,i=__flex_idx_search_filter_v2.search.parking_options.length;e<i;e++)(a=document.createElement("option")).innerHTML=__flex_idx_search_filter_v2.search.parking_options[e].label,a.setAttribute("value",__flex_idx_search_filter_v2.search.parking_options[e].value),u.appendChild(a);h.append(u),h.on("change",_.debounce(function(){var e="--"==this.value?"":this.value;h.val(e),O.find('[name="parking_options"]').val(e),O.find('[name="page"]').val(1),O.trigger("submit")},700))}o.length&&(o.each(function(e,i){for(var a,t,n,l,r=0,s=__flex_idx_search_filter_v2.search.amenities.length;r<s;r++)-1===S.inArray(__flex_idx_search_filter_v2.search.amenities[r].code,["loft","equestrian"])&&((a=document.createElement("li")).classList.add("ib-citem"),(t=document.createElement("input")).setAttribute("type","checkbox"),t.setAttribute("id","ib-amt-"+i.getAttribute("data-type")+"_"+r),t.setAttribute("value",__flex_idx_search_filter_v2.search.amenities[r].code),t.classList.add("ib-icheck"),(n=document.createElement("label")).classList.add("ib-clabel"),n.setAttribute("for","ib-amt-"+i.getAttribute("data-type")+"_"+r),l="","Swimming Pool"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.swimming_pool:"Golf Course"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.golf_course:"Tennis Courts"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.tennis_courts:"Gated Community"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.gated_community:"Lofts"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.lofts:"Penthouse"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.penthouse:"Waterfront"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.water_front:"Pets"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.pets:"Furnished"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.furnished:"Equestrian"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.equestrian:"Short Sale"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.short_sales:"Foreclosure"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.foreclosures:"Boat Dock"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.boat_dock:"Housing Older Persons"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.housing_older_persons:"Occupied"==__flex_idx_search_filter_v2.search.amenities[r].name?l=word_translate.occupied:"Vacant"==__flex_idx_search_filter_v2.search.amenities[r].name&&(l=word_translate.vacant),n.innerHTML=l,a.appendChild(t),a.appendChild(n),u.appendChild(a));o.eq(e).append(u)}),S(".ib-status-types").each(function(){S(this).on("click","input",function(){var e=S(this).parent().parent().find("input:checked"),i=[];e.each(function(){i.push(this.value)}),O.find('[name="amenities"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")})}),o.on("change","input",function(){var e=this.value,i=this.checked,a=jQuery(this).parent().parent().find(":checked"),t=[];o.find('input[value="'+e+'"]').prop("checked",i),a.each(function(e,i){-1===S.inArray(i.value,t)&&t.push(i.value)}),O.find('[name="amenities"]').val(t.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")})),S("#ib-lst-inner_2_2").on("change",function(e){var i=[];S("#ib-lst-inner_2_2").prop("checked")&&i.push("contingent"),S("#ib-lst-inner_3_2").prop("checked")&&i.push("pending"),O.find('[name="status_type"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#ib-lst-inner_3_2").on("change",function(e){var i=[];S("#ib-lst-inner_2_2").prop("checked")&&i.push("contingent"),S("#ib-lst-inner_3_2").prop("checked")&&i.push("pending"),O.find('[name="status_type"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#ib-lst-inner_2").on("change",function(e){var i=[];S("#ib-lst-inner_2").prop("checked")&&i.push("contingent"),S("#ib-lst-inner_3").prop("checked")&&i.push("pending"),O.find('[name="status_type"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#ib-lst-inner_3").on("change",function(e){var i=[];S("#ib-lst-inner_2").prop("checked")&&i.push("contingent"),S("#ib-lst-inner_3").prop("checked")&&i.push("pending"),O.find('[name="status_type"]').val(i.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#pendingContigentMin").on("change",function(){var e=S(this).prop("checked");S("#pendingContigent").prop("checked",e),S("#pendingContigentMobile").prop("checked",e),e?O.find('[name="overwrite_show_hide_pending"]').val("yes"):O.find('[name="overwrite_show_hide_pending"]').val("no"),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#pendingContigent").on("change",function(){var e=S(this).prop("checked");S("#pendingContigentMin").prop("checked",e),S("#pendingContigentMobile").prop("checked",e),e?O.find('[name="overwrite_show_hide_pending"]').val("yes"):O.find('[name="overwrite_show_hide_pending"]').val("no"),O.find('[name="page"]').val(1),O.trigger("submit")}),S("#pendingContigentMobile").on("change",function(){var e=S(this).prop("checked");S("#pendingContigent").prop("checked",e),S("#pendingContigentMin").prop("checked",e),e?O.find('[name="overwrite_show_hide_pending"]').val("yes"):O.find('[name="overwrite_show_hide_pending"]').val("no"),O.find('[name="page"]').val(1),O.trigger("submit")}),F.length&&(F.each(function(e,i){for(var a=0,t=__flex_idx_search_filter_v2.commercial_types.length;a<t;a++){var n=document.createElement("li"),l=(n.classList.add("ib-citem"),document.createElement("input")),r=(l.setAttribute("type","checkbox"),l.setAttribute("id","ib-ppt-"+i.getAttribute("data-type")+"_"+a),l.setAttribute("value",__flex_idx_search_filter_v2.commercial_types[a].value),l.classList.add("ib-icheck"),document.createElement("label")),s=(r.classList.add("ib-clabel"),r.setAttribute("for","ib-ppt-"+i.getAttribute("data-type")+"_"+a),""),s="Homes"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.homes:"Condominiums"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.condominiums:"Townhouses"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.townhouses:"Single Family Homes"==__flex_idx_search_filter_v2.commercial_types[a].label?word_translate.single_family_homes:__flex_idx_search_filter_v2.commercial_types[a].label;r.innerHTML=s,n.appendChild(l),n.appendChild(r),u.appendChild(n)}F.eq(e).append(u)}),F.on("change","input",function(e){var i=this.value,a=this.checked,t=jQuery(this).parent().parent().find(":checked"),n=[],l=(F.find('input[value="'+i+'"]').prop("checked",a),t.each(function(e,i){-1===S.inArray(i.value,n)&&n.push(i.value)}),[]),r=__flex_idx_search_filter_v2.commercial_types;[].forEach.call(n,function(e){for(var i=0,a=r.length;i<a;i++)r[i].value==e&&l.push(r[i].label)}),l.length?(ve.html(l.join(", ")),l.length=0):ve.html(word_translate.any_type),O.find('[name="property_type"]').val(n.join(",")),O.find('[name="page"]').val(1),O.trigger("submit")})),E.length&&(E.slider({range:!0,min:0,max:V.length-1,step:1,values:[0,V.length-1],slide:_.debounce(function(e,i){E.slider("option","values",i.values);var a=V[i.values[0]],i=V[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),O.find('[name="min_sale_price"]').val(a),O.find('[name="max_sale_price"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),E.on("slide",function(e,i){var i=i.values,a=V[i[0]],t=V[i[1]],n=V[i[0]],i=V[i[1]],a=0==a||"--"==a?"$0":"$"+_.formatPrice(a),t=0==t||"--"==t?word_translate.any_price:"$"+_.formatPrice(t);"--"==n&&"--"==i||0==n&&0==i||0==n&&"--"==i?q.html(word_translate.any_price):"--"==i&&!isNaN(n)&&0<n?q.html("$"+_.formatShortPrice(n)+" - "+word_translate.any_price):q.html("$"+_.formatShortPrice(n)+" - $"+_.formatShortPrice(i)),le.val(a),re.val(t)})),R.length&&(R.slider({range:!0,min:0,max:Z.length-1,step:1,values:[0,Z.length-1],slide:_.debounce(function(e,i){R.slider("option","values",i.values);var a=Z[i.values[0]],i=Z[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),O.find('[name="min_rent_price"]').val(a),O.find('[name="max_rent_price"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),R.on("slide",function(e,i){var i=i.values,a=Z[i[0]],t=Z[i[1]],n=Z[i[0]],i=Z[i[1]],a=0==a||"--"==a?"$0":"$"+_.formatPrice(a),t=0==t||"--"==t?word_translate.any_price:"$"+_.formatPrice(t);"--"==n&&"--"==i||0==n&&0==i||0==n&&"--"==i?q.html(word_translate.any_price):"--"==i&&!isNaN(n)&&0<n?q.html("$"+_.formatShortPrice(n)+" - "+word_translate.any_price):q.html("$"+_.formatShortPrice(n)+" - $"+_.formatShortPrice(i)),se.val(a),oe.val(t)})),T.length&&(T.slider({range:!0,min:0,max:K.length-1,step:1,values:[0,K.length-1],slide:_.debounce(function(e,i){T.slider("option","values",i.values);var a=K[i.values[0]],i=K[i.values[1]];0!=a&&6!=a||(a="0"),0!=i&&6!=i||(i=""),O.find('[name="min_beds"]').val(a),O.find('[name="max_beds"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),T.on("slide",function(e,i){var i=i.values,a=K[i[0]],i=K[i[1]];0==a&&6==i||6==a&&6==i||0==a&&0==i?N.html(word_translate.any_bed):5<i?N.html(a+" - "+word_translate.any_bed):N.html(a+" - "+i+" "+word_translate.beds)})),ie.length&&(ie.slider({range:!0,min:0,max:Y.length-1,step:1,values:[0,Y.length-1],slide:_.debounce(function(e,i){ie.slider("option","values",i.values);var a=Y[i.values[0]],i=Y[i.values[1]];0!=a&&6!=a||(a="0"),0!=i&&6!=i||(i=""),O.find('[name="min_baths"]').val(a),O.find('[name="max_baths"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),ie.on("slide",function(e,i){var i=i.values,a=Y[i[0]],i=Y[i[1]];0==a&&6==i||6==a&&6==i||0==a&&0==i?f.html(word_translate.any_baths):5<i?f.html(a+" - "+word_translate.any_bath):f.html(a+" - "+i+" "+word_translate.baths)})),ae.length&&(ae.slider({range:!0,min:0,max:W.length-1,step:1,values:[0,W.length-1],slide:_.debounce(function(e,i){ae.slider("option","values",i.values);var a=W[i.values[0]],i=W[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),O.find('[name="min_living_size"]').val(a),O.find('[name="max_living_size"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),ae.on("slide",function(e,i){var i=i.values,a=W[i[0]],t=W[i[1]],n=W[i[0]],i=W[i[1]],a=0==a||"--"==a?"0 sq ft":_.formatPrice(a)+" sq ft",t=0==t||"--"==t?word_translate.any_size:_.formatPrice(t)+" sq ft";2e4<=n&&(a=(n/43560).toFixed(2)+" Acre"),2e4<=i&&(t=(i/43560).toFixed(2)+" Acre"),me.val(a),de.val(t)})),te.length&&(te.slider({range:!0,min:0,max:Q.length-1,step:1,values:[0,Q.length-1],slide:_.debounce(function(e,i){te.slider("option","values",i.values);var a=Q[i.values[0]],i=Q[i.values[1]];0!=a&&"--"!=a||(a="0"),0!=i&&"--"!=i||(i=""),O.find('[name="min_lot_size"]').val(a),O.find('[name="max_lot_size"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),te.on("slide",function(e,i){var i=i.values,a=Q[i[0]],t=Q[i[1]],n=Q[i[0]],i=Q[i[1]],a=0==a||"--"==a?"0 sq ft":_.formatPrice(a)+" sq ft",t=0==t||"--"==t?word_translate.any_size:_.formatPrice(t)+" sq ft";2e4<=n&&(a=(n/43560).toFixed(2)+" Acre"),2e4<=i&&(t=(i/43560).toFixed(2)+" Acre"),pe.val(a),ue.val(t)})),ne.length&&(ne.slider({range:!0,min:0,max:X.length-1,step:1,values:[0,X.length-1],slide:_.debounce(function(e,i){ne.slider("option","values",i.values);var a=X[i.values[0]],i=X[i.values[1]];1900!=a&&current_year!=a||(a="1900"),1900!=i&&current_year!=i||(i=""),O.find('[name="min_year"]').val(a),O.find('[name="max_year"]').val(i),O.find('[name="page"]').val(1),O.trigger("submit")},700)}),ne.on("slide",function(e,i){var i=i.values,a=X[i[0]],i=X[i[1]];_e.val(a),ce.val(i)}))}(),function buildMobileForm(){var e=__flex_idx_search_filter_v2.search,i=[];if(ib_min_price=S("#ib-min-price"),ib_max_price=S("#ib-max-price"),ib_min_rent_price=S("#ib-min-rent-price"),ib_max_rent_price=S("#ib-max-rent-price"),ib_min_beds=S("#ib-min-beds"),ib_max_beds=S("#ib-max-beds"),ib_min_baths=S("#ib-min-baths"),ib_max_baths=S("#ib-max-baths"),ib_m_types=S("#ib-flex-m-types"),ib_m_parking=S("#ib-flex-m-parking"),ib_min_living=S("#ib-min-living"),ib_max_living=S("#ib-max-living"),ib_min_bsize=S("#ib-min-bsize"),ib_max_bsize=S("#ib-max-bsize"),ib_min_land=S("#ib-min-land"),ib_max_land=S("#ib-max-land"),ib_min_year=S("#ib-min-year"),ib_max_year=S("#ib-max-year"),ib_waterfront_switch=S("#ib-flex-waterfront-switch"),ib_m_features=S("#ib-flex-m-features"),ib_min_caprate=S("#ib-min-caprate"),ib_max_caprate=S("#ib-max-caprate"),ib_m_types.length){for(var a,t=0,n=(a=__flex_idx_search_filter_v2.commercial_types).length;t<n;t++){var l="",l="Single Family Homes"==(r=a[t]).label?word_translate.single_family_homes:"Condominiums"==r.label?word_translate.condominiums:"Townhouses"==r.label?word_translate.townhouses:r.label;i.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-types-checkboxes" type="checkbox" value="'+r.value+'" id="s_types_'+r.value+'"><label for="s_types_'+r.value+'">'+l+"</label></li>")}i.length&&(ib_m_types.html(i.join("")),i.length=0)}if(ib_min_year.length){(a=e.year_built_range).splice(-1,1);for(t=0,n=a.length;t<n;t++){var r=a[t];i.push('<option value="'+r.value+'">'+r.label+"</option>")}i.push('<option value="'+current_year+'">'+current_year+"</option>"),i.length&&(ib_min_year.html(i.join("")),i.length=0)}if(ib_max_year.length){(a=e.year_built_range.reverse()).splice(-1,1),i.push('<option value="'+current_year+'">'+current_year+"</option>");for(t=0,n=a.length;t<n;t++){r=a[t];i.push('<option value="'+r.value+'">'+r.label+"</option>")}i.push('<option value="1900">1900</option>'),i.length&&(ib_max_year.html(i.join("")),i.length=0)}if(ib_m_features.length){for(var s,t=0,n=(a=_.sortBy(e.amenities,"name")).length;t<n;t++)"equestrian"==(r=a[t]).code&&"3"!=__flex_idx_search_filter_v2.boardId||"loft"==r.code&&"5"!=__flex_idx_search_filter_v2.boardId||(s="",s="Swimming Pool"==r.name?word_translate.swimming_pool:"Golf Course"==r.name?word_translate.golf_course:"Tennis Courts"==r.name?word_translate.tennis_courts:"Gated Community"==r.name?word_translate.gated_community:"Lofts"==r.name?word_translate.lofts:"Penthouse"==r.name?word_translate.penthouse:"Waterfront"==r.name?word_translate.water_front:"Pets"==r.name?word_translate.pets:"Furnished"==r.name?word_translate.furnished:"Equestrian"==r.name?word_translate.equestrian:"Boat Dock"==r.name?word_translate.boat_dock:"Short Sale"==r.name?word_translate.short_sales:"Foreclosure"==r.name?word_translate.foreclosures:"Housing Older Persons"==r.name?word_translate.housing_older_persons:"Occupied"==r.name?word_translate.occupied:"Vacant"==r.name?word_translate.vacant:r.name,i.push('<li class="ib-item-wrap-fm ib-btn-chk-fm"><input class="ib-m-features-checkboxes" type="checkbox" value="'+r.code+'" id="s_amenity_'+r.code+'"><label for="s_amenity_'+r.code+'">'+s+"</label></li>"));i.length&&(ib_m_features.html(i.join("")),i.length=0)}}(),S(document).on("click",".ib-ibclose",function(){S(this).parent().parent().parent().remove()}),S("#map-draw-cancel-tg").on("click",function(){if(IB_USER_IS_DRAWING=!1,c.setMap(null),void 0!==G&&G.setMap(null),IB_LOOKUP_DRAG=!0!==we||(void 0!==U&&U.setVisible(!0),!1),J)for(var e=0,i=J.length;e<i;e++)J[e].setVisible(!0);S(m).show(),S("#wrap-map-draw-actions").hide()}),S("#map-draw-apply-tg").on("click",function(){if(c.setMap(null),!1===IB_GMAP_FINISHED_POLYGON){if(J)for(var e=0,i=J.length;e<i;e++)J[e].setVisible(!0);void 0!==U&&U.setVisible(!0)}else if(void 0!==G){!0===we&&U.setMap(null);for(var a=G.getPath(),t=[],n=[],l=(IB_MAP.getCenter(),IB_MAP.getZoom(),a.forEach(function(e){t.push(e.lat()+" "+e.lng()),n.push({lat:e.lat(),lng:e.lng()})}),a.getAt(0)),a=(t.push(l.lat()+" "+l.lng()),n.push({lat:l.lat(),lng:l.lng()}),new google.maps.MVCArray),e=0,i=n.length;e<i;e++)a.push(new google.maps.LatLng(n[e].lat,n[e].lng));var l=google.maps.geometry.encoding.encodePath(a),r=(l=(l=btoa(l)).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,""),IB_MAP.getCenter(),IB_MAP.getZoom()),s=IB_MAP.getBounds();O.find('[name="rect"]').val(s.toUrlValue()),O.find('[name="zm"]').val(r),O.find('[name="filter_search_keyword_label"]').val(""),O.find('[name="filter_search_keyword_label"]').val(""),O.find('[name="polygon_search"]').val(l),O.find('[name="page"]').val("1"),IB_LOOKUP_DRAG=!1,O.trigger("submit")}S(m).show(),S("#wrap-map-draw-actions").hide()}),S(".idx-bta-grid").click(function(){$.isOpen()&&$.close(),S(".ib-temp-modal-infobox").remove()}),S(document).on("click",".ib-ibpitem",function(){var e=S(this).data("mls");loadPropertyInModal(e)}),S(document).on("click",".ib-mmclose",function(e){var i=S(e.target).parents(".ib-modal-master");i.addClass("ib-md-hiding"),setTimeout(function(){i.removeClass("ib-md-active ib-md-hiding")},250),S("body").removeClass("ib-request-float-modal")}),S(document).on("click",".ib-close-mproperty",function(e){e.preventDefault(),__flex_g_settings.hasOwnProperty("force_registration_forced")&&"yes"==__flex_g_settings.force_registration_forced&&S(".ib-pbtnclose").click()}),S(document).on("click",".ib-paitem-load-schools",function(e){var i=S(this),a=i.data("lat"),t=i.data("lng"),n=i.data("distance"),l=i.data("address-short"),r=i.data("address-large");i.hasClass("ib-schools-loaded")||(i.addClass("ib-schools-loaded"),S("#ib-paitem-load-schools-ct").empty(),S.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{action:"ib_schools_info",lat:a,lng:t,distance:n},success:function(e){e=e.output;e=(e=e.replace("{{address_short}}",l)).replace("{{address_large}}",r),S("#ib-paitem-load-schools-ct").html(e),S(".clidxboost-body-niche .clidxboost-td-niche").length&&(size_li=S(".clidxboost-body-niche .clidxboost-td-niche").length,size_li_actives=0),0==size_li&&S("#clidxboost-container-loadMore-niche").hide(),size_li_actives_X=8,S("#clidxboost-data-loadMore-niche").click()}}))}),S(document).on("click","#clidxboost-data-loadMore-niche",function(e){e.stopPropagation(),S(".clidxboost-body-niche .clidxboost-td-niche:lt("+(size_li_actives_X=size_li_actives_X+8<=size_li?size_li_actives_X+8:size_li)+")").slideDown(),S(".clidxboost-body-niche .clidxboost-td-niche:lt("+size_li_actives_X+")").addClass("clidxboost-td-niche-show"),size_li_actives_X==size_li&&S("#clidxboost-container-loadMore-niche").hide(),size_li_actives=S(".clidxboost-body-niche .clidxboost-td-niche-show").length;e=parseInt(size_li)-parseInt(size_li_actives);S(".clidxboost-count-niche").text(e+" "+word_translate.more_schools)}),S(document).on("click",".clidxboost-niche-tab-filters button",function(){event.stopPropagation(),S("#clidxboost-container-loadMore-niche").show(),S(".clidxboost-td-niche").removeClass("clidxboost-td-niche-show"),"all"==S(this).attr("data-filter")?(size_li_actives_X=8,S("#clidxboost-data-loadMore-niche").click()):"elementary"==S(this).attr("data-filter")?(S(".clidxboost-td-niche.elementary").addClass("clidxboost-td-niche-show"),S("#clidxboost-container-loadMore-niche").hide()):"middle"==S(this).attr("data-filter")?(S(".clidxboost-td-niche.middle").addClass("clidxboost-td-niche-show"),S("#clidxboost-container-loadMore-niche").hide()):"high"==S(this).attr("data-filter")&&(S(".clidxboost-td-niche.high").addClass("clidxboost-td-niche-show"),S("#clidxboost-container-loadMore-niche").hide())}),S(document).on("click",".clidxboost-niche-tab-filters button",function(){event.stopPropagation(),S(".clidxboost-niche-tab-filters button").removeClass("active"),S(this).addClass("active");var e=S(this).attr("data-filter");S(".clidxboost-td-niche").addClass("td-hidden"),S(".clidxboost-body-niche ."+e).removeClass("td-hidden"),"all"==e&&S(".clidxboost-td-niche").removeClass("td-hidden")}),S(".ib-dbsave").on("click",function(){var e;"yes"===__flex_g_settings.anonymous?(S("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),S("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),S("#modal_login").find(".item_tab").removeClass("active"),S("#tabRegister").addClass("active"),S("#modal_login #msRst").empty().html(S("#mstextRst").html()),S("button.close-modal").addClass("ib-close-mproperty"),S(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),e=S(".header-tab a[data-tab='tabRegister']").attr("data-text"),S("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):S("#ib-fsearch-save-modal").addClass("ib-md-active")}),S(".ib-gwvbitem").click(function(){S(".ib-gviews").val(S(this).attr("data-view")).change()}),s.length&&(s.on("click",".ib-rel-property",function(e){e.preventDefault();e=S(this).data("mls");loadPropertyInModal(e)}),s.on("click",".ib-pfavorite",function(e){var i;"yes"===__flex_g_settings.anonymous?(S("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),S("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),S("#modal_login").find(".item_tab").removeClass("active"),S("#tabRegister").addClass("active"),S("#modal_login #msRst").empty().html(S("#mstextRst").html()),S("button.close-modal").addClass("ib-close-mproperty"),S(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),i=S(".header-tab a[data-tab='tabRegister']").attr("data-text"),S("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(i)):(i=S(this).data("mls"),S(this).data("token-alert"),S(this).hasClass("ib-pf-active")?S(this).children().html(word_translate.save):S(this).children().html(word_translate.remove),S(this).toggleClass("ib-pf-active"),markPropertyAsFavorite(i,e.target,"modal"))}),s.on("click",".ib-pbtnopen",function(){var e=S(this).data("permalink");window.open(e)}),s.on("click",".ib-pbtnclose",function(){var e;s.find(".ib-modal-master").removeClass("ib-md-active"),s.empty(),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?(document.title=initial_title,history.pushState(null,null,initial_href)):((e=new URLSearchParams(window.location.search)).delete("show"),""===e.toString()?history.pushState(null,null,__flex_idx_search_filter_v2.searchFilterPermalink):history.pushState(null,null,"?"+e.toString())),S("html").removeClass("ib-mpropertie-open"),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&S("body").removeClass("only-mobile"),void 0!==originalPositionY&&(console.log("restoring to: "+originalPositionY),window.scrollTo(0,originalPositionY))}),IB_SAVE_SEARCH_MODALS.on("submit",function(e){e.preventDefault();var e=encodeURIComponent(location.href),i=B.attr("data-count"),a=B.attr("data-condition"),t=(B.attr("data-params"),B.data("filter-id")),e=S(this).serialize()+"&search_url="+e+"&search_count="+i+"&search_condition="+a+"&search_filter_params="+JSON.stringify(dataAlert.params)+"&search_filter_ID="+t+"&type_filter=search_commercial_filter";B.data("filter-id");"no"===__flex_g_settings.anonymous&&S.ajax({type:"POST",url:__flex_idx_search_filter_v2.ajaxUrl,data:e,dataType:"json",success:function(e){0!=e.success?(swal({title:word_translate.search_saved,text:word_translate.your_search_has_been_saved_successfuly,type:"success",timer:2e3,showConfirmButton:!1}),S("#ib-fsearch-save-modal").removeClass("ib-md-active"),S(".ib-mssinput").val("")):sweetAlert("Oops...",e.message,"error"),jQuery("#_ib_lead_activity_tab").length&&jQuery("#_ib_lead_activity_tab button:eq(2)").click()}})}),s.on("click",".ib-plsifb",function(e){e.preventDefault();var i,a="https://www.facebook.com/sharer/sharer.php?",t={u:S(this).attr("href")};for(i in t)a+="&"+i+"="+encodeURIComponent(t[i]);e=window.open(a,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0");e.focus&&e.focus()}),s.on("click",".ib-plsitw",function(e){e.preventDefault();var i,a="http://twitter.com/share?",e=[],t=1==S(this).data("rental")?"Rent ":"Sale ",n=(e.push(S(this).data("type")),e.push(" for "+t),e.push(S(this).data("price")),e.push(" #"+S(this).data("mls")),e.push(" in "),e.push(S(this).data("address")+" "),{url:S(this).attr("href"),text:e.join("")});for(i in n)a+="&"+i+"="+encodeURIComponent(n[i]);t=window.open(a,"","left=0,top=0,width=550,height=450,personalbar=0,toolbar=0,scrollbars=0,resizable=0");t.focus&&t.focus()}),s.on("click",".ib-pscalculator",function(){var e=S(this).data("price").replace(/[^\d]/g,""),i=(S(".ib-property-mortgage-f:eq(0)").trigger("reset"),S(".ib-property-mc-dp:eq(0)").val()),a=S(".ib-property-mc-ty:eq(0)").val(),t=S(".ib-property-mc-ir:eq(0)").val(),e=(S(".ib-property-mc-pp").val("$"+_.formatPrice(e)),calculate_mortgage(e,i,a,t));S(".ib-calc-mc-mortgage").html("$"+e.mortgage),S(".ib-calc-mc-down-payment").html("$"+e.down_payment),S(".ib-calc-mc-monthly").html("$"+e.monthly),S(".ib-calc-mc-totalmonthly").html("$"+e.total_monthly),S("#ib-mortage-calculator").addClass("ib-md-active")}),S(".ib-property-mortage-submit").on("click",function(){var e=calculate_mortgage(S(".ib-property-mc-pp:eq(0)").val(),S(".ib-property-mc-dp:eq(0)").val(),S(".ib-property-mc-ty:eq(0)").val(),S(".ib-property-mc-ir:eq(0)").val());S(".ib-calc-mc-mortgage").html("$"+e.mortgage),S(".ib-calc-mc-down-payment").html("$"+e.down_payment),S(".ib-calc-mc-monthly").html("$"+e.monthly),S(".ib-calc-mc-totalmonthly").html("$"+e.total_monthly),S(".ib-price-calculator").text("$"+e.monthly+"/mo")}),s.on("click",".ib-psemailfriend",function(){var e=S(this).data("mls"),i=S(this).data("status"),e=(S(".ib-property-share-friend-f:eq(0)").trigger("reset"),S(".ib-property-share-mls-num:eq(0)").val(e),S(".ib-property-share-property-status:eq(0)").val(i),S("#ib-email-to-friend").addClass("ib-md-active"),void 0!==Cookies.get("_ib_user_firstname")?Cookies.get("_ib_user_firstname"):""),i=void 0!==Cookies.get("_ib_user_lastname")?Cookies.get("_ib_user_lastname"):"",a=void 0!==Cookies.get("_ib_user_email")?Cookies.get("_ib_user_email"):"";(e.lenght||i.length)&&S("#_sf_name").val(e+" "+i),S("#_sf_email").val(a)}),S(".ib-property-share-friend-f").on("submit",function(e){e.preventDefault();var e=S(this).serialize(),i=S(this).find("input[name='mls_number']:eq(0)").val(),i=__flex_idx_search_filter_v2.shareWithFriendEndpoint.replace(/{{mlsNumber}}/g,i);S.ajax({type:"POST",url:i,data:{access_token:l,flex_credentials:Cookies.get("ib_lead_token"),form_data:e},success:function(e){}}),S("#ib-email-to-friend").removeClass("ib-md-active"),S("#ib-email-thankyou").addClass("ib-md-active")}),s.on("click",".ib-psprint",function(){var e=S("#printMessageBox"),i=S(".ib-property-detail:eq(0)");e.fadeIn(),i.addClass("ib-phw-print").printArea({onClose:function(){e.fadeOut("fast"),i.removeClass("ib-phw-print")}})}),s.on("submit",".ib-propery-inquiry-f",function(e){e.preventDefault();var e=S(this).serialize(),i=S(this).find("input[name='mls_number']:eq(0)").val(),i=__flex_idx_search_filter_v2.requestInformationEndpoint.replace(/{{mlsNumber}}/g,i);S.ajax({type:"POST",url:i,data:{access_token:l,flex_credentials:Cookies.get("ib_lead_token"),form_data:e},success:function(e){}}),S("#ib-email-thankyou").addClass("ib-md-active"),S(document).on("click","#ib-email-thankyou .ib-mmclose",function(e){e.preventDefault(),S("#ib-email-thankyou").removeClass("ib-md-active")})}),s.on("click",".ib-btnfs",function(){void 0!==b&&b.fullscreen("in")}),s.on("click",".ib-paitem",function(e){S(e.target).hasClass("ib-paititle")&&S(this).toggleClass("ib-pai-active")}),s.on("click",".ib-pvitem",function(e){var i,a,t=S(this).data("id");function handleSatelliteButton(e){e.stopPropagation(),e.preventDefault(),a.setMapTypeId(google.maps.MapTypeId.HYBRID),S(this).hasClass("is-active")?(S(this).removeClass("is-active"),a.setMapTypeId(google.maps.MapTypeId.ROADMAP)):(S(this).addClass("is-active"),a.setMapTypeId(google.maps.MapTypeId.HYBRID))}function handleZoomInButton(e){e.stopPropagation(),e.preventDefault(),a.setZoom(a.getZoom()+1)}function handleZoomOutButton(e){e.stopPropagation(),e.preventDefault(),a.setZoom(a.getZoom()-1)}function handlefullscreenButton(){var e=a.getDiv().firstChild;isFullscreen(e)?function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}():function requestFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullScreen&&e.msRequestFullScreen()}(e),document.onwebkitfullscreenchange=document.onmsfullscreenchange=document.onmozfullscreenchange=document.onfullscreenchange=function(){isFullscreen(e)?fullscreenControl.classList.add("is-fullscreen"):fullscreenControl.classList.remove("is-fullscreen")}}function isFullscreen(e){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)==e}S(this).hasClass("ib-pvi-active")||"video"==t||(S(this).parent().find(">li").removeClass("ib-pvi-active"),S(this).addClass("ib-pvi-active"),S(this).parent().parent().parent().removeClass("ib-pva-photos ib-pva-map").addClass("ib-pva-"+t),"map"===t&&(t=S(this).data("lat"),i=S(this).data("lng"),"no"===S(this).data("loaded")&&(t={lat:parseFloat(t),lng:parseFloat(i)},a=new google.maps.Map(s.find(".ib-pmap")[0],{zoom:18,center:t,styles:style_map,gestureHandling:"cooperative",panControl:!1,scrollwheel:!1,disableDoubleClickZoom:!0,disableDefaultUI:!0,streetViewControl:!0}),new google.maps.Marker({position:t,map:a}),google.maps.event.addListenerOnce(a,"tilesloaded",function setupMapControls(){(m=document.createElement("div")).classList.add("flex-map-controls-ct"),(fullscreenControl=document.createElement("div")).classList.add("flex-map-fullscreen"),m.appendChild(fullscreenControl),(d=document.createElement("div")).classList.add("flex-map-zoomIn"),m.appendChild(d),(p=document.createElement("div")).classList.add("flex-map-zoomOut"),m.appendChild(p),(satelliteMapButton=document.createElement("div")).classList.add("flex-satellite-button"),m.appendChild(satelliteMapButton),google.maps.event.addDomListener(d,"click",handleZoomInButton),google.maps.event.addDomListener(p,"click",handleZoomOutButton),google.maps.event.addDomListener(fullscreenControl,"click",handlefullscreenButton),google.maps.event.addDomListener(satelliteMapButton,"click",handleSatelliteButton),a.controls[google.maps.ControlPosition.TOP_RIGHT].push(m)}))))})),L.length&&L.on("click","div",function(e){L.find("div").removeClass("ib-fifor-active");e=e.target;switch(e.getAttribute("data-type")){case"rent":S(".ib-price-range-wrap").hide(),S(".ib-price-range-wrap-rent").show(),L.find("div:eq(1)").addClass("ib-fifor-active"),O.find('[name="sale_type"]').val("1"),console.log("for rent");var i=S(".ib-comm-price-rent-inner-min:eq(0)").val(),i=(i.length&&(i=i.replace(/[^0-9+]/gi,"")),O.find('[name="min_rent_price"]').val(i),S(".ib-comm-price-rent-inner-max:eq(0)").val());i.length&&(i=i.replace(/[^0-9+]/gi,"")),O.find('[name="max_rent_price"]').val(i);break;case"sale":S(".ib-price-range-wrap").hide(),S(".ib-price-range-wrap-sale").show(),L.find("div:eq(0)").addClass("ib-fifor-active"),O.find('[name="sale_type"]').val("0"),console.log("for sale");i=S(".ib-comm-price-sale-inner-min:eq(0)").val(),i=(i.length&&(i=i.replace(/[^0-9+]/gi,"")),O.find('[name="min_sale_price"]').val(i),S(".ib-comm-price-sale-inner-max:eq(0)").val());i.length&&(i=i.replace(/[^0-9+]/gi,"")),O.find('[name="max_sale_price"]').val(i)}e.classList.add("ib-fifor-active"),O.find('[name="page"]').val(1),O.trigger("submit")}),e.length&&e.on("click",function(){location.href=__flex_idx_search_filter_v2.searchFilterPermalink}),O.length&&(O.on("submit",handleFilterSearchLookup),handleFilterSearchLookup())})}(jQuery),function(i){let a=i(".ib-fmobile"),e=i(".ib-oadbanced"),t=i(".ib-fhpb-openers"),n=(i(".ib-filter-container"),i(".ib-fdmatching"));a.length&&a.on("click",".ib-fititle",function(){var e=i(this).parent();(e.hasClass("ib-fitem-active")?e:e.addClass("ib-fitem-active").siblings()).removeClass("ib-fitem-active")}),e.length&&(e.on("click",function(){window.innerWidth<990&&(i(".ib-modal-filters-mobile").show(),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&i("body").addClass("only-mobile"))}),i(".ib-close-modal-filters-mobile").on("click",function(){i(".ib-modal-filters-mobile").hide(),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&i("body").removeClass("only-mobile")}),i("#ib-apply-clear").on("click",function(){window.scrollTo(0,0),location.href=__flex_idx_search_filter_v2.searchFilterPermalink}),i("#ib-apply-filters-btn").on("click",function(){i(".ib-modal-filters-mobile").hide(),window.scrollTo(0,0),/webOS|iPhone|iPad/i.test(navigator.userAgent)&&i("body").removeClass("only-mobile")})),t.length&&t.find(".ib-oiwrapper").on("click",function(){var e=i(this).parent();e.hasClass("ib-oitem-active")?e.removeClass("ib-oitem-active"):(e.addClass("ib-oitem-active").siblings().removeClass("ib-oitem-active"),e.hasClass("ib-oadbanced")||a.removeClass("ib-fmobile-active"))}),i(".ib-listings-ct:eq(0)").on("click",".gs-next-arrow, .gs-prev-arrow",function(){"yes"===__flex_g_settings.anonymous&&__flex_g_settings.hasOwnProperty("force_registration")&&1==__flex_g_settings.force_registration&&3<=++countClickAnonymous&&(i("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),i("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),i("#modal_login").find(".item_tab").removeClass("active"),i("#tabRegister").addClass("active"),i("button.close-modal").addClass("ib-close-mproperty"),i(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),i("#modal_login h2").html(i("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=i(".header-tab a[data-tab='tabRegister']").attr("data-text"),i("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e),countClickAnonymous=0);var e=i(this).parents(".ib-pislider");e.hasClass("gs-builded")||(e.find(".ib-pifimg").removeClass("ib-pifimg"),e.find(".gs-container-navs").remove(),e.greatSlider({type:"fade",nav:!0,bullets:!1,autoHeight:!1,lazyLoad:!0,startPosition:2,layout:{arrowDefaultStyles:!1},onLoadedItem:function(e,i,a){"success"!=a&&setTimeout(function(){e.attr("src","https://www.idxboost.com/i/default_thumbnail.jpg")},2e3)}}))});n.on("click",function(){e.find(".ib-oiwrapper").click()}),i(".ib-fmapply").click(function(){i(".ib-badvanced").click()}),i(".idx-bta-map").click(function(){var e=i(".ib-mapgrid-container");i('.ib-gwvbitem[data-view="map"]').addClass("ib-gv-active").siblings().removeClass("ib-gv-active"),i("body").addClass("view-map").removeClass("view-grid view-list"),e.removeClass("ib-vgrid-active").addClass("ib-vmap-active"),setTimeout(function(){!1===IB_LOOKUP_DRAG&&IB_MAP.fitBounds(IB_HIDDEN_BOUNDS)},100)}),i(".idx-bta-grid").click(function(){var e=i(".ib-mapgrid-container");i('.ib-gwvbitem[data-view="grid"]').addClass("ib-gv-active").siblings().removeClass("ib-gv-active"),i("body").addClass("view-grid").removeClass("view-map view-list"),e.addClass("ib-vgrid-active").removeClass("ib-vmap-active")}),i(".save-button-responsive").click(()=>{i(".ib-dbsave").click()}),i("body").on("click",".ib-pshared",function(){i(this).toggleClass("ib-ps-active")}),i("body").on("click",".ib-requestinfo",()=>{i(".ib-cffitem:first-child input").focus()}),1023<i(window).width()&&i("body").addClass("ms-hidden-ovf")}(jQuery),function(i){i(function(){i(window).on("popstate",function(e){i("#modal_login").is(":visible")&&i(".close").click(),i(".ib-pbtnclose").click()})})}(jQuery);