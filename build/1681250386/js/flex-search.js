var myLazyLoad,map,drawingManager,mapCenter,mapBounds,mapZoom,centerBounds,mapNotLoaded=!1,autoMapSearch=!0,polygons=[],initPolygons=[],lastBounds="",initLoadMLSAnonymous=!1,xDown=null,yDown=null;!function(M){var e,O,z,S,j,T,A,B,Z,ae,$,a,t,E,Q,N,U,te,W,R,H,V,F,X,Y,G,s,r,i,p,n,l,J,D,P,I,q,K,ee,o,d,se;function creaScrollTemporal(e,a){a.hasClass("ps-container")||setTimeout(function(){a.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2)}function active_modal(e){e.hasClass("active_modal")?M(".overlay_modal").removeClass("active_modal"):(e.addClass("active_modal"),e.find("form").find("input").eq(0).focus(),M("html").addClass("modal_mobile")),function close_modal(e){var a=e.find(".close");a.click(function(){a.closest(".active_modal").removeClass("active_modal"),M("html").removeClass("modal_mobile")})}(e)}function flex_refresh_search(){var L,e,a,t;!1!==$&&(L=!!arguments.length,!1!==D&&(e=map.getBounds(),t=map.getCenter(),a=map.getZoom(),M("#idx_center").val(t.lat()+" "+t.lng()),M("#idx_zoom").val(a),M("#idx_bounds").val([e.getNorthEast().lat(),e.getNorthEast().lng(),e.getSouthWest().lat(),e.getSouthWest().lng()].join(" ")),console.dir({center:{lat:t.lat(),lng:t.lng()},bounds:[e.getNorthEast().lat(),e.getNorthEast().lng(),e.getSouthWest().lat(),e.getSouthWest().lng()],zoom:a})),t=M("#flex-idx-search-form").serialize(),M("html, body").animate({scrollTop:0},700),M("#filter-views ul li.active").click(),M("#wrap-list-result").addClass("ib-loading-results"),M.ajax({url:flex_idx_search_params.lookupSearch,method:"POST",data:{idx:t,access_token:flex_idx_search_params.accessToken,flex_credentials:Cookies.get("ib_lead_token")},dataType:"json",success:function(e){"undefined"!=typeof iboost_track_gid&&0<e.total&&gtag("event","Listing_view",{send_to:__flex_g_settings.g_adwords_account,listing_search_term:e.keyword+" "+e.heading.price.min+" to "+e.heading.price.max,listing_pagetype:"searchresults",listing_totalvalue:e.total});var a=[],t=[],s=e.items,l=e.paging,r=e.search_labels,i="",n="",o="",i="Any Price"==r.range_price?word_translate.any_price:((labelPriceTemp=r.range_price.split(" - ")).forEach(function(e,a){"Any Price"==e&&(labelPriceTemp[a]=word_translate.any_price)}),labelPriceTemp.join(" - ")),n="Any Bed"==r.range_bed?word_translate.any_bed:((labelBedTemp=r.range_bed.split(" - ")).forEach(function(e,a){"Any Bed"==e&&(labelBedTemp[a]=word_translate.any_bed)}),labelBedTemp.join(" - ")),o="Any Bath"==r.range_bath?word_translate.any_bath:((labelBathTemp=r.range_bed.split(" - ")).forEach(function(e,a){"Any Bath"==e&&(labelBathTemp[a]=word_translate.any_bath)}),labelBathTemp.join(" - ")),i=(M("#text-price").html(i),M("#text-beds").html(n),M("#text-baths").html(o),"Homes, Condominiums"==r.property_type?M("#text-type").html(word_translate.homes_condominiums):"Condominiums"==r.property_type?M("#text-type").html(word_translate.condominiums):"Homes, Condominiums, Townhouses"==r.property_type?M("#text-type").html(word_translate.homes_condominiums_townhouses):"Homes"==r.property_type?M("#text-type").html(word_translate.homes):M("#text-type").html(word_translate.type),M("#properties-found").html("<span>"+_.formatShortPrice(e.total)+"</span> "+word_translate.properties),M("#fs_inner_c").html(_.formatShortPrice(e.total)),M("#info-subfilters").html(word_translate.showing+" "+l.offset.start+" "+word_translate.to+" "+l.offset.end+" "+word_translate.of+" "+_.formatPrice(e.total)+" "+word_translate.properties+"."),labelPricemax="Any Price"==e.heading.price.max?word_translate.any_price:((labelPricemaxTemp=e.heading.price.max.split(" - ")).forEach(function(e,a){"Any Price"==e&&(labelPricemaxTemp[a]=word_translate.any_price)}),labelPricemaxTemp.join(" - ")),console.log(e.keyword),e.keyword.replace("Condominiums",word_translate.condominiums).replace("Single Family Homes",word_translate.single_family_homes).replace("Townhouses",word_translate.townhouses).replace(" and "," "+word_translate.and+" ").replace(" in "," "+word_translate.in+" ")+" "+word_translate.from+" "+e.heading.price.min+" "+word_translate.to+" "+labelPricemax);M("#title-subfilters").html(i),document.title=i;for(var d=0,p=s.length;d<p;d++){var c,m=e.items[d],h=(m.address_short=m.address_short.replace(/# /,"#"),m.address_large=m.address_large.replace(/ , /,", "),m.address_large.split(", ")),h=(v=null!=h[1]?(c=h[1].replace(/[\d\s]/g,""),h[0]+", "+h[1]):(c=h[0],h[0]),m.address_short+" "+h[0]+", "+c),g='<div class="ms-title-address -address-top">'+m.address_short+'</div><div class="ms-br-line">,</div><div class="ms-title-address -address-bottom">'+v+"</div>",v="<span>"+m.address_short+" "+v+"</span>",h=(a.push('<li data-geocode="'+m.lat+":"+m.lng+'" data-class-id="'+m.class_id+'" data-mls="'+m.mls_num+'" data-address="'+m.address_short+'" class="propertie">'),1==m.status&&"yes"===m.recently_listed&&a.push('<div class="flex-property-new-listing">'+word_translate.new_listing+"</div>"),6==m.status&&a.push('<div class="flex-property-new-listing">'+m.status_name+"</div>"),a.push('<h2 title="'+h+'" class="ms-property-address">'+g+"</h2>"),a.push('<ul class="features">'),a.push('<li class="address">'+v+"</li>"),a.push('<li class="price"><a href="'+flex_idx_search_params.propertyDetailPermalink+"/"+m.slug+'">$'+_.formatPrice(m.price)+"</a></li>"),""==m.reduced?a.push('<li class="pr">'+m.reduced+"</li>"):m.reduced<0?a.push('<li class="pr down">'+m.reduced+"%</li>"):a.push('<li class="pr up">'+m.reduced+"%</li>"),word_translate.beds),v=word_translate.baths,h=1<m.bed?word_translate.beds:word_translate.bed,v=1<m.bath?word_translate.baths:word_translate.bath,h=(a.push('<li class="beds">'+m.bed+" <span>"+h+" </span></li>"),0<m.baths_half?a.push('<li class="baths">'+m.bath+".5 <span>"+v+" </span></li>"):a.push('<li class="baths">'+m.bath+" <span>"+v+" </span></li>"),a.push('<li class="living-size"> <span>'+_.formatPrice(m.sqft)+"</span>"+word_translate.sqft+" <span>("+m.living_size_m2+" m²)</span></li>"),a.push('<li class="price-sf"><span>$'+m.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+m.price_sqft_m2+" m²)</span></li>"),""!==m.development&&null!=m.development?a.push('<li class="development"><span>'+m.development+"</span></li>"):""!==m.complex&&"null"!=m.complex?a.push('<li class="development"><span>'+m.complex+"</span></li>"):a.push('<li class="development"><span>'+m.subdivision+"</span></li>"),e.payload.hasOwnProperty("board_info")&&e.board_info.hasOwnProperty("board_logo_url")&&""!=e.board_info.board_logo_url&&null!=e.board_info.board_logo_url&&a.push('<li class="ms-logo-board"><img src="'+e.board_info.board_logo_url+'"></li>'),a.push("</ul>"),"");m.gallery.length<=1&&(h="no-zoom"),a.push('<div class="wrap-slider '+h+'">'),a.push("<ul>");for(var u=0,f=m.gallery.length;u<f;u++)a.push(u<=0?'<li class="flex-slider-current"><img class="flex-lazy-image" data-original="'+m.gallery[u]+'"></li>':'<li class="flex-slider-item-hidden"><img class="flex-lazy-image" data-original="'+m.gallery[u]+'"></li>');a.push("</ul>"),1<m.gallery.length&&(a.push('<button class="prev flex-slider-prev"><span class="clidxboost-icon-arrow-select"></span></button>'),a.push('<button class="next flex-slider-next"><span class="clidxboost-icon-arrow-select"></span></button>')),1==m.status&&(m.is_favorite?a.push('<button class="clidxboost-btn-check flex-favorite-btn" data-alert-token="'+m.token_alert+'"><span class="clidxboost-icon-check active"></span></button>'):a.push('<button class="clidxboost-btn-check flex-favorite-btn"><span class="clidxboost-icon-check"></span></button>')),a.push("</div>"),1==m.status?(m.is_favorite,a.push('<a href="'+flex_idx_search_params.propertyDetailPermalink+"/"+m.slug+'" class="view-detail show-modal-properties">'+g+"</a>")):(m.is_favorite,a.push('<a href="'+flex_idx_search_params.propertyDetailPermalink+"/pending-"+m.slug+'" class="view-detail show-modal-properties">'+g+"</a>")),a.push("</li>")}if(0<e.total?M("#result-search").html(a.join("")):M("#result-search").html('<h3 style="margin:5px 30px 30px 30px;">Try <strong><a class="ib-refresh-tab" href="'+__flex_g_settings.searchUrl+'">refreshing the page</a></strong> to include more results. Or, change your search criteria.</h3>'),1<l.pages){t.push('<span id="indicator">'+word_translate.pag+" "+l.current+" "+word_translate.of+" "+_.formatPrice(l.pages)+"</span>"),l.prev_page&&1<l.pages&&(t.push('<a href="#" data-page="1" title="'+word_translate.first_page+'" id="firstp" class="ad visible">'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push("<span>"+word_translate.first_page+"</span>"),t.push("</a>")),l.prev_page&&(t.push('<a href="#" data-page="'+(l.current-1)+'" title="Prev Page" id="prevn" class="arrow clidxboost-icon-arrow-select prevn visible">'),t.push("<span>Previous page</span>"),t.push("</a>")),t.push('<ul id="principal-nav">');for(d=0,p=l.range.length;d<p;d++){var x=l.range[d];l.current===x?t.push('<li class="active"><a href="#" data-page="'+x+'">'+x+"</a></li>"):t.push('<li><a href="#" data-page="'+x+'">'+x+"</a></li>")}t.push("</ul>"),l.next_page&&(t.push('<a href="#" data-page="'+(l.current+1)+'" title="Prev Page" id="nextn" class="arrow clidxboost-icon-arrow-select nextn visible">'),t.push("<span>"+word_translate.next_page+"</span>"),t.push("</a>")),l.next_page&&1<l.pages&&(t.push('<a href="#" data-page="'+l.pages+'" title="'+word_translate.first_page+'" id="lastp" class="ad visible">'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push('<span class="clidxboost-icon-arrow-select"></span>'),t.push("<span>"+word_translate.last_page+"</span>"),t.push("</a>"))}M("#flex-spinner-load").hide(),!1===D&&M("#wrap-result").show(),M("#nav-results").html(t.join("")).ready(function(){idxboostTypeIcon(),"function"==typeof ppchack&&ppchack()}),M(".flex-loading-ct").fadeIn();n=flex_idx_search_params.searchUrl+"/"+e.uri+"/order-"+e.sort+"/view-"+e.view+"/page-"+e.paging.current,history.pushState(null,"",n),M("#flex-idx-search-form").data("search_slug",e.uri),M("#flex-idx-search-form").data("save_slug",n),M("#flex-idx-search-form").data("save_query",encodeURIComponent(e.condition)),M("#flex-idx-search-form").data("save_count",e.total),M("#flex-idx-search-form").data("next_page",e.paging.next_page),M("#flex-idx-search-form").data("current_page",e.paging.current),void 0!==G&&G.isOpen()&&G.close(),M("#wrap-list-result").scrollTop(0),removeMarkers(),o=e.map_items;if(google.maps.event.trigger(map,"resize"),e.hasOwnProperty("kml_boundaries")&&null!=e.kml_boundaries){if(polygons.length){for(d=0,p=polygons.length;d<p;d++)polygons[d].setMap(null);polygons.length=0}autoMapSearch=!1;for(var y=e.kml_boundaries.split(","),w=new google.maps.MVCArray,b=0,C=y.length;b<C;b++){var k=y[b].split(" ");w.push(new google.maps.LatLng(k[0],k[1]))}r=new google.maps.Polygon({path:w,editable:!1,strokeWeight:1,strokeColor:"#31239a",fillOpacity:.1,strokeOpacity:.8,fillColor:"#31239a"});r.setMap(map),polygons.push(r)}!function setupMarkers(e,a){var t,s,l,r=new google.maps.LatLngBounds;(G=new InfoBubble({map:map,disableAutoPan:!0,shadowStyle:0,padding:0,borderRadius:0,borderWidth:0,disableAnimation:!0,maxWidth:380})).addListener("domready",function(){M(".ib-load-property-iw").on("click",function(e){e.preventDefault(),e.stopPropagation();var a,e=M(this).data("mls");"yes"===__flex_g_settings.anonymous?(M("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),M("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),M("#modal_login").find(".item_tab").removeClass("active"),M("#tabRegister").addClass("active"),M("button.close-modal").addClass("ib-close-mproperty"),M(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),M("#modal_login h2").html(M("#modal_login").find("[data-tab]:eq(1)").data("text-force")),a=M(".header-tab a[data-tab='tabRegister']").attr("data-text"),M("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(a),localStorage.setItem("ib_anon_mls",e)):(M("html").addClass("modal_mobile"),M("#modal_property_detail").addClass("active_modal"),M("#modal_property_detail .detail-modal").html('<span class="ib-modal-property-loading">Loading property details...</span>'),M.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{mlsNumber:e,action:"load_modal_property"},success:function(e){M(document.body).addClass("modal-property-active"),M("#modal_property_detail .detail-modal").html(e)},complete:function(){M("#full-main #clidxboost-data-loadMore-niche").trigger("click"),loadFullSlider(".clidxboost-full-slider")}}))})});for(var i=0,n=e.length;i<n;i++)l=e[i],ee=l.lat+":"+l.lng,-1===_.indexOf(P,ee)&&(P.push(ee),I.push(l));for(i=0,n=I.length;i<n;i++){l=I[i],ee=[l.lat,l.lng];for(var o=[],d=0,p=e.length;d<p;d++)(inner=e[d]).lat==ee[0]&&inner.lng==ee[1]&&o.push(inner);q.push({item:l,group:o})}for(centerBounds=new google.maps.LatLngBounds,i=0;i<q.length;i++)s=q[i],(t=new RichMarker({position:new google.maps.LatLng(s.item.lat,s.item.lng),map:map,flat:!0,content:1<s.group.length?'<div class="dgt-richmarker-group"><strong>'+s.group.length+"</strong><span>Units</span></div>":'<div class="dgt-richmarker-single"><strong>$'+_.formatShortPrice(s.item.price)+"</strong></div>",anchor:RichMarkerPosition.TOP})).geocode=s.item.lat+":"+s.item.lng,r.extend(t.position),Y.push(t),centerBounds.extend(t.position),google.maps.event.addListener(t,"click",function handleMarkerClick(n,o,d){return function(){if(1<o.group.length){K.push('<div class="mapview-container">'),K.push('<div class="mapviwe-header">'),K.push("<h2>"+o.item.heading+"</h2>"),K.push('<span class="build">'+o.group.length+"</span>"),K.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),K.push("</div>"),K.push('<div class="mapviwe-body">');for(var e=0,a=o.group.length;e<a;e++){var t=o.group[e],s=(K.push('<div class="mapviwe-item">'),K.push('<h2 title="'+t.address_short.replace(/ , /,", ")+'"><span>'+t.address_short.replace(/ , /,", ")+"</span></h2>"),K.push("<ul>"),K.push('<li class="address"><span>'+t.address_large.replace(/ , /,", ")+"</span></li>"),K.push('<li class="price">$'+_.formatPrice(t.price)+"</li>"),word_translate.beds),l=word_translate.baths,s=1<t.bed?word_translate.beds:word_translate.bed,l=1<t.bath?word_translate.baths:word_translate.bath;K.push('<li class="beds"><b>'+t.bed+"</b> <span> "+s+"</span></li>"),K.push('<li class="baths"><b>'+t.bath+"</b> <span> "+l+"</span></li>"),K.push('<li class="living-size"> <span>'+_.formatPrice(t.sqft)+"</span> Sq.Ft.<span>("+t.living_size_m2+" m²)</span></li>"),K.push('<li class="price-sf"><span>$'+t.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+t.price_sqft_m2+" m²)</span></li>"),K.push("</ul>"),K.push('<div class="mapviwe-img">'),__flex_g_settings.hasOwnProperty("board_info")&&__flex_g_settings.board_info.hasOwnProperty("board_logo_url")&&!["",null,void 0,"undefined","null"].includes(__flex_g_settings.board_info.board_logo_url)?K.push('<img title="'+t.address_short+", "+t.address_large+'" alt="'+t.address_short+", "+t.address_large+'" src="'+t.gallery[0]+'"><img src="'+__flex_g_settings.board_info.board_logo_url+'" style="position: absolute;bottom: 10px;z-index: 2;width: 80px;right: 10px;height:auto">'):K.push('<img title="'+t.address_short+", "+t.address_large+'" alt="'+t.address_short+", "+t.address_large+'" src="'+t.gallery[0]+'">'),K.push("</div>"),1==t.status?K.push('<a class="ib-load-property-iw" data-mls="'+t.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/"+t.slug+'" title="'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+'">'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+"</a>"):K.push('<a class="ib-load-property-iw" data-mls="'+t.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/pending-"+t.slug+'" title="'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+'">'+t.address_short.replace(/ # /," #")+", "+t.address_large.replace(/ , /,", ")+"</a>"),K.push("</div>")}}else{K.push('<div class="mapview-container">'),K.push('<div class="mapviwe-header">'),K.push("<h2>"+o.item.heading+"</h2>"),K.push('<button class="closeInfo"><span>'+word_translate.close+"</span></button>"),K.push("</div>"),K.push('<div class="mapviwe-body">'),K.push('<div class="mapviwe-item">'),K.push('<h2 title="'+o.item.address_short.replace(/ , /,", ")+'"><span>'+o.item.address_short.replace(/ , /,", ")+"</span></h2>"),K.push("<ul>"),K.push('<li class="address"><span>'+o.item.address_large.replace(/ , /,", ")+"</span></li>"),K.push('<li class="price">$'+_.formatPrice(o.item.price)+"</li>");var r=word_translate.beds,i=word_translate.baths,r=1<o.item.bed?word_translate.beds:word_translate.bed,i=1<o.item.bath?word_translate.baths:word_translate.bath;K.push('<li class="beds"><b>'+o.item.bed+"</b> <span> "+r+"</span></li>"),K.push('<li class="baths"><b>'+o.item.bath+"</b> <span> "+i+"</span></li>"),K.push('<li class="living-size"> <span>'+_.formatPrice(o.item.sqft)+"</span> "+word_translate.sqft+"<span>("+o.item.living_size_m2+" m²)</span></li>"),K.push('<li class="price-sf"><span>$'+o.item.price_sqft+" </span>/ "+word_translate.sqft+"<span>($"+o.item.price_sqft_m2+" m²)</span></li>"),K.push("</ul>"),K.push('<div class="mapviwe-img">'),__flex_g_settings.hasOwnProperty("board_info")&&__flex_g_settings.board_info.hasOwnProperty("board_logo_url")&&!["",null,void 0,"undefined","null"].includes(__flex_g_settings.board_info.board_logo_url)?K.push('<img title="'+o.item.address_short+", "+o.item.address_large+'" alt="'+o.item.address_short+", "+o.item.address_large+'" src="'+o.item.gallery[0]+'"><img src="'+__flex_g_settings.board_info.board_logo_url+'" style="position: absolute;bottom: 10px;z-index: 2;width: 80px;right: 10px;height:auto">'):K.push('<img title="'+o.item.address_short+", "+o.item.address_large+'" alt="'+o.item.address_short+", "+o.item.address_large+'" src="'+o.item.gallery[0]+'">'),K.push("</div>"),1==o.item.status?K.push('<a class="ib-load-property-iw" data-mls="'+o.item.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/"+o.item.slug+'" title="'+o.item.address_short.replace(/ # /," #")+", "+o.item.address_large.replace(/ , /,", ")+'">'+o.item.address_short+", "+o.item.address_large.replace(/ # /," #")+"</a>"):K.push('<a class="ib-load-property-iw" data-mls="'+o.item.mls_num+'" href="'+flex_idx_search_params.propertyDetailPermalink+"/pending-"+o.item.slug+'" title="'+o.item.address_short.replace(/ # /," #")+", "+o.item.address_large.replace(/ , /,", ")+'">'+o.item.address_short+", "+o.item.address_large.replace(/ # /," #")+"</a>"),K.push("</div>")}K.push("</div>"),K.push("</div>"),K.length&&(G.setContent(K.join("")),G.open(d,n),K.length=0)}}(t,s,map)),google.maps.event.addListener(t,"mouseover",function handleMarkerMouseOver(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX+1)}}(t)),google.maps.event.addListener(t,"mouseout",function handleMarkerMouseOut(e){return function(){e.setZIndex(google.maps.Marker.MAX_ZINDEX-1)}}(t));!1!==autoMapSearch&&""==M("#idx_keyword").val()&&""==M("#idx_polygon").val()||!1!==a||""==M("#idx_keyword").val()&&""==M("#idx_polygon").val()||map.fitBounds(r)}(o,L),M("#wrap-list-result").removeClass("ib-loading-results"),void 0!==myLazyLoad&&myLazyLoad.update(),function setInitialStateSlider(){M("#wrap-result").find(".wrap-slider > ul li:first").each(function(){M(this).addClass("flex-slider-current")})}(),!1===se&&(M("#wrap-result").hasClass("view-map")&&(google.maps.event.trigger(map,"resize"),setTimeout(function(){var e=map.getCenter(),a=map.getZoom();if(google.maps.event.trigger(map,"resize"),!1===J)for(var t=new google.maps.LatLngBounds,s=0,l=Y.length;s<l;s++)t.extend(Y[s].position);else map.setCenter(e),map.setZoom(a)},100)),se=!0),idxboostTypeIcon()}}))}function mutaSelectViews(e){var a,t;e?X.find("ul").length||(e=X.find("option:selected").val(),X.find("option").each(function(){M(this).replaceWith('<li class="'+M(this).val()+'">'+M(this).text()+"</li>")}),(a=X.find("select")).replaceWith("<ul>"+a.html()+"</ul>"),X.find("."+e).addClass("active"),X.removeClass(e)):X.find("select").length||(a=X.find(".active").index(),e=X.find(".active").attr("class").split(" ")[0],X.find("li").each(function(){M(this).replaceWith('<option value="'+M(this).attr("class").split(" ")[0]+'">'+M(this).text()+"</option>")}),(t=X.find("ul")).replaceWith("<select>"+t.html()+"</select>"),X.find("option").eq(a).prop("selected",!0).siblings().prop("selected",!1),X.addClass(e)),new LazyLoad({callback_error:function(e){M(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),M(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}function handleMapDrag(){var e=map.getCenter(),a=map.getZoom(),t=map.getBounds(),t=[t.getNorthEast().lat(),t.getNorthEast().lng(),t.getSouthWest().lat(),t.getSouthWest().lng()].join(" ");if(M("#idx_center").val(e.lat()+" "+e.lng()),M("#idx_zoom").val(a),M("#idx_bounds").val(t),t!=lastBounds){if(""==M("#idx_keyword").val()&&""==M("#idx_polygon").val()){if(!1===D)return;flex_refresh_search()}lastBounds=t}}function handleZoomInButton(e){e.stopPropagation(),e.preventDefault(),void 0!==G&&G.isOpen()&&G.close(),l&&(google.maps.event.clearListeners(map.getDiv(),"mousedown"),google.maps.event.removeListener(d),stopDrawingMap(),M("#idx_page").val(1),M("#idx_polygon").val(""),flex_refresh_search());e=map.getCenter();map.setZoom(map.getZoom()+1),map.setCenter(e)}function handleZoomOutButton(e){e.stopPropagation(),e.preventDefault(),void 0!==G&&G.isOpen()&&G.close(),l&&(google.maps.event.clearListeners(map.getDiv(),"mousedown"),google.maps.event.removeListener(d),stopDrawingMap(),M("#idx_page").val(1),M("#idx_polygon").val(""),flex_refresh_search());e=map.getCenter();map.setZoom(map.getZoom()-1),map.setCenter(e)}function handleDrawEraseButton(e){e.stopPropagation(),e.preventDefault(),google.maps.event.clearListeners(map.getDiv(),"mousedown"),google.maps.event.removeListener(d),stopDrawingMap(),M("#idx_page").val(1),M("#idx_polygon").val(""),flex_refresh_search(),o.setMap(null),removeMarkers(),M(".flex-map-draw-erase").hide()}function handleDrawButton(e){if(e.stopPropagation(),e.preventDefault(),M(e.target).hasClass("flex-map-is-drawing")){if(p.classList.remove("flex-map-is-drawing"),M(".flex-shown-map").html("Draw Your Map"),M(".flex-shown-map").css("width","112px"),M(".flex-shown-map").css("left","-121px"),void 0!==G&&G.isOpen()&&G.close(),autoMapSearch=!0,polygons.length){for(var a=0,t=polygons.length;a<t;a++)polygons[a].setMap(null);polygons.length=0}""!=M("idx_polygon").val()&&(M("#idx_page").val(1),M("#idx_polygon").val(""),flex_refresh_search(),removeMarkers())}else{if(void 0!==G&&G.isOpen()&&G.close(),polygons.length)for(a=0,t=polygons.length;a<t;a++)polygons[a].setVisible(!1);if(M(".flex-map-controls-ct").hide(),M("#wrap-map-draw-actions").css("display","flex"),M("#wrap-map").addClass("mp-btn"),drawingManager.setMap(map),autoMapSearch=!1,Y.length)for(a=0,t=Y.length;a<t;a++)Y[a].setVisible(!1)}}function stopDrawingMap(){map.setOptions({draggable:!0,zoomControl:!0}),void 0!==G&&G.isOpen()&&G.close(),p.classList.remove("flex-map-is-drawing"),M(".flex-shown-map").html("Draw Your Map"),M(".flex-shown-map").css("width","112px"),M(".flex-shown-map").css("left","-121px"),l=!1}function setupMapControls(){(s=document.createElement("div")).classList.add("flex-map-controls-ct"),(r=document.createElement("div")).classList.add("flex-map-zoomIn"),s.appendChild(r),(i=document.createElement("div")).classList.add("flex-map-zoomOut"),s.appendChild(i),(p=document.createElement("div")).innerHTML='<span class="flex-shown-map">'+word_translate.draw_your_map+"</span>",p.classList.add("flex-map-draw"),s.appendChild(p),(n=document.createElement("div")).classList.add("flex-map-draw-erase"),s.appendChild(n),google.maps.event.addDomListener(r,"click",handleZoomInButton),google.maps.event.addDomListener(i,"click",handleZoomOutButton),google.maps.event.addDomListener(p,"click",handleDrawButton),google.maps.event.addDomListener(n,"click",handleDrawEraseButton),map.controls[google.maps.ControlPosition.TOP_RIGHT].push(s)}function removeMarkers(){if(P.length&&(P.length=0),I.length&&(I.length=0),q.length&&(q.length=0),Y.length){for(var e=0,a=Y.length;e<a;e++)Y[e].setMap(null);Y.length=0}}"undefined"!=typeof flex_idx_search_params&&(e=flex_idx_search_params.params,O=_.pluck(e.cities,"name"),z=_.pluck(e.baths_range,"value"),S=_.pluck(e.beds_range,"value"),j=_.pluck(e.living_size_range,"value"),T=_.pluck(e.lot_size_range,"value"),A=_.pluck(e.price_rent_range,"value"),B=_.pluck(e.price_sale_range,"value"),Z=_.pluck(e.year_built_range,"value"),ae=_.pluck(e.property_types,"value"),$=!1,M("#wrap-list-result"),V=M(window),F=M("body"),M(function(){M("#result-search").on("mouseover",">li",function(e){if(M(this).hasClass("propertie")){var a=M(this).data("geocode");if(void 0!==a&&a.length)for(var t=0,s=Y.length;t<s;t++)if(a==Y[t].geocode){new google.maps.event.trigger(Y[t],"click");break}}}),M("#result-search").on("mouseleave",">li",function(e){void 0!==G&&G.isOpen()&&G.close()}),M("body").on("touchstart",".slider-generator .propertie",function(e){xDown=e.originalEvent.touches[0].clientX,yDown=e.originalEvent.touches[0].clientY}),M("body").on("touchmove",".slider-generator .propertie",function(e){var a,t;xDown&&yDown&&(a=e.originalEvent.touches[0].clientX,t=e.originalEvent.touches[0].clientY,a=xDown-a,t=yDown-t,Math.abs(a)>Math.abs(t)&&(e.preventDefault(),(0<a?M(this).find(".next"):M(this).find(".prev")).click()),yDown=xDown=null)}),(X=M("#filter-views")).length&&(s=M("#wrap-result"),X.on("change","select",function(e){if(void 0!==e.originalEvent){switch(M(this).find("option:selected").val()){case"grid":X.removeClass("list map").addClass("grid"),s.removeClass("view-list view-map").addClass("view-grid"),F.removeClass("view-list view-map"),M(".open-map").removeClass("hide"),M(".close-map").addClass("hide"),M("#idx_view").val("grid"),void 0!==myLazyLoad&&myLazyLoad.update();break;case"list":X.removeClass("grid map").addClass("list"),s.removeClass("view-grid view-map").addClass("view-list"),F.addClass("view-list").removeClass("view-map"),M(".open-map").removeClass("hide"),M(".close-map").addClass("hide"),M("#idx_view").val("list");break;case"map":X.removeClass("list grid").addClass("map"),s.removeClass("view-list view-grid").addClass("view-map"),F.removeClass("view-list fixed-active").addClass("view-map"),M("#idx_view").val("map"),google.maps.event.trigger(map,"resize"),setTimeout(function(){var e=map.getCenter(),a=map.getZoom();if(google.maps.event.trigger(map,"resize"),!1===J)for(var t=new google.maps.LatLngBounds,s=0,l=Y.length;s<l;s++)t.extend(Y[s].position);else map.setCenter(e),map.setZoom(a)},100)}var e=M("#flex-idx-search-form").data("search_slug"),a=M("#idx_sort").val(),t=M("#flex-idx-search-form").data("current_page"),e=[flex_idx_search_params.searchUrl,e,"order-"+a,"view-"+M("#idx_view").val(),"page-"+t].join("/");history.pushState(null,"",e)}}),X.on("click","li",function(e){if(void 0!==e.originalEvent){switch(console.log("clicked"),M(this).addClass("active").siblings().removeClass("active"),M(this).attr("class").split(" ")[0]){case"grid":s.removeClass("view-list view-map").addClass("view-grid"),F.removeClass("view-list view-map"),M(".open-map").removeClass("hide"),M(".close-map").addClass("hide"),void 0!==myLazyLoad&&myLazyLoad.update(),M("#idx_view").val("grid");break;case"list":s.removeClass("view-grid view-map").addClass("view-list"),F.addClass("view-list").removeClass("view-map"),M(".open-map").removeClass("hide"),M(".close-map").addClass("hide"),M("#idx_view").val("list");break;case"map":s.removeClass("view-list view-grid").addClass("view-map"),F.removeClass("view-list fixed-active").addClass("view-map"),M("#idx_view").val("map"),google.maps.event.trigger(map,"resize"),void 0!==centerBounds&&map.fitBounds(centerBounds)}var e=M("#flex-idx-search-form").data("search_slug"),a=M("#idx_sort").val(),t=M("#flex-idx-search-form").data("current_page"),e=[flex_idx_search_params.searchUrl,e,"order-"+a,"view-"+M("#idx_view").val(),"page-"+t].join("/");history.pushState(null,"",e)}})),768<=V.width()&&mutaSelectViews(!0),V.on("resize",function(){var e=V.width();768<=e?mutaSelectViews(!0):e<768&&mutaSelectViews(!1)});var s,l,r,i,n,o,d,p,c,m,h,g,v,u=M("#cities-list"),f=(u.length&&V.on("resize",function(){u.hasClass("ps-container")&&u.perfectScrollbar("update")}),M("#mini-filters")),x=(f.length&&f.find("h4").on("click",function(){var e=M(this).parents("li");e.toggleClass("expanded").siblings().removeClass("expanded"),e.hasClass("cities")&&!u.hasClass("ps-container")&&(setTimeout(function(){u.perfectScrollbar({suppressScrollX:!0,minScrollbarLength:"42"})},1e3*Number(e.css("transition-duration").replace("s",""))*2),creaScrollTemporal(e,u))}),M("#filters")),y=(x.length&&(l=M("#all-filters"),r=M("#wrap-filters"),x.on("click","button",function(){M("#mini-filters .price").addClass("expanded");var e=M(this).parent(),a=e.attr("class").split(" ")[0],t=f.find("li."+a);!t.length&&"all"!==a||(e.toggleClass("active").siblings().removeClass("active"),"all"===a?(l.hasClass("visible")?l.hasClass("individual")&&l.hasClass("visible")?l.removeClass("individual"):!l.hasClass("individual")&&l.hasClass("visible")&&l.removeClass("visible"):l.addClass("visible"),r.width()<=959&&M("html").toggleClass("fixed"),r.width()<=640?l.css({top:r.outerHeight()+r.position().top+"px",left:"0px",height:"calc(100vh - "+(r.outerHeight()+x.find("li.save").outerHeight())+"px)"}):640<r.width()&&r.width()<=959?l.hasClass("neighborhood")?(l.removeAttr("style"),l.css({top:r.outerHeight()+"px",right:"0",left:"auto",transform:"none"})):l.css({left:"0px",top:r.outerHeight()+"px",height:"calc(100vh - "+(r.outerHeight()+i.outerHeight())+"px)"}):(l.removeAttr("style"),l.css("top",r.outerHeight()+"px"),creaScrollTemporal(l,u))):(M("html").hasClass("fixed")&&M("html").removeClass("fixed"),e.hasClass("active")?(t.addClass("visible").siblings().removeClass("visible"),l.hasClass("individual")||(l.addClass("individual"),l.css("height","auto")),l.hasClass("visible")||l.addClass("visible"),l.css({top:r.outerHeight()+"px",left:e.position().left+e.outerWidth()/2-150+"px"})):(l.removeClass("visible"),t.removeClass("visible"),e.removeClass("active"),setTimeout(function(){l.removeClass("individual")},1e3*Number(l.css("transition-duration").replace("s",""))))))}),(i=M("#apply-filters")).length&&i.on("click",function(){x.find(".all button").trigger("click")}),M(document).on("mouseup",function(e){!l.hasClass("visible")||r.is(e.target)||0!==r.has(e.target).length||x.find(".active button").trigger("click")})),M("#autocomplete-ajax").on("click",function(){l.hasClass("visible")&&959<M("body").width()&&(M("#filters > li").removeClass("active"),M("#all-filters").removeClass("visible individual"),M("#cities-list").appendTo("#autocomplete-dropdown-ct"))}),R=M("#autocomplete-ajax"),(H=M("#autocomplete-ajax-min")).length&&(H.autocomplete({source:function(e,a){M.ajax({url:__flex_g_settings.suggestions.service_url,dataType:"json",data:{term:e.term,board:__flex_g_settings.suggestions.board},success:function(e){a(e)}})},appendTo:"#flex_search_keyword_form_min",minLength:3,select:function(e,a){var t=a.item.id.split(/\|/),s=t[0],t=t[1],s=encodeURIComponent(s+"|"+t);M("#idx_keyword").val(s),M("#idx_page").val(1),R.val(a.item.label),flex_refresh_search()},close:function(e,a){M(this)},create:function(e,a){M(this).attr("autocomplete","disabled")}}),M("#autocomplete-ajax").on("search",function(){if(""==this.value){if(polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}autoMapSearch=!0,M("#idx_page").val(1),M("#idx_keyword").val(""),flex_refresh_search()}}),M("#autocomplete-ajax-min").on("search",function(){if(""==this.value){if(polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}autoMapSearch=!0,M("#idx_page").val(1),M("#idx_keyword").val(""),flex_refresh_search()}}),H.on({focus:function(){""==M(this).val()&&M("#cities-list").appendTo("#cities-list-wrap")},keypress:function(){M("#cities-list").appendTo("#cities-list-wrap")},change:function(){if(""==M(this).val()){if(R.val(""),M("#idx_keyword").val(""),polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}flex_refresh_search()}},click:function(e){e.stopPropagation(),""==M(this).val()&&M("#cities-list").appendTo("#cities-list-wrap")}})),R.length&&(R.autocomplete({source:function(e,a){M.ajax({url:__flex_g_settings.suggestions.service_url,dataType:"json",data:{term:e.term,board:__flex_g_settings.suggestions.board},success:function(e){a(e)}})},minLength:3,appendTo:"#flex_search_keyword_form",select:function(e,a){var t=a.item.id.split(/\|/),s=t[0],t=t[1],s=encodeURIComponent(s+"|"+t);M("#idx_keyword").val(s),M("#idx_page").val(1),H.val(a.item.label),flex_refresh_search()},close:function(e,a){M(this)}}),R.on({focus:function(){""==M(this).val()&&M("#cities-list").appendTo("#autocomplete-dropdown-ct")},keypress:function(e){M("#cities-list").appendTo("#cities-list-wrap")},change:function(){""==M(this).val()&&(H.val(""),M("#idx_keyword").val(""),flex_refresh_search())},click:function(e){e.stopPropagation(),""==M(this).val()&&M("#cities-list").appendTo("#autocomplete-dropdown-ct")}})),M("#result-search").scroll(function(){new LazyLoad({callback_error:function(e){M(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),M(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}})}),M("#flex_search_keyword_form").on("submit",function(e){e.preventDefault();e=R.val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.length&&(e=M.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e)?(M("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)"),flex_refresh_search()):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(M("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)"),flex_refresh_search()):-1<M.inArray(e,O)?(M("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)"),flex_refresh_search()):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)&&(M("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)"),flex_refresh_search()))}),M("#autocomplete-ajax").on("keyup",function(e){13===e.which&&e.preventDefault()}),M("#autocomplete-ajax-min").on("keyup",function(e){if(13===e.which&&(e=M(this).val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).length){if(e=M.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e))M("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)");else if(/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e))M("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)");else{for(var a=[],e=e.toLowerCase(),t=0,s=O.length;t<s;t++)a[t]=O[t].toLowerCase();var l=M.inArray(e,a);-1<l?(e=O[l],M("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)")):(M("#idx_keyword").val(e+"|address"),R.val(e+" (Address)"),H.val(e+" (Address)"))}flex_refresh_search()}}),M("#submit-ms").on("click",function(){event.preventDefault();var e=R.val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.length&&(e=M.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e)?(M("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)")):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(M("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)")):-1<M.inArray(e,O)?(M("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)")):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(M("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)")):(M("#idx_keyword").val(e+"|address"),R.val(e+" (Address)"),H.val(e+" (Address)")),flex_refresh_search())}),M("#submit-ms-min").on("click",function(){var e=H.val().trim().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()});e.length&&(e=M.trim(e.replace(/\(.*\)?/,"")),/^[\d+]{5}$/.test(e)?(M("#idx_keyword").val(e+"|zip"),R.val(e+" (Zip)"),H.val(e+" (Zip)")):/^[0-9a-zA-Z]{7,9}$/.test(e)&&/[0-9]/.test(e)&&!1===/\s/.test(e)?(M("#idx_keyword").val(e+"|mls"),R.val(e+" (MLS)"),H.val(e+" (MLS)")):-1<M.inArray(e,O)?(M("#idx_keyword").val(e+"|city"),R.val(e+" (City)"),H.val(e+" (City)")):(M("#idx_keyword").val(e+"|address"),R.val(e+" (Address)"),H.val(e+" (Address)")),flex_refresh_search())}),M(document.body).on("click",function(e){"LI"!==e.target.nodeName&&M("#cities-list").appendTo("#cities-list-wrap")}),M("#cities-list").on("click","li",function(){var e=M(this).html(),a=M(this).data("slug");R.val(e+" (City)"),H.val(e+" (City)"),M("#idx_keyword").val(a),M("#cities-list").appendTo("#cities-list-wrap"),M("#idx_page").val(1),flex_refresh_search()}),M("#flex_save_search_btn, #save-button-responsive, .create-alert-footer").on("click",function(){var e;event.stopPropagation(),event.preventDefault(),"yes"===flex_idx_search_params.anonymous?(M("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),M("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),M("#modal_login").find(".item_tab").removeClass("active"),M("#tabRegister").addClass("active"),M("button.close-modal").addClass("ib-close-mproperty"),M(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),M("#modal_login h2").html(M("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=M(".header-tab a[data-tab='tabRegister']").attr("data-text"),M("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):"no"===flex_idx_search_params.anonymous&&500<M("#flex-idx-search-form").data("save_count")?sweetAlert(word_translate.oops,word_translate.you_cannot_save_search_with_more_than_500_properties,"error"):(M("#flex-idx-search-form").data("save_slug"),M("#flex-idx-search-form").data("save_count"),active_modal(M("#modal_save_search")),setTimeout(function(){M("#modal_properties_send").find(".close").click()},2e3),name)}),M(".iboost-alert-change-interval").on("change",function(){switch(M(this).val()){case"1":case"7":case"30":M(".flex-save-type-options").prop("disabled",!1),M(".flex-save-type-options").prop("disabled",!1);break;default:M(".flex-save-type-options").prop("checked",!1),M(".flex-save-type-options").prop("disabled",!0)}}),M("#form-save").on("submit",function(e){var a=[],e=(M('input[name="notification_type[]"]:checked').each(function(){a.push(this.value)}),e.preventDefault(),M("#input_sname_search").val().trim()),t=M("#flex-idx-search-form").data("save_slug"),s=M("#flex-idx-search-form").data("save_count"),l=decodeURIComponent(M("#flex-idx-search-form").data("save_query")),r=M(".iboost-alert-change-interval:eq(0)").val();if(null!=e&&0<e.length){if(1==r||7==r)if(M(".flex-save-type-options:checked").length<=0)return void sweetAlert(word_translate.oops,word_translate.youmust_selectat_least_one_checkbox_from_below,"error");M.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_save_search",search_url:t,search_count:s,name:e,notification_day:M(".notification_day_class").val(),notification_type:a,search_query:l,type:"add"},dataType:"json",success:function(e){!0===e.success?(swal({title:word_translate.search_saved,text:word_translate.your_search_has_been_saved_successfuly,type:"success",timer:2e3,showConfirmButton:!1}),M("#modal_save_search").removeClass("active_modal"),M("#input_sname_search").val(""),M('input[name="notification_type[]"]').each(function(){this.checked=!1}),M(".notification_day_class").val("--")):sweetAlert(word_translate.oops,e.message,"error")}})}else sweetAlert(word_translate.oops,word_translate.you_must_provide_a_name_for_this_search,"error")}),M("#form-update").on("submit",function(e){var a=[],e=(M('input[name="notification_type[]"]:checked').each(function(){a.push(this.value)}),e.preventDefault(),M("#input_sname_search").val()),t=M("#flex-idx-search-form").data("save_slug"),s=M("#flex-idx-search-form").data("save_count");null!=e&&0<e.length?M.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_save_search",search_url:t,search_count:s,name:e,notification_day:M(".notification_day_class").val(),notification_type:a,type:"update"},dataType:"json",success:function(e){1==e.success?(M("#modal_save_search").removeClass("active_modal"),swal({title:word_translate.search_saved,text:word_translate.your_search_has_been_saved_successfuly,type:"success",timer:2e3,showConfirmButton:!1}),M("#input_sname_search").val(""),M('input[name="notification_type[]"]').each(function(){this.checked=!1}),M(".notification_day_class").val("--")):sweetAlert(word_translate.oops,e.message,"error")}}):sweetAlert(word_translate.oops,word_translate.you_must_provide_a_name_for_this_search,"error")}),M(".update_search_over").on("click",function(){event.stopPropagation(),event.preventDefault(),M("#input_sname_search").val(M(this).attr("txtedit")),active_modal(M("#modal_save_search")),setTimeout(function(){M("#modal_properties_send").find(".close").click()},2e3)}),M(document).on("click",".flex-favorite-btn",function(e){e.stopPropagation();var a,t,s,l=M(this);"yes"===flex_idx_search_params.anonymous?(M("#modal_login").addClass("active_modal").find("[data-tab]").removeClass("active"),M("#modal_login").addClass("active_modal").find("[data-tab]:eq(1)").addClass("active"),M("#modal_login").find(".item_tab").removeClass("active"),M("#tabRegister").addClass("active"),M("button.close-modal").addClass("ib-close-mproperty"),M(".overlay_modal").css("background-color","rgba(0,0,0,0.8);"),M("#modal_login h2").html(M("#modal_login").find("[data-tab]:eq(1)").data("text-force")),e=M(".header-tab a[data-tab='tabRegister']").attr("data-text"),M("#modal_login .modal_cm .content_md .heder_md .ms-title-modal").html(e)):(e=M(this).parents(".propertie").data("class-id"),a=M(this).parents(".propertie").data("mls"),t=M(this).parents(".propertie").data("address"),M(this).find(".clidxboost-icon-check").hasClass("active")?(M(this).find(".clidxboost-icon-check").removeClass("active"),s=M(this).attr("data-alert-token"),M.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_favorite",class_id:e,mls_num:a,type_action:"remove",token_alert:s},dataType:"json",success:function(e){var a=0;(a=parseInt(jQuery(".clidxboost-icon-favorite span span").text())-1)<0&&(a=0),M(".clidxboost-icon-favorite span span").text(a),M(l).attr("data-alert-token","")}})):(M(this).find(".clidxboost-icon-check").addClass("active"),M.ajax({url:flex_idx_search_params.ajaxUrl,method:"POST",data:{action:"flex_favorite",class_id:e,mls_num:a,subject:t,type_action:"add"},dataType:"json",success:function(e){var a=1+parseInt(jQuery(".clidxboost-icon-favorite span span").text());M(".clidxboost-icon-favorite span span").text(a),M(l).attr("data-alert-token",e.token_alert)}})))}),(W=M("#flex_waterfront_switch")).length&&W.on("change",function(){var e=M(this);M("#idx_water_desc").val(e.val()),M("#idx_page").val(1),flex_refresh_search()}),(W=M("#flex_parking_switch")).length&&W.on("change",function(){var e=M(this);M("#idx_parking").val(e.val()),M("#idx_page").val(1),flex_refresh_search()}),(W=M("#nav-results")).length&&W.on("click","a",function(e){e.preventDefault();e=M(this).data("page");M("#idx_page").val(e),flex_refresh_search()}),(W=M("#flex_filter_sort")).length&&W.on("change",function(){var e=M(this);M("#idx_sort").val(e.val()),M("#idx_page").val(1),flex_refresh_search()}),W=M("#range-baths"),a=M("#range-beds"),t=M("#range-living"),E=M("#range-land"),Q=M("#range-price"),N=M("#range-price-rent"),U=M("#range-year"),M(".property_type_checkbox").on("change",function(){var e,a=M(".property_type_checkbox:checked");a.length?(e=[],a.each(function(){e.push(M(this).val())}),e.length&&M("#idx_property_type").val(e.join("|"))):M("#idx_property_type").val(ae.join("|")),M("#idx_page").val(1),flex_refresh_search()}),M(".amenities_checkbox").on("change",function(){var e,a=M(".amenities_checkbox:checked");a.length?(e=[],a.each(function(){e.push(M(this).val())}),M("#idx_features").val(e.join("|"))):M("#idx_features").val(""),M("#idx_page").val(1),flex_refresh_search()}),(te=M(".flex_search_rental_switch")).length&&te.on("click",function(){var e=M(this);e.hasClass("active")||(te.removeClass("active"),e.addClass("active"),M(".price_ranges_ct").hide(),"for-sale"==(e=e.attr("id"))?(M(".price_range_for_sale").show(),M("#idx_rental").val(0)):"for-rent"==e&&(M(".price_range_for_rent").show(),M("#idx_rental").val(1)),M("#idx_page").val(1),flex_refresh_search())}),W.length&&W.slider({range:!0,min:0,max:z.length-1,step:1,slide:function(e,a){a.values[0],a.values[1]},create:function(e,a){var t="--"===M("#idx_min_baths").val()?z[0]:parseFloat(M("#idx_min_baths").val(),10),s="--"===M("#idx_max_baths").val()?z[z.length-1]:parseFloat(M("#idx_max_baths").val(),10),l=M(this),t="--"===M("#idx_min_baths").val()?0:z.indexOf(t),s="--"===M("#idx_max_baths").val()?z.length-1:z.indexOf(s);l.slider("values",[t,s])},change:function(e,a){var t=a.values[0],a=a.values[1],t=z[t]==z[0]?"--":z[t],a=z[a]==z[z.length-1]?"--":z[a];M("#idx_min_baths").val(t),M("#idx_max_baths").val(a),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),a.length&&a.slider({range:!0,min:0,max:S.length-1,step:1,slide:function(e,a){a.values[0],a.values[1]},create:function(e,a){var t="--"===M("#idx_min_beds").val()?S[0]:parseInt(M("#idx_min_beds").val(),10),s="--"===M("#idx_max_beds").val()?S[S.length-1]:parseInt(M("#idx_max_beds").val(),10),l=M(this),t="--"===M("#idx_min_beds").val()?0:S.indexOf(t),s="--"===M("#idx_max_beds").val()?S.length-1:S.indexOf(s);l.slider("values",[t,s])},change:function(e,a){var t=a.values[0],a=a.values[1],t=S[t]==S[0]?"--":S[t],a=S[a]==S[S.length-1]?"--":S[a];M("#idx_min_beds").val(t),M("#idx_max_beds").val(a),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),t.length&&t.slider({range:!0,min:0,max:j.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];M("#living_from").val(_.formatPrice(j[t])+" "+word_translate.sqft),37==a?M("#living_to").val(word_translate.any_size):M("#living_to").val(_.formatPrice(j[a])+" "+word_translate.sqft),m=j[t],h=j[a]},create:function(e,a){var t="--"===M("#idx_living_area_min").val()?j[0]:parseInt(M("#idx_living_area_min").val(),10),s="--"===M("#idx_living_area_max").val()?j[j.length-1]:parseInt(M("#idx_living_area_max").val(),10),l=M(this),r="--"===M("#idx_living_area_min").val()?0:j.indexOf(t),i="--"===M("#idx_living_area_max").val()?j.length-1:j.indexOf(s);l.slider("values",[r,i]),M("#living_from").val(_.formatPrice(t)+" "+word_translate.sqft),8e4==s?M("#living_to").val(word_translate.any_size):M("#living_to").val(_.formatPrice(s)+" "+word_translate.sqft)},change:function(e,a){var t=a.values[0],a=a.values[1];M("#idx_living_area_min").val(j[t]),M("#idx_living_area_max").val(j[a]),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),E.length&&E.slider({range:!0,min:0,max:T.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];M("#land_from").val(_.formatPrice(T[t])+" "+word_translate.sqft),37==a?M("#land_to").val(word_translate.any_size):M("#land_to").val(_.formatPrice(T[a])+" "+word_translate.sqft),p=T[t],c=T[a]},create:function(e,a){var t="--"===M("#idx_lot_size_min").val()?j[0]:parseInt(M("#idx_lot_size_min").val(),10),s="--"===M("#idx_lot_size_max").val()?j[j.length-1]:parseInt(M("#idx_lot_size_max").val(),10),l=M(this),r="--"===M("#idx_lot_size_min").val()?0:j.indexOf(t),i="--"===M("#idx_lot_size_max").val()?j.length-1:j.indexOf(s);l.slider("values",[r,i]),M("#land_from").val(_.formatPrice(t)+" "+word_translate.sqft),8e4==s?M("#land_to").val(word_translate.any_size):M("#land_to").val(_.formatPrice(s)+" "+word_translate.sqft)},change:function(e,a){var t=a.values[0],a=a.values[1];0==t||37==t?M("#idx_lot_size_min").val("--"):M("#idx_lot_size_min").val(T[t]),0==a||37==a?M("#idx_lot_size_max").val("--"):M("#idx_lot_size_max").val(T[a]),M("#idx_lot_size_min").val(T[t]),M("#idx_lot_size_max").val(T[a]),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),Q.length&&Q.slider({range:!0,min:0,max:B.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];M("#price_from").val("$"+_.formatPrice(B[t])),48==a?M("#price_to").val(word_translate.any_price):M("#price_to").val("$"+_.formatPrice(B[a])),n=B[t],o=B[a]},create:function(e,a){var t="--"===M("#idx_min_price_sale").val()?B[0]:parseInt(M("#idx_min_price_sale").val(),10),s="--"===M("#idx_max_price_sale").val()?B[B.length-1]:parseInt(M("#idx_max_price_sale").val(),10),l=M(this),r="--"===M("#idx_min_price_sale").val()?0:B.indexOf(t),i="--"===M("#idx_max_price_sale").val()?B.length-1:B.indexOf(s);l.slider("values",[r,i]),M("#price_from").val("$"+_.formatPrice(t)),1e8==s?M("#price_to").val(word_translate.any_price):M("#price_to").val("$"+_.formatPrice(s))},change:function(e,a){var t=a.values[0],a=a.values[1];M("#idx_min_price_sale").val(B[t]),M("#idx_max_price_sale").val(B[a]),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),N.length&&N.slider({range:!0,min:0,max:A.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];M("#price_rent_from").val("$"+_.formatPrice(A[t])),30==a?M("#price_rent_to").val(word_translate.any_price):M("#price_rent_to").val("$"+_.formatPrice(A[a])),d=A[t],A[a]},create:function(e,a){var t="--"===M("#idx_min_price_rent").val()?A[0]:parseInt(M("#idx_min_price_rent").val(),10),s="--"===M("#idx_max_price_rent").val()?A[A.length-1]:parseInt(M("#idx_max_price_rent").val(),10),l=M(this),r="--"===M("#idx_min_price_rent").val()?0:A.indexOf(t),i="--"===M("#idx_max_price_rent").val()?A.length-1:A.indexOf(s);l.slider("values",[r,i]),M("#price_rent_from").val("$"+_.formatPrice(t)),1e5==s?M("#price_rent_to").val(word_translate.any_price):M("#price_rent_to").val("$"+_.formatPrice(s))},change:function(e,a){var t=a.values[0],a=a.values[1];M("#idx_min_price_rent").val(A[t]),M("#idx_max_price_rent").val(A[a]),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),U.length&&U.slider({range:!0,min:0,max:Z.length-1,step:1,slide:function(e,a){var t=a.values[0],a=a.values[1];M("#year_from").val(Z[t]),M("#year_to").val(Z[a]),g=Z[t],v=Z[a]},create:function(e,a){var t="--"===M("#idx_min_year").val()?Z[0]:parseInt(M("#idx_min_year").val(),10),s="--"===M("#idx_max_year").val()?Z[Z.length-1]:parseInt(M("#idx_max_year").val(),10),l=M(this),r="--"===M("#idx_min_year").val()?0:Z.indexOf(t),i="--"===M("#idx_max_year").val()?Z.length-1:Z.indexOf(s);l.slider("values",[r,i]),M("#year_from").val(t),M("#year_to").val(s)},change:function(e,a){var t=a.values[0],a=a.values[1];0==t||120==t?M("#idx_min_year").val("--"):M("#idx_min_year").val(Z[t]),0==a||120==a?M("#idx_max_year").val("--"):M("#idx_max_year").val(Z[a]),!0===$&&M("#idx_page").val(1),flex_refresh_search()}}),M("#price_from")),w=M("#price_to"),b=(y.length&&(y.data("min-price",B[0]),y.data("max-price",B[B.length-1]),n=parseInt(y.val().trim().replace(/\D/g,""),10),y.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?n:parseInt(e,10),M(this).val("$"+_.formatPrice(e))}),y.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("min-price"):parseInt(t,10))<M(this).data("min-price")?t=M(this).data("min-price"):t>M(this).data("max-price")&&(t=M(this).data("max-price")),t>parseInt(w.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(w.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-price")):(M("#price_from").val(t),M("#idx_min_price_sale").val(t),e=B.indexOf(t),a=B.indexOf(parseInt(w.val().trim().replace(/\D/g,""),10)),n=t,-1!==e&&-1!==a&&M("#range-price").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val("$"+_.formatPrice(t))})),w.length&&(w.data("min-price",B[0]),w.data("max-price",B[B.length-1]),o=parseInt(w.val().trim().replace(/\D/g,""),10),w.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?o:parseInt(e,10),M(this).val("$"+_.formatPrice(e))}),w.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("max-price"):parseInt(t,10))<M(this).data("min-price")?t=M(this).data("min-price"):t>M(this).data("max-price")&&(t=M(this).data("max-price")),t<parseInt(y.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(y.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-price")):(M("#price_to").val(t),M("#idx_max_price_sale").val(t),e=B.indexOf(parseInt(y.val().trim().replace(/\D/g,""),10)),a=B.indexOf(t),o=t,-1!==e&&-1!==a&&M("#range-price").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val("$"+_.formatPrice(t))})),M("#price_rent_from")),C=M("#price_rent_to"),k=(b.length&&(b.data("min-price",A[0]),b.data("max-price",A[A.length-1]),d=parseInt(b.val().trim().replace(/\D/g,""),10),b.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?d:parseInt(e,10),M(this).val("$"+_.formatPrice(e))}),b.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("min-price"):parseInt(t,10))<M(this).data("min-price")?t=M(this).data("min-price"):t>M(this).data("max-price")&&(t=M(this).data("max-price")),t>parseInt(C.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(C.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-price")):(M("#price_rent_from").val(t),M("#idx_min_price_rent").val(t),e=A.indexOf(t),a=A.indexOf(parseInt(C.val().trim().replace(/\D/g,""),10)),d=t,-1!==e&&-1!==a&&M("#range-price-rent").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val("$"+_.formatPrice(t))})),C.length&&(C.data("min-price",A[0]),C.data("max-price",A[A.length-1]),flex_input_max_price_rent_old_value=parseInt(C.val().trim().replace(/\D/g,""),10),C.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?flex_input_max_price_rent_old_value:parseInt(e,10),M(this).val(_.formatPrice(e)+" Sq.Ft.")}),C.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("max-price"):parseInt(t,10))<M(this).data("min-price")?t=M(this).data("min-price"):t>M(this).data("max-price")&&(t=M(this).data("max-price")),t<parseInt(b.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(b.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-price")):(M("#price_rent_to").val(t),M("#idx_max_price_rent").val(t),e=A.indexOf(parseInt(b.val().trim().replace(/\D/g,""),10)),a=A.indexOf(t),flex_input_max_price_rent_old_value=t,-1!==e&&-1!==a&&M("#range-price-rent").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val("$"+_.formatPrice(t))})),M("#land_from")),L=M("#land_to"),D=(k.length&&(k.data("min-sqft",j[0]),k.data("max-sqft",j[j.length-1]),p=parseInt(k.val().trim().replace(/\D/g,""),10),k.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?p:parseInt(e,10),M(this).val(_.formatPrice(e)+" Sq.Ft.")}),k.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("min-sqft"):parseInt(t,10))<M(this).data("min-sqft")?t=M(this).data("min-sqft"):t>M(this).data("max-sqft")&&(t=M(this).data("max-sqft")),t>parseInt(L.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(L.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-sqft")):(M("#land_from").val(t),M("#idx_lot_size_min").val(t),e=j.indexOf(t),a=j.indexOf(parseInt(L.val().trim().replace(/\D/g,""),10)),p=t,-1!==e&&-1!==a&&M("#range-land").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),L.length&&(L.data("min-sqft",j[0]),L.data("max-sqft",j[j.length-1]),c=parseInt(L.val().trim().replace(/\D/g,""),10),L.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?c:parseInt(e,10),M(this).val(_.formatPrice(e)+" "+word_translate.sqft)}),L.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("max-sqft"):parseInt(t,10))<M(this).data("min-sqft")?t=M(this).data("min-sqft"):t>M(this).data("max-sqft")&&(t=M(this).data("max-sqft")),t<parseInt(k.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(k.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-sqft")):(M("#land_to").val(t),M("#idx_lot_size_max").val(t),e=j.indexOf(parseInt(k.val().trim().replace(/\D/g,""),10)),a=j.indexOf(t),c=t,-1!==e&&-1!==a&&M("#range-land").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),M("#living_from")),P=M("#living_to"),I=(D.length&&(D.data("min-sqft",j[0]),D.data("max-sqft",j[j.length-1]),m=parseInt(D.val().trim().replace(/\D/g,""),10),D.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?m:parseInt(e,10),M(this).val(_.formatPrice(e)+" "+word_translate.sqft)}),D.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("min-sqft"):parseInt(t,10))<M(this).data("min-sqft")?t=M(this).data("min-sqft"):t>M(this).data("max-sqft")&&(t=M(this).data("max-sqft")),t>parseInt(P.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(P.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-sqft")):(M("#living_from").val(t),M("#idx_living_area_min").val(t),e=j.indexOf(t),a=j.indexOf(parseInt(P.val().trim().replace(/\D/g,""),10)),m=t,-1!==e&&-1!==a&&M("#range-living").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),P.length&&(P.data("min-sqft",j[0]),P.data("max-sqft",j[j.length-1]),h=parseInt(P.val().trim().replace(/\D/g,""),10),P.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?h:parseInt(e,10),M(this).val(_.formatPrice(e)+" Sq.Ft.")}),P.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("max-sqft"):parseInt(t,10))<M(this).data("min-sqft")?t=M(this).data("min-sqft"):t>M(this).data("max-sqft")&&(t=M(this).data("max-sqft")),t<parseInt(D.val().trim().replace(/\D/g,""),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(D.val().trim().replace(/\D/g,""),10)),t=M(this).data("min-sqft")):(M("#living_to").val(t),M("#idx_living_area_max").val(t),e=j.indexOf(parseInt(D.val().trim().replace(/\D/g,""),10)),a=j.indexOf(t),h=t,-1!==e&&-1!==a&&M("#range-living").slider("values",[e,a]),M("#idx_page").val(1),flex_refresh_search()),M(this).val(_.formatPrice(t)+" "+word_translate.sqft)})),M("#year_from")),q=M("#year_to");I.length&&(I.data("min-year",Z[0]),I.data("max-year",Z[Z.length-1]),g=parseInt(I.val(),10),I.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?g:parseInt(e,10),M(this).val(e)}),I.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("min-year"):parseInt(t,10))<M(this).data("min-year")?t=M(this).data("min-year"):t>M(this).data("max-year")&&(t=M(this).data("max-year")),t>parseInt(q.val(),10)?(alert("current value must be less than or equal to "+parseInt(q.val(),10)),t=M(this).data("min-year")):(M("#year_from").val(t),M("#idx_min_year").val(t),e=Z.indexOf(t),a=Z.indexOf(parseInt(q.val(),10)),g=t,M("#idx_page").val(1),M("#range-year").slider("values",[e,a])),M(this).val(t)})),q.length&&(q.data("min-year",Z[0]),q.data("max-year",Z[Z.length-1]),v=parseInt(q.val(),10),q.on("blur",function(){var e=jQuery(this).val().trim();e="string"==typeof(e=e.replace(/\D/g,""))&&0===e.length?v:parseInt(e,10),M(this).val(e)}),q.on("change",function(){var e,a,t=jQuery(this).val().trim();(t="string"==typeof(t=t.replace(/\D/g,""))&&0===t.length?M(this).data("max-year"):parseInt(t,10))<M(this).data("min-year")?t=M(this).data("min-year"):t>M(this).data("max-year")&&(t=M(this).data("max-year")),t<parseInt(I.val(),10)?(alert(word_translate.current_value_must_be_less_than_or_equal_to+" "+parseInt(I.val(),10)),t=M(this).data("max-year")):(M("#year_to").val(t),M("#idx_max_year").val(t),e=Z.indexOf(parseInt(I.val(),10)),a=Z.indexOf(t),v=t,M("#idx_page").val(1),M("#range-year").slider("values",[e,a])),M(this).val(t)}))}),M(function(){M("#map-draw-cancel-tg").on("click",function(){if(M(".flex-map-controls-ct").show(),M("#wrap-map-draw-actions").css("display","none"),M("#wrap-map").removeClass("mp-btn"),drawingManager.setMap(null),autoMapSearch=!0,polygons.length&&(1<polygons.length?(polygons[0].setVisible(!0),polygons[1].setMap(null),polygons.pop()):polygons[0].setVisible(!0)),""==M("#idx_keyword").val("")&&""==M("#idx_polygon").val("")&&polygons.length){for(var e=0,a=polygons.length;e<a;e++)polygons[e].setMap(null);polygons.length=0}if(Y.length)for(e=0,a=Y.length;e<a;e++)Y[e].setVisible(!0)}),M("#map-draw-apply-tg").on("click",function(){if(polygons.length){p.classList.add("flex-map-is-drawing"),M(".flex-shown-map").html("Remove Boundaries"),M(".flex-shown-map").css("width","134px"),M(".flex-shown-map").css("left","-148px"),drawingManager.setMap(null),autoMapSearch=!1,M(".flex-map-controls-ct").show(),M("#wrap-map-draw-actions").css("display","none"),M("#wrap-map").removeClass("mp-btn");var e=[];if(polygons.length)for(n=0,o=(polygons=1<polygons.length?[polygons[1]]:polygons).length;n<o;n++){polygons[n].set("editable",!1);for(var a=polygons[n].getPath(),t=a.getArray(),s=[],l=0,r=t.length;l<r;l++)s.push({lat:t[l].lat(),lng:t[l].lng()});t.length&&s.push({lat:a.getAt(0).lat(),lng:a.getAt(0).lng()}),e[n]=s}if(e.length){if(Y.length)for(n=0,o=Y.length;n<o;n++)Y[n].setMap(null);for(var i=[],n=0,o=e[0].length;n<o;n++)i.push(e[0][n].lat+" "+e[0][n].lng);var d="POLYGON(("+i.join(",")+"))";M("#idx_page").val(1),M("#idx_polygon").val(d),flex_refresh_search()}}else if(M(".flex-map-controls-ct").show(),M("#wrap-map-draw-actions").css("display","none"),M("#wrap-map").removeClass("mp-btn"),drawingManager.setMap(null),autoMapSearch=!0,Y.length)for(var n=0,o=Y.length;n<o;n++)Y[n].setVisible(!0)})}),D=J=l=!(Y=[]),P=[],I=[],q=[],K=[],se=![],M(function(){M("#map-actions").on("click","button",function(){M("#wrap-list-result").toggleClass("closed"),M(this).addClass("hide").siblings().removeClass("hide"),setTimeout(function(){google.maps.event.trigger(map,"resize"),setTimeout(function(){google.maps.event.trigger(map,"resize")},200)},100)})}),null!==document.getElementById("code-map")&&google.maps.event.addDomListener(window,"load",function initialize(){myLazyLoad=new LazyLoad({elements_selector:".flex-lazy-image",callback_error:function(e){M(e).attr("src","https://idxboost.com/i/default_thumbnail.jpg").removeClass("error").addClass("loaded"),M(e).attr("data-origin","https://idxboost.com/i/default_thumbnail.jpg")}});var e,a=M("#idx_center").val(),t=M("#idx_zoom").val();a=""==a?new google.maps.LatLng(25.789138662506385,-80.15144241556732):(e=a.split(" "),new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1]))),t=""==t?14:parseInt(t,10),map=new google.maps.Map(document.getElementById("code-map"),{center:a,mapTypeId:google.maps.MapTypeId.ROADMAP,zoom:t,disableDoubleClickZoom:!0,scrollwheel:!1,panControl:!1,streetViewControl:!1,disableDefaultUI:!0,clickableIcons:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}}),M("#wrap-result").show(),google.maps.event.addListenerOnce(map,"idle",function(){var e,a=map.getCenter(),t=map.getZoom(),s=map.getBounds();M("#idx_center").val(a.lat()+" "+a.lng()),M("#idx_zoom").val(t),M("#idx_bounds").val([s.getNorthEast().lat(),s.getNorthEast().lng(),s.getSouthWest().lat(),s.getSouthWest().lng()].join(" ")),console.dir({center:[a.lat(),a.lng()],zoom:t,bounds:[s.getNorthEast().lat(),s.getNorthEast().lng(),s.getSouthWest().lat(),s.getSouthWest().lng()]}),!1===mapNotLoaded&&($=mapNotLoaded=!0,M("#flex-idx-search-form").length&&(flex_refresh_search(),!1===initLoadMLSAnonymous&&(initLoadMLSAnonymous=!0,null!==(e=localStorage.getItem("ib_anon_mls"))&&(console.log(e),"no"===__flex_g_settings.anonymous&&(setTimeout(function(){M("html").addClass("modal_mobile"),M("#modal_property_detail").addClass("active_modal"),M("#modal_property_detail .detail-modal").html('<span class="ib-modal-property-loading">Loading property details...</span>'),M.ajax({type:"POST",url:__flex_g_settings.ajaxUrl,data:{mlsNumber:e,action:"load_modal_property"},success:function(e){M(document.body).addClass("modal-property-active"),M("#modal_property_detail .detail-modal").html(e)},complete:function(){M("#full-main #clidxboost-data-loadMore-niche").trigger("click"),loadFullSlider(".clidxboost-full-slider")}})},1500),localStorage.removeItem("ib_anon_mls")))))),google.maps.event.addListener(map,"idle",_.debounce(handleMapDrag,700))}),(drawingManager=new google.maps.drawing.DrawingManager({drawingMode:google.maps.drawing.OverlayType.POLYGON,drawingControl:!1,drawingControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT,drawingModes:["polygon"]},polygonOptions:{editable:!1,strokeColor:"#31239a",fillOpacity:.1,strokeOpacity:.8,strokeWeight:1,fillColor:"#31239a"}})).setMap(null),google.maps.event.addListener(drawingManager,"overlaycomplete",function(e){var a=e.overlay;a.type=e.type,polygons.push(a),e.overlay.set("editable",!1),drawingManager.setMap(null)}),google.maps.event.addListenerOnce(map,"tilesloaded",setupMapControls)}),M(function(){M("#filter-views").on("click","li",function(){M(this).hasClass("map")?(D=!0,setTimeout(function(){var e=map.getCenter(),a=map.getZoom();if(google.maps.event.trigger(map,"resize"),!1===J)for(var t=new google.maps.LatLngBounds,s=0,l=Y.length;s<l;s++)t.extend(Y[s].position);else map.setCenter(e),map.setZoom(a)},100)):D=!1}),M("#result-search").on("mouseover",".propertie",function(e){})}))}(jQuery),function(s){s(function(){s(".allf-ss").on("click",function(){s("#flex_save_search_btn").click()}),s(".iboost-alert-change-interval:eq(0)").change(),s(document).on("click",".flex-slider-prev",function(e){e.stopPropagation();var e=s(this).prev().find("li.flex-slider-current").index(),a=s(this).prev().find("li").length,e=0===e?a-1:e-1;s(this).prev().find("li").removeClass("flex-slider-current"),s(this).prev().find("li").addClass("flex-slider-item-hidden"),s(this).prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),void 0!==myLazyLoad&&myLazyLoad.update()}),s(document).on("click",".flex-slider-next",function(e){e.stopPropagation();e=s(this).prev().prev().find("li.flex-slider-current").index();s(this).prev().prev().find("li").length-1<=e?e=0:e+=1,s(this).prev().prev().find("li").removeClass("flex-slider-current"),s(this).prev().prev().find("li").addClass("flex-slider-item-hidden"),s(this).prev().prev().find("li").eq(e).removeClass("flex-slider-item-hidden").addClass("flex-slider-current"),void 0!==myLazyLoad&&myLazyLoad.update()}),s("#hide_flex_alerts_msg").on("click",function(){s(this).parent().remove(),Cookies.set("flex_hide_alert_message","1")}),void 0===Cookies.get("flex_hide_alert_message")&&s("#box_flex_alerts_msg").show(),"#advanced"==window.location.hash&&setTimeout(function(){s(".f-as-trigger").click()},1e3);var e,a,t=s("#filter-views");t.length&&(e=s(window).width(),a=t.find("option:selected").val(),768<=e?t.removeClass(a):e<768&&t.addClass(a))})}(jQuery);