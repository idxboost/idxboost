import{t as e,r as s,j as t,V as o}from"./bootstrap-u-O4_caK.js";import{r as a}from"./i18n-CBvvWIm0.js";import{u as d}from"./state-DCJ-GHTM.js";import{i as n,d as i}from"./index-DIyOaLuc.js";import"./phone-input-DMd9JE98.js";const r=()=>{const r=d(),l=a.useRef(null),[c,m]=a.useState(""),[u,f]=a.useState(!1);a.useEffect(()=>{const e=e=>{const s=e.detail;s&&(m(s.video_url),f(!0))},s=()=>{f(!1),m("")};return window.addEventListener(n,e),window.addEventListener(i,s),()=>{window.removeEventListener(n,e),window.removeEventListener(i,s)}},[r]);const v=document.getElementById("wpadminbar"),p=v?.offsetHeight,[j,w]=a.useState(!1),x=a.useCallback(()=>{l.current&&(l.current.pause(),l.current.src="",l.current.load()),w(!1),setTimeout(()=>{e()},300)},[r]);if(a.useEffect(()=>{u&&setTimeout(()=>w(!0),100)},[u]),!u)return null;const E=document.getElementById("video-modal")||document.createElement("div");return E.id||(E.id="video-modal",document.body.appendChild(E)),s.createPortal(t.jsx("div",{className:"ms-sf-modal active "+(j?"in":""),tabIndex:-1,role:"dialog",id:"videoModal",children:t.jsx("div",{className:"ms-sf-modal-dialog",role:"document",children:t.jsxs("div",{className:"ms-sf-modal-content "+(j?"active":""),style:{top:p},children:[t.jsx("div",{className:"ms-sf-modal-body wrapperVideoModal",children:t.jsx(o,{ref:l,videoUrl:c,autoplay:!0,controls:!0,muted:!0,playsInline:!0})}),t.jsx("button",{className:"ms-sf-btn -close-modal -circle -standard -sm js-close-st-modal","data-id":"#videoModal",onClick:x,children:t.jsx("i",{className:"sf-icon-close"})})]})})}),E)};export{r as default};
